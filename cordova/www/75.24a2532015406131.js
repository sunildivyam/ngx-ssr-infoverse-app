(self.webpackChunkngx_ssr_infoverse_app=self.webpackChunkngx_ssr_infoverse_app||[]).push([[75],{5075:(te,G,M)=>{"use strict";M.r(G),M.d(G,{DashboardModule:()=>Vc});var y=M(6814),D=M(8990),v=M(228),c=M(1577),g=M(5861),m=M(7022),e=M(6689),_=M(7115);let E=(()=>{class r{constructor(t,n){this.fireAuthService=t,this.router=n}canActivate(t,n){return this.checkUserHasRole(t,n)}canActivateChild(t,n){return this.checkUserHasRole(t,n)}checkUserHasRole(t,n){var i=this;return(0,g.Z)(function*(){const O=i.router.parseUrl(`${t?.data.redirectUrl||"/login"}?returnUrl=${n.url}`);return!!(yield i.fireAuthService.currentUserHasRole(m.go.ADMIN))||O})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_.i),e.LFG(v.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),b=(()=>{class r{constructor(t,n){this.fireAuthService=t,this.router=n}canActivate(t,n){return this.checkUserHasRole(t,n)}canActivateChild(t,n){return this.checkUserHasRole(t,n)}checkUserHasRole(t,n){var i=this;return(0,g.Z)(function*(){const O=i.router.parseUrl(`${t?.data.redirectUrl||"/login"}?returnUrl=${n.url}`);return!!(yield i.fireAuthService.currentUserHasRole(m.go.AUTHOR))||O})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_.i),e.LFG(v.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var C=(()=>((C=C||{}).SingleSelect="single-select",C.MultiSelect="multi-select",C))(),A=M(2181),P=M(2694);const H=[{id:"isFeatured",title:"featured?",enabled:!1,type:C.SingleSelect,filter:{yesLabel:"Yes",noLabel:"No",value:!0}},{id:"inReview",title:"In-review?",enabled:!1,type:C.SingleSelect,filter:{yesLabel:"Yes",noLabel:"No",value:!0}},{id:"isLive",title:"Published?",enabled:!1,type:C.SingleSelect,filter:{yesLabel:"Live",noLabel:"offline",value:!0}}],q=[{id:"userId",title:"Author",enabled:!1,type:C.SingleSelect,filter:{yesLabel:"Mine",noLabel:"Others",value:!0}},{id:"features",title:"Choose Features",enabled:!0,type:C.MultiSelect,filter:{selectedValues:[],values:Object.keys(P.w).map(r=>({id:P.w[r],title:P.w[r]})),keyName:"id",valueName:"title"}}];var Y=M(6924),z=(()=>((z=z||{}).dashboardPage="dashboardPage",z.storiesHomePage="storiesHomePage",z.storyPage="storyPage",z.categoriesPage="categoriesPage",z.categoryPage="categoryPage",z.sitemapPage="sitemapPage",z.openaiPage="openaiPage",z))();const J={[z.dashboardPage]:{title:"Dashboard - {{companyName}}",description:"Manage your profile, stories, genres, quizes and more.",keywords:"Dashboard, add story, update story, write story, add quiz, update quiz, write quiz"},[z.storiesHomePage]:{title:"Manage Stories Dashboard - {{companyName}}",description:"Manage your stories, add, update and publish",keywords:"Dashboard, add story, update story, write story"},[z.categoriesPage]:{title:"Manage Genres Dashboard - {{companyName}}",description:"Manage your Genres, add, update and publish",keywords:"Dashboard, add genre, update genre, write genre"},[z.storyPage]:{title:"Manage Story Dashboard - {{companyName}}",description:"Manage your Story, add, update and publish",keywords:"Dashboard, add story, update story, write story"},[z.categoryPage]:{title:"Manage Genre Dashboard - {{companyName}}",description:"Manage your Genre, add, update and publish",keywords:"Dashboard, add genre, update genre, write genre"},[z.openaiPage]:{title:"Openai Dashboard - {{companyName}}",description:"Openai dashboard - generate content, images, stories, quizes and more with artificial intelligence",keywords:"Openai Dashboard, ai, artificial intelligence"},[z.sitemapPage]:{title:"Sitemap Dashboard - {{companyName}}",description:"Sitemap dashboard - generate content, images, stories, quizes and more with artificial intelligence",keywords:"Sitemap Dashboard, generate sitemap, update sitemap, xml, sitemap.xml"}};var Z=M(457),w=M(3010),a=M(5925);let l=(()=>{class r{constructor(t,n,i,s){this.metaService=t,this.appConfigService=n,this.utilsService=i,this.router=s}setPageMeta(t="",n="",i=[]){const s={...this.appConfigService.config.metaInfo},O={...s,title:t||s.title,description:n||s.description,keywords:i?.length?i.join(", "):s.keywords,"article:tag":i?.length?i.join(", "):s.keywords,"article:published_time":this.utilsService.currentDate,url:this.router.url};return this.metaService.setPageMeta(O),O}setDashboardPageMeta(t){let{title:n,description:i,keywords:s}=J[t];const O=this.appConfigService.config.name;n=n.replace("{{companyName}}",O),i=i.replace("{{companyName}}",O);const j=[...s.split(", "),O];return this.setPageMeta(n,i,j)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Z.R),e.LFG(w._),e.LFG(a.F),e.LFG(v.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var u=M(8693),T=M(7133),f=M(9589),U=M(26),k=M(7394);class Q extends k.w0{constructor(o,t){super()}schedule(o,t=0){return this}}const ne={setInterval(r,o,...t){const{delegate:n}=ne;return n?.setInterval?n.setInterval(r,o,...t):setInterval(r,o,...t)},clearInterval(r){const{delegate:o}=ne;return(o?.clearInterval||clearInterval)(r)},delegate:void 0};var le=M(9039);const de={now:()=>(de.delegate||Date).now(),delegate:void 0};class B{constructor(o,t=B.now){this.schedulerActionCtor=o,this.now=t}schedule(o,t=0,n){return new this.schedulerActionCtor(this,o).schedule(n,t)}}B.now=de.now;const pe=new class ue extends B{constructor(o,t=B.now){super(o,t),this.actions=[],this._active=!1}flush(o){const{actions:t}=this;if(this._active)return void t.push(o);let n;this._active=!0;do{if(n=o.execute(o.state,o.delay))break}while(o=t.shift());if(this._active=!1,n){for(;o=t.shift();)o.unsubscribe();throw n}}}(class oe extends Q{constructor(o,t){super(o,t),this.scheduler=o,this.work=t,this.pending=!1}schedule(o,t=0){var n;if(this.closed)return this;this.state=o;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(o,t,n=0){return ne.setInterval(o.flush.bind(o,this),n)}recycleAsyncId(o,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&ne.clearInterval(t)}execute(o,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(o,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,t){let i,n=!1;try{this.work(o)}catch(s){n=!0,i=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:o,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(n,this),null!=o&&(this.id=this.recycleAsyncId(t,o,null)),this.delay=null,super.unsubscribe()}}});var ee=M(9360),K=M(8251),se=M(3997),me=M(8645),$=M(95);function x(r,o){1&r&&(e.TgZ(0,"span",4),e._uU(1,"\u2315"),e.qZA())}function h(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.clearSearch())}),e._uU(1,"x"),e.qZA()}}let ce=(()=>{class r{constructor(){this.items=[],this.keys=[],this.placeholder="keywords...",this.changed=new e.vpe,this.keywords="",this.keywordsSubject=new me.x}filter(){return this.keywords?this.items.filter(n=>{let i=!1;return this.keys.forEach(s=>{let O=n[s]||"";if(s&&s.includes(".")){const j=s.split(".");O=n[j[0]]||"",j.forEach((X,ie)=>{ie>0?O="object"==typeof O&&null!==O?O[X]:null:"object"!=typeof O&&(O=null)})}else O=n[s];"string"==typeof O&&O.toLowerCase().includes(this.keywords.toLocaleLowerCase())&&(i=!0)}),i}):this.items}ngOnInit(){this.keywordsSubscription=this.keywordsSubject.pipe(function ae(r,o=pe){return(0,ee.e)((t,n)=>{let i=null,s=null,O=null;const j=()=>{if(i){i.unsubscribe(),i=null;const ie=s;s=null,n.next(ie)}};function X(){const ie=O+r,ge=o.now();if(ge<ie)return i=this.schedule(void 0,ie-ge),void n.add(i);j()}t.subscribe((0,K.x)(n,ie=>{s=ie,O=o.now(),i||(i=o.schedule(X,r),n.add(i))},()=>{j(),n.complete()},void 0,()=>{s=i=null}))})}(800),(0,se.x)()).subscribe(t=>{this.keywords=t;const n=this.filter();this.changed.emit(n)})}ngOnChanges(t){const n=this.filter();this.changed.emit(n)}ngOnDestroy(){this.keywordsSubscription&&this.keywordsSubscription.unsubscribe()}keywordsModelChanged(t){this.keywordsSubject.next(t)}clearSearch(){this.keywordsSubject.next("")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-search-box"]],inputs:{items:"items",keys:"keys",placeholder:"placeholder"},outputs:{changed:"changed"},features:[e.TTD],decls:4,vars:4,consts:[[1,"input-container","row","nowrap"],["type","text",3,"placeholder","ngModel","ngModelChange"],["class","btn primary",4,"ngIf"],["class","btn primary",3,"click",4,"ngIf"],[1,"btn","primary"],[1,"btn","primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"input",1),e.NdJ("ngModelChange",function(s){return n.keywordsModelChanged(s)}),e.qZA(),e.YNc(2,x,2,0,"span",2),e.YNc(3,h,2,0,"span",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("placeholder",n.placeholder)("ngModel",n.keywords),e.xp6(1),e.Q6J("ngIf",!n.keywords.length),e.xp6(1),e.Q6J("ngIf",n.keywords.length))},dependencies:[y.O5,$.Fj,$.JJ,$.On],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   input[type=text][_ngcontent-%COMP%]{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;font-size:2rem;color:var(--anu-accent-deep-light);margin-left:-2px;padding:0rem 1.5rem .3rem}@media screen and (max-width: 767px){[_nghost-%COMP%]   input[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1.5rem;width:auto}}@media screen and (min-width: 768px) and (max-width: 1023px){[_nghost-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1.8rem}}@media screen and (min-width: 1024px){[_nghost-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.7rem}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:2rem}}"]}),r})();var he=M(4229),I=M(2452),N=M(916);const W=["*"];let S=(()=>{class r{get isOpenMethod(){return this.opened}get isPositionMethod(){return[...this.positionClassNames,...this.overlayClassNames]}constructor(){this.opened=!1,this.positionClassNames=["drawer-left"],this.overlayClassNames=["drawer-content-pushed"]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-drawer"]],hostVars:4,hostBindings:function(t,n){2&t&&(e.Tol(n.isPositionMethod),e.ekj("drawer-opened",n.isOpenMethod))},inputs:{opened:"opened",positionClassNames:"positionClassNames",overlayClassNames:"overlayClassNames"},ngContentSelectors:W,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.Hsn(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;position:static;transition:all .5s;transition-property:max-height,max-width,transform,opacity;opacity:0}.drawer-opened[_nghost-%COMP%]{opacity:1}.drawer-opened.drawer-top[_nghost-%COMP%]{max-height:none;transform:scaleY(1)}.drawer-opened.drawer-top-sm[_nghost-%COMP%], .drawer-opened.drawer-top-md[_nghost-%COMP%], .drawer-opened.drawer-top-lg[_nghost-%COMP%]{max-height:none;transform:scaleY(1)}.drawer-opened.drawer-right[_nghost-%COMP%]{max-width:none;transform:scaleX(1)}.drawer-opened.drawer-right-sm[_nghost-%COMP%], .drawer-opened.drawer-right-md[_nghost-%COMP%], .drawer-opened.drawer-right-lg[_nghost-%COMP%]{max-width:none;transform:scaleX(1)}.drawer-opened.drawer-bottom[_nghost-%COMP%]{max-height:none;transform:scaleY(1)}.drawer-opened.drawer-bottom-sm[_nghost-%COMP%], .drawer-opened.drawer-bottom-md[_nghost-%COMP%], .drawer-opened.drawer-bottom-lg[_nghost-%COMP%]{max-height:none;transform:scaleY(1)}.drawer-opened.drawer-left[_nghost-%COMP%]{max-width:none;transform:scaleX(1);width:initial}.drawer-opened.drawer-left-sm[_nghost-%COMP%], .drawer-opened.drawer-left-md[_nghost-%COMP%], .drawer-opened.drawer-left-lg[_nghost-%COMP%]{max-width:none;transform:scaleX(1);width:initial}.drawer-content-pushed[_nghost-%COMP%]{position:static}@media screen and (max-width: 767px){.drawer-content-pushed-sm[_nghost-%COMP%]{position:static}}@media screen and (min-width: 768px) and (max-width: 1023px){.drawer-content-pushed-md[_nghost-%COMP%]{position:static}}@media screen and (min-width: 1024px){.drawer-content-pushed-lg[_nghost-%COMP%]{position:static}}.drawer-relative[_nghost-%COMP%]{position:absolute;z-index:900}@media screen and (max-width: 767px){.drawer-relative-sm[_nghost-%COMP%]{position:absolute;z-index:900}}@media screen and (min-width: 768px) and (max-width: 1023px){.drawer-relative-md[_nghost-%COMP%]{position:absolute;z-index:900}}@media screen and (min-width: 1024px){.drawer-relative-lg[_nghost-%COMP%]{position:absolute;z-index:900}}.drawer-window[_nghost-%COMP%]{position:fixed;max-width:100%;max-height:100%;z-index:900;overflow:auto}.drawer-window.drawer-opened.drawer-top[_nghost-%COMP%]{max-height:100%}.drawer-window.drawer-opened.drawer-top-sm[_nghost-%COMP%], .drawer-window.drawer-opened.drawer-top-md[_nghost-%COMP%], .drawer-window.drawer-opened.drawer-top-lg[_nghost-%COMP%]{max-height:100%}.drawer-window.drawer-opened.drawer-right[_nghost-%COMP%]{max-width:100%}.drawer-window.drawer-opened.drawer-right-sm[_nghost-%COMP%], .drawer-window.drawer-opened.drawer-right-md[_nghost-%COMP%], .drawer-window.drawer-opened.drawer-right-lg[_nghost-%COMP%]{max-width:100%}.drawer-window.drawer-opened.drawer-bottom[_nghost-%COMP%]{max-height:100%}.drawer-window.drawer-opened.drawer-bottom-sm[_nghost-%COMP%], .drawer-window.drawer-opened.drawer-bottom-md[_nghost-%COMP%], .drawer-window.drawer-opened.drawer-bottom-lg[_nghost-%COMP%]{max-height:100%}.drawer-window.drawer-opened.drawer-left[_nghost-%COMP%]{max-width:100%}.drawer-window.drawer-opened.drawer-left-sm[_nghost-%COMP%], .drawer-window.drawer-opened.drawer-left-md[_nghost-%COMP%], .drawer-window.drawer-opened.drawer-left-lg[_nghost-%COMP%]{max-width:100%}@media screen and (max-width: 767px){.drawer-window-sm[_nghost-%COMP%]{position:fixed;max-width:100%;max-height:100%;z-index:900;overflow:auto}.drawer-window-sm.drawer-opened.drawer-top[_nghost-%COMP%]{max-height:100%}.drawer-window-sm.drawer-opened.drawer-top-sm[_nghost-%COMP%], .drawer-window-sm.drawer-opened.drawer-top-md[_nghost-%COMP%], .drawer-window-sm.drawer-opened.drawer-top-lg[_nghost-%COMP%]{max-height:100%}.drawer-window-sm.drawer-opened.drawer-right[_nghost-%COMP%]{max-width:100%}.drawer-window-sm.drawer-opened.drawer-right-sm[_nghost-%COMP%], .drawer-window-sm.drawer-opened.drawer-right-md[_nghost-%COMP%], .drawer-window-sm.drawer-opened.drawer-right-lg[_nghost-%COMP%]{max-width:100%}.drawer-window-sm.drawer-opened.drawer-bottom[_nghost-%COMP%]{max-height:100%}.drawer-window-sm.drawer-opened.drawer-bottom-sm[_nghost-%COMP%], .drawer-window-sm.drawer-opened.drawer-bottom-md[_nghost-%COMP%], .drawer-window-sm.drawer-opened.drawer-bottom-lg[_nghost-%COMP%]{max-height:100%}.drawer-window-sm.drawer-opened.drawer-left[_nghost-%COMP%]{max-width:100%}.drawer-window-sm.drawer-opened.drawer-left-sm[_nghost-%COMP%], .drawer-window-sm.drawer-opened.drawer-left-md[_nghost-%COMP%], .drawer-window-sm.drawer-opened.drawer-left-lg[_nghost-%COMP%]{max-width:100%}}@media screen and (min-width: 768px) and (max-width: 1023px){.drawer-window-md[_nghost-%COMP%]{position:fixed;max-width:100%;max-height:100%;z-index:900;overflow:auto}.drawer-window-md.drawer-opened.drawer-top[_nghost-%COMP%]{max-height:100%}.drawer-window-md.drawer-opened.drawer-top-sm[_nghost-%COMP%], .drawer-window-md.drawer-opened.drawer-top-md[_nghost-%COMP%], .drawer-window-md.drawer-opened.drawer-top-lg[_nghost-%COMP%]{max-height:100%}.drawer-window-md.drawer-opened.drawer-right[_nghost-%COMP%]{max-width:100%}.drawer-window-md.drawer-opened.drawer-right-sm[_nghost-%COMP%], .drawer-window-md.drawer-opened.drawer-right-md[_nghost-%COMP%], .drawer-window-md.drawer-opened.drawer-right-lg[_nghost-%COMP%]{max-width:100%}.drawer-window-md.drawer-opened.drawer-bottom[_nghost-%COMP%]{max-height:100%}.drawer-window-md.drawer-opened.drawer-bottom-sm[_nghost-%COMP%], .drawer-window-md.drawer-opened.drawer-bottom-md[_nghost-%COMP%], .drawer-window-md.drawer-opened.drawer-bottom-lg[_nghost-%COMP%]{max-height:100%}.drawer-window-md.drawer-opened.drawer-left[_nghost-%COMP%]{max-width:100%}.drawer-window-md.drawer-opened.drawer-left-sm[_nghost-%COMP%], .drawer-window-md.drawer-opened.drawer-left-md[_nghost-%COMP%], .drawer-window-md.drawer-opened.drawer-left-lg[_nghost-%COMP%]{max-width:100%}}@media screen and (min-width: 1024px){.drawer-window-lg[_nghost-%COMP%]{position:fixed;max-width:100%;max-height:100%;z-index:900;overflow:auto}.drawer-window-lg.drawer-opened.drawer-top[_nghost-%COMP%]{max-height:100%}.drawer-window-lg.drawer-opened.drawer-top-sm[_nghost-%COMP%], .drawer-window-lg.drawer-opened.drawer-top-md[_nghost-%COMP%], .drawer-window-lg.drawer-opened.drawer-top-lg[_nghost-%COMP%]{max-height:100%}.drawer-window-lg.drawer-opened.drawer-right[_nghost-%COMP%]{max-width:100%}.drawer-window-lg.drawer-opened.drawer-right-sm[_nghost-%COMP%], .drawer-window-lg.drawer-opened.drawer-right-md[_nghost-%COMP%], .drawer-window-lg.drawer-opened.drawer-right-lg[_nghost-%COMP%]{max-width:100%}.drawer-window-lg.drawer-opened.drawer-bottom[_nghost-%COMP%]{max-height:100%}.drawer-window-lg.drawer-opened.drawer-bottom-sm[_nghost-%COMP%], .drawer-window-lg.drawer-opened.drawer-bottom-md[_nghost-%COMP%], .drawer-window-lg.drawer-opened.drawer-bottom-lg[_nghost-%COMP%]{max-height:100%}.drawer-window-lg.drawer-opened.drawer-left[_nghost-%COMP%]{max-width:100%}.drawer-window-lg.drawer-opened.drawer-left-sm[_nghost-%COMP%], .drawer-window-lg.drawer-opened.drawer-left-md[_nghost-%COMP%], .drawer-window-lg.drawer-opened.drawer-left-lg[_nghost-%COMP%]{max-width:100%}}.drawer-top[_nghost-%COMP%]{top:0;left:0;transform-origin:top center;max-height:0;transform:scaleY(0)}@media screen and (max-width: 767px){.drawer-top-sm[_nghost-%COMP%]{top:0;left:0;transform-origin:top center;max-height:0;transform:scaleY(0)}}@media screen and (min-width: 768px) and (max-width: 1023px){.drawer-top-md[_nghost-%COMP%]{top:0;left:0;transform-origin:top center;max-height:0;transform:scaleY(0)}}@media screen and (min-width: 1024px){.drawer-top-lg[_nghost-%COMP%]{top:0;left:0;transform-origin:top center;max-height:0;transform:scaleY(0)}}.drawer-right[_nghost-%COMP%]{top:0;right:0;transform-origin:center right;max-width:0;transform:scaleX(0)}@media screen and (max-width: 767px){.drawer-right-sm[_nghost-%COMP%]{top:0;right:0;transform-origin:center right;max-width:0;transform:scaleX(0)}}@media screen and (min-width: 768px) and (max-width: 1023px){.drawer-right-md[_nghost-%COMP%]{top:0;right:0;transform-origin:center right;max-width:0;transform:scaleX(0)}}@media screen and (min-width: 1024px){.drawer-right-lg[_nghost-%COMP%]{top:0;right:0;transform-origin:center right;max-width:0;transform:scaleX(0)}}.drawer-bottom[_nghost-%COMP%]{bottom:0;left:0;transform-origin:bottom center;max-height:0;transform:scaleY(0)}@media screen and (max-width: 767px){.drawer-bottom-sm[_nghost-%COMP%]{bottom:0;left:0;transform-origin:bottom center;max-height:0;transform:scaleY(0)}}@media screen and (min-width: 768px) and (max-width: 1023px){.drawer-bottom-md[_nghost-%COMP%]{bottom:0;left:0;transform-origin:bottom center;max-height:0;transform:scaleY(0)}}@media screen and (min-width: 1024px){.drawer-bottom-lg[_nghost-%COMP%]{bottom:0;left:0;transform-origin:bottom center;max-height:0;transform:scaleY(0)}}.drawer-left[_nghost-%COMP%]{top:0;left:0;transform-origin:center left;max-width:0;width:0;transform:scaleX(0);padding:0}@media screen and (max-width: 767px){.drawer-left-sm[_nghost-%COMP%]{top:0;left:0;transform-origin:center left;max-width:0;width:0;transform:scaleX(0);padding:0}}@media screen and (min-width: 768px) and (max-width: 1023px){.drawer-left-md[_nghost-%COMP%]{top:0;left:0;transform-origin:center left;max-width:0;width:0;transform:scaleX(0);padding:0}}@media screen and (min-width: 1024px){.drawer-left-lg[_nghost-%COMP%]{top:0;left:0;transform-origin:center left;max-width:0;width:0;transform:scaleX(0);padding:0}}"]}),r})();const d=[[["anu-collapsible-header"]],[["anu-collapsible-content"]]],p=function(){return["drawer-top"]},L=function(){return["drawer-content-pushed"]},V=["anu-collapsible-header","anu-collapsible-content"];let re=(()=>{class r{constructor(){this.collapsed=!0,this.hamBurgerClassNames=["size-md"],this.isDropdownStyle=!1,this.changed=new e.vpe}ngOnInit(){}toggle(t){this.collapsed=t,this.changed.emit(this.collapsed)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-collapsible"]],inputs:{collapsed:"collapsed",hamBurgerClassNames:"hamBurgerClassNames",isDropdownStyle:"isDropdownStyle"},outputs:{changed:"changed"},ngContentSelectors:V,decls:5,vars:9,consts:[[1,"row","nowrap"],[1,"collapsible-hamburger",3,"opened","isDropdownStyle","isHamburgerStyle","ngClass","changed"],[3,"opened","positionClassNames","overlayClassNames"]],template:function(t,n){1&t&&(e.F$t(d),e.TgZ(0,"div",0)(1,"anu-hamburger",1),e.NdJ("changed",function(s){return n.toggle(s)}),e.Hsn(2),e.qZA()(),e.TgZ(3,"anu-drawer",2),e.Hsn(4,1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("opened",n.collapsed)("isDropdownStyle",n.isDropdownStyle)("isHamburgerStyle",!1)("ngClass",n.hamBurgerClassNames),e.xp6(2),e.Q6J("opened",n.collapsed)("positionClassNames",e.DdM(7,p))("overlayClassNames",e.DdM(8,L)))},dependencies:[y.mk,N.x,S],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .collapsible-hamburger[_ngcontent-%COMP%]{width:100%}"]}),r})();const fe=["*"];let ye=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-collapsible-header"]],ngContentSelectors:fe,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.Hsn(0))}}),r})();const Oe=["*"];let we=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-collapsible-content"]],ngContentSelectors:Oe,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.Hsn(0))}}),r})();const xe=function(r){return{"selected shadow":r}};function Me(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"label",1),e._uU(2),e.TgZ(3,"input",2),e.NdJ("change",function(i){const O=e.CHM(t).$implicit,j=e.oxw();return e.KtG(j.onChanged(i,O))}),e.qZA()(),e.BQk()}if(2&r){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(4,xe,n.isItemSelected(t))),e.xp6(1),e.hij(" ",t[n.labelField]," "),e.xp6(1),e.Q6J("name",t[n.keyField])("checked",n.isItemSelected(t))}}let Ue=(()=>{class r{constructor(){this.items=[],this.selectedItems=[],this.keyField="",this.labelField="",this.changed=new e.vpe}ngOnInit(){}isItemSelected(t){return this.selectedItems||(this.selectedItems=[]),!!this.selectedItems.find(n=>n[this.keyField]===t[this.keyField])}onChanged(t,n){this.selectedItems||(this.selectedItems=[]),t.target.checked?this.selectedItems.push({...n}):this.selectedItems=this.selectedItems.filter(i=>i[this.keyField]!==n[this.keyField]),this.changed.emit([...this.selectedItems])}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-multi-select-box"]],inputs:{items:"items",selectedItems:"selectedItems",keyField:"keyField",labelField:"labelField"},outputs:{changed:"changed"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"multi-select-item","row","nowrap","spacing","spacing-around","center",3,"ngClass"],["type","checkbox",1,"no-border",3,"name","checked","change"]],template:function(t,n){1&t&&e.YNc(0,Me,4,6,"ng-container",0),2&t&&e.Q6J("ngForOf",n.items)},dependencies:[y.mk,y.sg],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;flex-flow:wrap;width:100%}[_nghost-%COMP%]   .multi-select-item[_ngcontent-%COMP%]{width:auto;border:1px solid var(--anu-primary-lighter);font-weight:400;text-align:left;cursor:pointer}[_nghost-%COMP%]   .multi-select-item.selected[_ngcontent-%COMP%]{border:1px solid var(--anu-primary-normal);font-weight:700;color:var(--anu-primary-normal)}[_nghost-%COMP%]   .multi-select-item[_ngcontent-%COMP%]:hover{border-color:var(--anu-primary-normal);color:var(--anu-primary-normal)}"]}),r})();const Je=function(r){return{rounded:r}};let Be=(()=>{class r{constructor(){this.rounded=!1,this.checked=!1,this.changed=new e.vpe}ngOnInit(){}toggled(t){this.changed.emit(t.currentTarget.checked)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-toggle"]],inputs:{rounded:"rounded",checked:"checked"},outputs:{changed:"changed"},decls:3,vars:4,consts:[[1,"annuToggle"],["type","checkbox",3,"checked","change"],[1,"slider",3,"ngClass"]],template:function(t,n){1&t&&(e.TgZ(0,"label",0)(1,"input",1),e.NdJ("change",function(s){return n.toggled(s)}),e.qZA(),e._UZ(2,"span",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("checked",n.checked),e.xp6(1),e.Q6J("ngClass",e.VKq(2,Je,n.rounded)))},dependencies:[y.mk],styles:['.annuToggle[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:0;width:3rem;height:1.5rem}.annuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.annuToggle[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:var(--anu-background-lightest);transition:.4s}.annuToggle[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:1.5rem;width:1.5rem;left:0;bottom:0;background-color:var(--anu-primary-lightest);transition:.4s}.annuToggle[_ngcontent-%COMP%]   .slider.rounded[_ngcontent-%COMP%]{border-radius:34px}.annuToggle[_ngcontent-%COMP%]   .slider.rounded[_ngcontent-%COMP%]:before{border-radius:50%}.annuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--anu-background-lightest)}.annuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px var(--anu-background-lightest)}.annuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{background-color:var(--anu-primary-normal);transform:translate(1.5rem)}']}),r})();function Rt(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",10)(1,"small"),e._uU(2),e.qZA(),e.TgZ(3,"anu-toggle",11),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw(2).$implicit,O=e.oxw();return e.KtG(O.singleSelectChanged(s.id,i))}),e.qZA(),e.TgZ(4,"small"),e._uU(5),e.qZA()()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.filter.noLabel),e.xp6(1),e.Q6J("checked",t.filter.value)("rounded",!0),e.xp6(2),e.Oqu(t.filter.yesLabel)}}function Nt(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"label")(3,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.enabled=i)})("ngModelChange",function(i){e.CHM(t);const s=e.oxw().$implicit,O=e.oxw();return e.KtG(O.filterEnabled(s.id,i))}),e.qZA(),e.TgZ(4,"span",8),e._uU(5),e.qZA()(),e.YNc(6,Rt,6,4,"div",9),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngModel",t.enabled),e.xp6(2),e.Oqu(t.title),e.xp6(1),e.Q6J("ngIf",t.enabled)}}function Ut(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",12)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"anu-multi-select-box",13),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw().$implicit,O=e.oxw();return e.KtG(O.multiSelectChanged(s.id,i))}),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(1),e.Q6J("items",t.filter.values)("keyField",t.filter.keyName)("labelField",t.filter.valueName)("selectedItems",t.filter.selectedValues)}}function Lt(r,o){if(1&r&&(e.ynx(0),e.YNc(1,Nt,7,3,"div",3),e.YNc(2,Ut,4,5,"div",4),e.BQk()),2&r){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","single-select"===t.type),e.xp6(1),e.Q6J("ngIf","multi-select"===t.type)}}let Ct=(()=>{class r{constructor(){this.filters=[],this.changed=new e.vpe}multiSelectChanged(t,n){const i=this.filters.find(s=>s.id===t);i&&(i.filter.selectedValues=n),this.changed.emit(this.filters)}filterEnabled(t,n){this.changed.emit(this.filters)}singleSelectChanged(t,n){const i=this.filters.find(s=>s.id===t);i&&(i.filter.value=n),this.changed.emit(this.filters)}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-filters"]],inputs:{filters:"filters"},outputs:{changed:"changed"},decls:3,vars:1,consts:[[1,"flex-container"],[1,"row"],[4,"ngFor","ngForOf"],["class","col-sm-12 col-md-6 col-lg-4 spacing-around-vertical",4,"ngIf"],["class","col-12 shadow spacing-horizontal spacing-around-vertical",4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-4","spacing-around-vertical"],[1,"row","nowrap","shadow","spacing-horizontal","center"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"spacing-horizontal"],["class","row nowrap right",4,"ngIf"],[1,"row","nowrap","right"],[3,"checked","rounded","changed"],[1,"col-12","shadow","spacing-horizontal","spacing-around-vertical"],[3,"items","keyField","labelField","selectedItems","changed"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Lt,3,2,"ng-container",2),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",n.filters))},dependencies:[y.sg,y.O5,$.Wl,$.JJ,$.On,Ue,Be],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .single-select[_ngcontent-%COMP%]{justify-content:space-evenly}[_nghost-%COMP%]   .multi-select[_ngcontent-%COMP%]{justify-content:space-between}"]}),r})();var Ke=M(1282);function hn(r,o){if(1&r&&(e.TgZ(0,"anu-card-title")(1,"h1"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(null==t.pageMeta?null:t.pageMeta.title)}}function pn(r,o){if(1&r&&(e.TgZ(0,"anu-card-body")(1,"p"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",null==t.pageMeta?null:t.pageMeta.description," ")}}const mn=function(){return["."]},dt=function(){return["add"]};function Bt(r,o){if(1&r&&(e.ynx(0),e.TgZ(1,"div",7)(2,"h1"),e._uU(3,"Category Form"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Update category details and publish."),e.qZA()(),e.TgZ(6,"div",8)(7,"a",9),e._uU(8),e.qZA(),e.TgZ(9,"a",9),e._uU(10,"Add new Category"),e.qZA()(),e.BQk()),2&r){const t=e.oxw();e.xp6(7),e.Q6J("routerLink",e.DdM(3,mn)),e.xp6(1),e.hij("",t.ARROWS.LEFT," Back to Categories"),e.xp6(1),e.Q6J("routerLink",e.DdM(4,dt))}}const Dt=function(){return["../"]};function yt(r,o){if(1&r&&(e.TgZ(0,"div",8)(1,"a",9),e._uU(2),e.qZA(),e.TgZ(3,"a",9),e._uU(4,"Add new Category"),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.DdM(3,Dt)),e.xp6(1),e.hij("",t.ARROWS.LEFT," Back to Dashboard"),e.xp6(1),e.Q6J("routerLink",e.DdM(4,dt))}}const ft=function(r){return[r]};function Zt(r,o){if(1&r&&(e.TgZ(0,"div",18),e._UZ(1,"anu-category",19),e.qZA()),2&r){const t=o.$implicit;e.xp6(1),e.Q6J("titleHref",e.VKq(4,ft,(null==t?null:t.id)||""))("updateHref",e.VKq(6,ft,(null==t?null:t.id)||""))("value",t)("showDescription",!1)}}function jt(r,o){if(1&r&&e._UZ(0,"anu-error",20),2&r){const t=e.oxw(2);e.Q6J("code",null==t.error?null:t.error.code)("message",null==t.error?null:t.error.message)}}const Jt=function(){return["size-sm"]};function qt(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",1)(2,"anu-search-box",11),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onSearch(i))}),e.qZA(),e.TgZ(3,"anu-collapsible",12)(4,"anu-collapsible-header"),e._uU(5,"FILTERS"),e.qZA(),e.TgZ(6,"anu-collapsible-content")(7,"anu-filters",13),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.categoriesFiltersChanged(i))}),e.qZA()()(),e.TgZ(8,"label"),e._uU(9),e.qZA(),e.TgZ(10,"div",14),e.YNc(11,Zt,2,8,"div",15),e.YNc(12,jt,1,2,"anu-error",16),e._UZ(13,"anu-spinner",17),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("items",t.categories)("keys",t.searchKeys),e.xp6(1),e.Q6J("collapsed",!1)("isDropdownStyle",!0)("hamBurgerClassNames",e.DdM(11,Jt)),e.xp6(4),e.Q6J("filters",t.categoriesFilters),e.xp6(2),e.AsE("Results: ",t.filteredCategories.length,"/",t.categories.length,""),e.xp6(2),e.Q6J("ngForOf",t.filteredCategories),e.xp6(1),e.Q6J("ngIf",t.error),e.xp6(1),e.Q6J("show",t.loading)}}let Ht=(()=>{class r{constructor(t,n,i,s,O){var j=this;this.route=t,this.router=n,this.dashboardMetaService=i,this.fireAuthService=s,this.appConfigService=O,this.pageMeta=null,this.categories=[],this.filteredCategories=[],this.foundCategories=[],this.searchKeys=["id","metaInfo.title"],this.categoriesFilters=[...H],this.loading=!0,this.ARROWS=Y.J,this.routeStartEvent=this.router.events.pipe((0,A.h)(X=>X instanceof v.OD)).subscribe(()=>{this.loading=!0,this.error=null}),this.routeEndEvent=this.router.events.pipe((0,A.h)(X=>X instanceof v.m2)).subscribe(()=>{this.loading=!1}),this.route.data.subscribe(function(){var X=(0,g.Z)(function*(ie){j.pageMeta=j.dashboardMetaService.setDashboardPageMeta(z.categoriesPage),(yield j.fireAuthService.currentUserHasRole(m.go.ADMIN))&&(j.categoriesFilters=[...H,...q]);const be=ie.manageCategories;j.categories=be?.categories||[],j.foundCategories=j.categories,j.filterCategories(j.categoriesFilters,j.foundCategories),j.loading=!1});return function(ie){return X.apply(this,arguments)}}())}ngOnInit(){this.pageMeta=this.dashboardMetaService.setDashboardPageMeta(z.categoriesPage)}ngOnDestroy(){this.routeEndEvent.unsubscribe()}onSearch(t){this.foundCategories=t,this.filterCategories(this.categoriesFilters,this.foundCategories)}filterCategories(t,n){this.filteredCategories=n.filter(i=>{let s=!0;return t.forEach(O=>{O.enabled&&(O.type===C.SingleSelect?s="userId"===O.id?O.filter.value===(i[O.id]===this.fireAuthService.getCurrentUserId())&&!0===s:O.filter.value===i[O.id]&&!0===s:O.type===C.MultiSelect&&O.filter.selectedValues?.length&&O.filter.selectedValues.forEach(j=>{s=!(!i?.features?.includes(j[O.filter.keyName])||!0!==s)}))}),s})}categoriesFiltersChanged(t){this.categoriesFilters=t,this.filterCategories(t,this.foundCategories)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v.gz),e.Y36(v.F0),e.Y36(l),e.Y36(_.i),e.Y36(w._))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-manage-categories-page"]],decls:10,vars:5,consts:[[1,"flex-container","secondary-lighter-grad"],[1,"left","col-12"],[1,"col-12"],[4,"ngIf"],[1,"row","right"],["class","row stretch",4,"ngIf"],["class","flex-container spacing-around-vertical",4,"ngIf"],[1,"col-12","center"],[1,"row","stretch"],[3,"routerLink"],[1,"flex-container","spacing-around-vertical"],[1,"container",3,"items","keys","changed"],[1,"border","spacing","container",3,"collapsed","isDropdownStyle","hamBurgerClassNames"],[1,"categories-filters",3,"filters","changed"],[1,"row","results"],["class","col-sm-12 col-md-6 col-lg-6",4,"ngFor","ngForOf"],[3,"code","message",4,"ngIf"],[3,"show"],[1,"col-sm-12","col-md-6","col-lg-6"],[1,"shadow","spacing-around-vertical",3,"titleHref","updateHref","value","showDescription"],[3,"code","message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"anu-card",2),e.YNc(3,hn,3,1,"anu-card-title",3),e.YNc(4,pn,3,1,"anu-card-body",3),e.TgZ(5,"anu-card-footer",4),e.YNc(6,Bt,11,5,"ng-container",3),e.YNc(7,yt,5,5,"div",5),e.qZA()()()(),e.YNc(8,qt,14,12,"div",6),e._UZ(9,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("ngIf",!n.route.firstChild),e.xp6(1),e.Q6J("ngIf",!n.route.firstChild),e.xp6(2),e.Q6J("ngIf",n.route.firstChild),e.xp6(1),e.Q6J("ngIf",!n.route.firstChild),e.xp6(1),e.Q6J("ngIf",!n.route.firstChild))},dependencies:[y.sg,y.O5,v.lC,v.rH,u.A,T.E,f.y,U.x,ce,he.m,I.O,re,ye,we,Ct,Ke.q],styles:["[_nghost-%COMP%]{width:100%}"]}),r})();var At=M(5857);const rt={id:"sample-category-title",isLive:!1,isFeatured:!1,inReview:!1,shortTitle:"Sample Category Short Title",features:[],metaInfo:{title:"Sample Category Title",description:"Sample category description text"}},Qt=[{name:"metainfo",title:"Category Info"},{name:"moreinfo",title:"More Info"},{name:"publish",title:"Publish"}],Kt=function(r,o,t,n){return{active:r,rounded:o,spaced:t,fullwidth:n}};function at(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(i){const O=e.CHM(t).$implicit,j=e.oxw();return e.KtG(j.tabClicked(i,O))}),e._uU(1),e.qZA()}if(2&r){const t=o.$implicit,n=e.oxw();e.Q6J("ngClass",e.l5B(2,Kt,t.active,n.rounded,n.spaced,n.fullWidth)),e.xp6(1),e.hij(" ",t.title," ")}}const Tt=function(r,o){return{vertical:r,secondary:o}};let it=(()=>{class r{constructor(){this.tabs=[],this.activeTab=null,this.rounded=!1,this.spaced=!1,this.vertical=!1,this.secondary=!1,this.fullWidth=!1,this.changed=new e.vpe}setActiveTab(t){this.tabs.forEach(n=>{t&&n.name===t.name?(n.active=!0,this.changed.emit(n)):n.active=!1})}ngOnInit(){this.setActiveTab(this.activeTab)}ngOnChanges(t){this.setActiveTab(this.activeTab)}tabClicked(t,n){t.preventDefault(),this.setActiveTab(n)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-tabs"]],inputs:{tabs:"tabs",activeTab:"activeTab",rounded:"rounded",spaced:"spaced",vertical:"vertical",secondary:"secondary",fullWidth:"fullWidth"},outputs:{changed:"changed"},features:[e.TTD],decls:3,vars:5,consts:[[1,"annuTabs",3,"ngClass"],[1,"bottom-bar"],["href","","class","annuTabs_tab",3,"ngClass","click",4,"ngFor","ngForOf"],["href","",1,"annuTabs_tab",3,"ngClass","click"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0),e._UZ(1,"span",1),e.YNc(2,at,2,7,"a",2),e.qZA()),2&t&&(e.Q6J("ngClass",e.WLB(2,Tt,n.vertical,n.secondary)),e.xp6(2),e.Q6J("ngForOf",n.tabs))},dependencies:[y.mk,y.sg],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%}.annuTabs[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;width:100%;overflow-x:auto;overflow-y:hidden}.annuTabs[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:1px;bottom:0;left:0;z-index:-1;background-color:var(--anu-primary-dark)}.annuTabs_tab[_ngcontent-%COMP%]{text-decoration:none;padding:.5rem 1.5rem;border:solid 1px var(--anu-primary-dark);background-color:var(--anu-primary-normal);color:var(--anu-accent-darkest);text-align:center}.annuTabs_tab[_ngcontent-%COMP%]:hover{background-color:var(--anu-background-lighter);color:var(--anu-accent-dark)}.annuTabs_tab.active[_ngcontent-%COMP%]{background-color:var(--anu-background-deep-light);border-bottom:none}.annuTabs_tab.rounded[_ngcontent-%COMP%]{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.annuTabs_tab.fullwidth[_ngcontent-%COMP%]{width:-webkit-fill-available}@media screen and (min-width: 768px) and (max-width: 1023px){.annuTabs_tab[_ngcontent-%COMP%]{padding:.4rem .8rem;width:-webkit-fill-available}}@media screen and (max-width: 767px){.annuTabs_tab[_ngcontent-%COMP%]{width:-webkit-fill-available}}.annuTabs.secondary[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]{background-color:var(--anu-secondary-dark)}.annuTabs.secondary[_ngcontent-%COMP%]   .annuTabs_tab[_ngcontent-%COMP%]{background-color:var(--anu-secondary-normal);border:solid 1px var(--anu-secondary-dark)}.annuTabs.secondary[_ngcontent-%COMP%]   .annuTabs_tab[_ngcontent-%COMP%]:hover{background-color:var(--anu-secondary-lighter)}.annuTabs.secondary[_ngcontent-%COMP%]   .annuTabs_tab.active[_ngcontent-%COMP%]{background-color:var(--anu-background-deep-light);border-bottom:none}.annuTabs_tab.spaced[_ngcontent-%COMP%] + .annuTabs_tab.spaced[_ngcontent-%COMP%]{margin-left:.5rem}.annuTabs.vertical[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:0;border-bottom:none;overflow:hidden}.annuTabs.vertical[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]{height:100%;width:1px;inset:0 0 auto auto}.annuTabs.vertical[_ngcontent-%COMP%]   .annuTabs_tab[_ngcontent-%COMP%]{border:solid 1px var(--anu-primary-dark)}.annuTabs.vertical[_ngcontent-%COMP%]   .annuTabs_tab.active[_ngcontent-%COMP%]{border-right:none}.annuTabs.vertical[_ngcontent-%COMP%]   .annuTabs_tab.rounded[_ngcontent-%COMP%]{border-radius:calc(var(--anu-border-radius) / 2);border-top-right-radius:0;border-bottom-right-radius:0}.annuTabs.vertical[_ngcontent-%COMP%]   .annuTabs_tab.spaced[_ngcontent-%COMP%] + .annuTabs_tab.spaced[_ngcontent-%COMP%]{margin-left:0;margin-top:.5rem}"]}),r})();var Ge=M(5619),na=M(4315),ra=M.n(na),ht=M(534),Ve=M(9058),aa=M(4537);const Hn="firebasestorage.googleapis.com",Qn="storageBucket";class Pe extends Ve.ZR{constructor(o,t,n=0){super(gn(o),`Firebase Storage: ${t} (${gn(o)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pe.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(o){return gn(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ce=(()=>((Ce=Ce||{}).UNKNOWN="unknown",Ce.OBJECT_NOT_FOUND="object-not-found",Ce.BUCKET_NOT_FOUND="bucket-not-found",Ce.PROJECT_NOT_FOUND="project-not-found",Ce.QUOTA_EXCEEDED="quota-exceeded",Ce.UNAUTHENTICATED="unauthenticated",Ce.UNAUTHORIZED="unauthorized",Ce.UNAUTHORIZED_APP="unauthorized-app",Ce.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ce.INVALID_CHECKSUM="invalid-checksum",Ce.CANCELED="canceled",Ce.INVALID_EVENT_NAME="invalid-event-name",Ce.INVALID_URL="invalid-url",Ce.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ce.NO_DEFAULT_BUCKET="no-default-bucket",Ce.CANNOT_SLICE_BLOB="cannot-slice-blob",Ce.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ce.NO_DOWNLOAD_URL="no-download-url",Ce.INVALID_ARGUMENT="invalid-argument",Ce.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ce.APP_DELETED="app-deleted",Ce.INVALID_ROOT_OPERATION="invalid-root-operation",Ce.INVALID_FORMAT="invalid-format",Ce.INTERNAL_ERROR="internal-error",Ce.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ce))();function gn(r){return"storage/"+r}function _n(){return new Pe(Ce.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function bn(r){return new Pe(Ce.INVALID_ARGUMENT,r)}function zn(){return new Pe(Ce.APP_DELETED,"The Firebase app was deleted.")}function Et(r,o){return new Pe(Ce.INVALID_FORMAT,"String does not match format '"+r+"': "+o)}function St(r){throw new Pe(Ce.INTERNAL_ERROR,"Internal error: "+r)}class Ze{constructor(o,t){this.bucket=o,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,t){let n;try{n=Ze.makeFromUrl(o,t)}catch{return new Ze(o,"")}if(""===n.path)return n;throw function pa(r){return new Pe(Ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}(o)}static makeFromUrl(o,t){let n=null;const i="([A-Za-z0-9.\\-_]+)",j=new RegExp("^gs://"+i+"(/(.*))?$","i");function ie(Le){Le.path_=decodeURIComponent(Le.path)}const be=t.replace(/[.]/g,"\\."),De=[{regex:j,indices:{bucket:1,path:3},postModify:function s(Le){"/"===Le.path.charAt(Le.path.length-1)&&(Le.path_=Le.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${be}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ie},{regex:new RegExp(`^https?://${t===Hn?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ie}];for(let Le=0;Le<De.length;Le++){const wt=De[Le],vt=wt.regex.exec(o);if(vt){let Ft=vt[wt.indices.path];Ft||(Ft=""),n=new Ze(vt[wt.indices.bucket],Ft),wt.postModify(n);break}}if(null==n)throw function ha(r){return new Pe(Ce.INVALID_URL,"Invalid URL '"+r+"'.")}(o);return n}}class va{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}function Gt(r){return"string"==typeof r||r instanceof String}function Yn(r){return wn()&&r instanceof Blob}function wn(){return typeof Blob<"u"&&!(0,Ve.UG)()}function vn(r,o,t,n){if(n<o)throw bn(`Invalid value for '${r}'. Expected ${o} or greater.`);if(n>t)throw bn(`Invalid value for '${r}'. Expected ${t} or less.`)}function Xe(r,o,t){let n=o;return null==t&&(n=`https://${o}`),`${t}://${n}/v0${r}`}function $n(r){const o=encodeURIComponent;let t="?";for(const n in r)r.hasOwnProperty(n)&&(t=t+(o(n)+"=")+o(r[n])+"&");return t=t.slice(0,-1),t}var qe=(()=>((qe=qe||{})[qe.NO_ERROR=0]="NO_ERROR",qe[qe.NETWORK_ERROR=1]="NETWORK_ERROR",qe[qe.ABORT=2]="ABORT",qe))();class Sa{constructor(o,t,n,i,s,O,j,X,ie,ge,be,Se=!0){this.url_=o,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=O,this.callback_=j,this.errorCallback_=X,this.timeout_=ie,this.progressCallback_=ge,this.connectionFactory_=be,this.retry=Se,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ee,Ie)=>{this.resolve_=Ee,this.reject_=Ie,this.start_()})}start_(){const t=(n,i)=>{const s=this.resolve_,O=this.reject_,j=i.connection;if(i.wasSuccessCode)try{const X=this.callback_(j,j.getResponse());!function Aa(r){return void 0!==r}(X)?s():s(X)}catch(X){O(X)}else if(null!==j){const X=_n();X.serverResponse=j.getErrorText(),O(this.errorCallback_?this.errorCallback_(j,X):X)}else O(i.canceled?this.appDelete_?zn():function Gn(){return new Pe(Ce.CANCELED,"User canceled the upload/download.")}():function Kn(){return new Pe(Ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Vt(!1,null,!0)):this.backoffId_=function Ca(r,o,t){let n=1,i=null,s=null,O=!1,j=0;function X(){return 2===j}let ie=!1;function ge(...Fe){ie||(ie=!0,o.apply(null,Fe))}function be(Fe){i=setTimeout(()=>{i=null,r(Ee,X())},Fe)}function Se(){s&&clearTimeout(s)}function Ee(Fe,...tt){if(ie)return void Se();if(Fe)return Se(),void ge.call(null,Fe,...tt);if(X()||O)return Se(),void ge.call(null,Fe,...tt);let De;n<64&&(n*=2),1===j?(j=2,De=0):De=1e3*(n+Math.random()),be(De)}let Ie=!1;function Ne(Fe){Ie||(Ie=!0,Se(),!ie&&(null!==i?(Fe||(j=2),clearTimeout(i),be(0)):Fe||(j=1)))}return be(0),s=setTimeout(()=>{O=!0,Ne(!0)},t),Ne}((n,i)=>{if(i)return void n(!1,new Vt(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const O=j=>{null!==this.progressCallback_&&this.progressCallback_(j.loaded,j.lengthComputable?j.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(O),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(O),this.pendingConnection_=null;const j=s.getErrorCode()===qe.NO_ERROR,X=s.getStatus();if(!j||function Wn(r,o){const t=r>=500&&r<600,i=-1!==[408,429].indexOf(r),s=-1!==o.indexOf(r);return t||i||s}(X,this.additionalRetryCodes_)&&this.retry){const ge=s.getErrorCode()===qe.ABORT;return void n(!1,new Vt(!1,null,ge))}const ie=-1!==this.successCodes_.indexOf(X);n(!0,new Vt(ie,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,null!==this.backoffId_&&function ya(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Vt{constructor(o,t,n){this.wasSuccessCode=o,this.connection=t,this.canceled=!!n}}function Fa(...r){const o=function Pa(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==o){const t=new o;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}if(wn())return new Blob(r);throw new Pe(Ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ze={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cn{constructor(o,t){this.data=o,this.contentType=t||null}}function Xn(r,o){switch(r){case ze.RAW:return new Cn(er(o));case ze.BASE64:case ze.BASE64URL:return new Cn(tr(r,o));case ze.DATA_URL:return new Cn(function La(r){const o=new nr(r);return o.base64?tr(ze.BASE64,o.rest):function Ua(r){let o;try{o=decodeURIComponent(r)}catch{throw Et(ze.DATA_URL,"Malformed data URL.")}return er(o)}(o.rest)}(o),function Ba(r){return new nr(r).contentType}(o))}throw _n()}function er(r){const o=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);n<=127?o.push(n):n<=2047?o.push(192|n>>6,128|63&n):55296==(64512&n)?t<r.length-1&&56320==(64512&r.charCodeAt(t+1))?(n=65536|(1023&n)<<10|1023&r.charCodeAt(++t),o.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)):o.push(239,191,189):56320==(64512&n)?o.push(239,191,189):o.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(o)}function tr(r,o){switch(r){case ze.BASE64:{const i=-1!==o.indexOf("-"),s=-1!==o.indexOf("_");if(i||s)throw Et(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ze.BASE64URL:{const i=-1!==o.indexOf("+"),s=-1!==o.indexOf("/");if(i||s)throw Et(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Na(r){if(typeof atob>"u")throw function ba(r){return new Pe(Ce.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(r)}(o)}catch(i){throw i.message.includes("polyfill")?i:Et(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class nr{constructor(o){this.base64=!1,this.contentType=null;const t=o.match(/^data:([^,]+)?,/);if(null===t)throw Et(ze.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function Da(r,o){return r.length>=o.length&&r.substring(r.length-o.length)===o}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=o.substring(o.indexOf(",")+1)}}class et{constructor(o,t){let n=0,i="";Yn(o)?(this.data_=o,n=o.size,i=o.type):o instanceof ArrayBuffer?(t?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),n=this.data_.length):o instanceof Uint8Array&&(t?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),n=o.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(o,t){if(Yn(this.data_)){const i=function Ra(r,o,t){return r.webkitSlice?r.webkitSlice(o,t):r.mozSlice?r.mozSlice(o,t):r.slice?r.slice(o,t):null}(this.data_,o,t);return null===i?null:new et(i)}{const n=new Uint8Array(this.data_.buffer,o,t-o);return new et(n,!0)}}static getBlob(...o){if(wn()){const t=o.map(n=>n instanceof et?n.data_:n);return new et(Fa.apply(null,t))}{const t=o.map(O=>Gt(O)?Xn(ze.RAW,O).data:O.data_);let n=0;t.forEach(O=>{n+=O.byteLength});const i=new Uint8Array(n);let s=0;return t.forEach(O=>{for(let j=0;j<O.length;j++)i[s++]=O[j]}),new et(i,!0)}}uploadData(){return this.data_}}function yn(r){let o;try{o=JSON.parse(r)}catch{return null}return function Ea(r){return"object"==typeof r&&!Array.isArray(r)}(o)?o:null}function rr(r){const o=r.lastIndexOf("/",r.length-2);return-1===o?r:r.slice(o+1)}function Ja(r,o){return o}class je{constructor(o,t,n,i){this.server=o,this.local=t||o,this.writable=!!n,this.xform=i||Ja}}let zt=null;function Ot(){if(zt)return zt;const r=[];r.push(new je("bucket")),r.push(new je("generation")),r.push(new je("metageneration")),r.push(new je("name","fullPath",!0));const t=new je("name");t.xform=function o(s,O){return function qa(r){return!Gt(r)||r.length<2?r:rr(r)}(O)},r.push(t);const i=new je("size");return i.xform=function n(s,O){return void 0!==O?Number(O):O},r.push(i),r.push(new je("timeCreated")),r.push(new je("updated")),r.push(new je("md5Hash",null,!0)),r.push(new je("cacheControl",null,!0)),r.push(new je("contentDisposition",null,!0)),r.push(new je("contentEncoding",null,!0)),r.push(new je("contentLanguage",null,!0)),r.push(new je("contentType",null,!0)),r.push(new je("metadata","customMetadata",!0)),zt=r,zt}function ar(r,o,t){const n=yn(o);return null===n?null:function Qa(r,o,t){const n={type:"file"},i=t.length;for(let s=0;s<i;s++){const O=t[s];n[O.local]=O.xform(n,o[O.server])}return function Ha(r,o){Object.defineProperty(r,"ref",{get:function t(){const s=new Ze(r.bucket,r.fullPath);return o._makeStorageReference(s)}})}(n,r),n}(r,n,t)}const ir="prefixes",or="items";class $e{constructor(o,t,n,i){this.url=o,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function We(r){if(!r)throw _n()}function pt(r){return function o(t,n){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function da(){return new Pe(Ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ua(){return new Pe(Ce.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function ca(r){return new Pe(Ce.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===t.getStatus()?function fa(r){return new Pe(Ce.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}(r.path):n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}}function xt(r){const o=pt(r);return function t(n,i){let s=o(n,i);return 404===n.getStatus()&&(s=function la(r){return new Pe(Ce.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}(r.path)),s.serverResponse=i.serverResponse,s}}function $a(r,o,t,n,i){const s={};s.prefix=o.isRoot?"":o.path+"/",t&&t.length>0&&(s.delimiter=t),n&&(s.pageToken=n),i&&(s.maxResults=i);const j=Xe(o.bucketOnlyServerUrl(),r.host,r._protocol),ie=r.maxOperationRetryTime,ge=new $e(j,"GET",function za(r,o){return function t(n,i){const s=function Va(r,o,t){const n=yn(t);return null===n?null:function Ga(r,o,t){const n={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[ir])for(const i of t[ir]){const s=i.replace(/\/$/,""),O=r._makeStorageReference(new Ze(o,s));n.prefixes.push(O)}if(t[or])for(const i of t[or]){const s=r._makeStorageReference(new Ze(o,i.name));n.items.push(s)}return n}(r,o,n)}(r,o,i);return We(null!==s),s}}(r,o.bucket),ie);return ge.urlParams=s,ge.errorHandler=pt(o),ge}function ur(r,o,t,n,i){const s=o.bucketOnlyServerUrl(),O={"X-Goog-Upload-Protocol":"multipart"},X=function j(){let De="";for(let Le=0;Le<2;Le++)De+=Math.random().toString().slice(2);return De}();O["Content-Type"]="multipart/related; boundary="+X;const ie=function cr(r,o,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=o.size(),n.contentType||(n.contentType=function ti(r,o){return r&&r.contentType||o&&o.type()||"application/octet-stream"}(null,o)),n}(o,n,i),ge=function An(r,o){const t={},n=o.length;for(let i=0;i<n;i++){const s=o[i];s.writable&&(t[s.server]=r[s.local])}return JSON.stringify(t)}(ie,t),Ee=et.getBlob("--"+X+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ge+"\r\n--"+X+"\r\nContent-Type: "+ie.contentType+"\r\n\r\n",n,"\r\n--"+X+"--");if(null===Ee)throw function Vn(){return new Pe(Ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Ie={name:ie.fullPath},Ne=Xe(s,r.host,r._protocol),tt=r.maxUploadRetryTime,nt=new $e(Ne,"POST",function Yt(r,o){return function t(n,i){const s=ar(r,i,o);return We(null!==s),s}}(r,t),tt);return nt.urlParams=Ie,nt.headers=O,nt.body=Ee.uploadData(),nt.errorHandler=pt(o),nt}let fr=null;class oi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qe.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qe.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qe.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,t,n,i){if(this.sent_)throw St("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,o,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw St("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw St("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw St("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw St("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",o)}}class si extends oi{initXhr(){this.xhr_.responseType="text"}}function Ye(){return fr?fr():new si}class st{constructor(o,t){this._service=o,this._location=t instanceof Ze?t:Ze.makeFromUrl(t,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,t){return new st(o,t)}get root(){const o=new Ze(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rr(this._location.path)}get storage(){return this._service}get parent(){const o=function Za(r){if(0===r.length)return null;const o=r.lastIndexOf("/");return-1===o?"":r.slice(0,o)}(this._location.path);if(null===o)return null;const t=new Ze(this._location.bucket,o);return new st(this._service,t)}_throwIfRoot(o){if(""===this._location.path)throw function wa(r){return new Pe(Ce.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(o)}}function hr(r,o,t){r._throwIfRoot("uploadBytes");const n=ur(r.storage,r._location,Ot(),new et(o,!0),t);return r.storage.makeRequestWithTokens(n,Ye).then(i=>({metadata:i,ref:r}))}function vi(r){r._throwIfRoot("getDownloadURL");const o=function Wa(r,o,t){const i=Xe(o.fullServerUrl(),r.host,r._protocol),O=r.maxOperationRetryTime,j=new $e(i,"GET",function Ya(r,o){return function t(n,i){const s=ar(r,i,o);return We(null!==s),function Ka(r,o,t,n){const i=yn(o);if(null===i||!Gt(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const O=encodeURIComponent;return s.split(",").map(ie=>{const be=r.fullPath;return Xe("/b/"+O(r.bucket)+"/o/"+O(be),t,n)+$n({alt:"media",token:ie})})[0]}(s,i,r.host,r._protocol)}}(r,t),O);return j.errorHandler=xt(o),j}(r.storage,r._location,Ot());return r.storage.makeRequestWithTokens(o,Ye).then(t=>{if(null===t)throw function _a(){return new Pe(Ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function _r(r,o){if(r instanceof On){const t=r;if(null==t._bucket)throw function ma(){return new Pe(Ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Qn+"' property when initializing the app?")}();const n=new st(t,t._bucket);return null!=o?_r(n,o):n}return void 0!==o?function gr(r,o){const t=function ja(r,o){const t=o.split("/").filter(n=>n.length>0).join("/");return 0===r.length?t:r+"/"+t}(r._location.path,o),n=new Ze(r._location.bucket,t);return new st(r.storage,n)}(r,o):r}function br(r,o){const t=o?.[Qn];return null==t?null:Ze.makeFromBucketSpec(t,r)}class On{constructor(o,t,n,i,s){this.app=o,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Hn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ze.makeFromBucketSpec(i,this._host):br(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._bucket=null!=this._url?Ze.makeFromBucketSpec(this._url,o):br(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){vn("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){vn("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}_getAuthToken(){var o=this;return(0,g.Z)(function*(){if(o._overrideAuthToken)return o._overrideAuthToken;const t=o._authProvider.getImmediate({optional:!0});if(t){const n=yield t.getToken();if(null!==n)return n.accessToken}return null})()}_getAppCheckToken(){var o=this;return(0,g.Z)(function*(){const t=o._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new st(this,o)}_makeRequest(o,t,n,i,s=!0){if(this._deleted)return new va(zn());{const O=function Ia(r,o,t,n,i,s,O=!0){const j=$n(r.urlParams),X=r.url+j,ie=Object.assign({},r.headers);return function Ma(r,o){o&&(r["X-Firebase-GMPID"]=o)}(ie,o),function Oa(r,o){null!==o&&o.length>0&&(r.Authorization="Firebase "+o)}(ie,t),function xa(r,o){r["X-Firebase-Storage-Version"]="webjs/"+(o??"AppManager")}(ie,s),function ka(r,o){null!==o&&(r["X-Firebase-AppCheck"]=o)}(ie,n),new Sa(X,r.method,ie,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,O)}(o,this._appId,n,i,t,this._firebaseVersion,s);return this._requests.add(O),O.getPromise().then(()=>this._requests.delete(O),()=>this._requests.delete(O)),O}}makeRequestWithTokens(o,t){var n=this;return(0,g.Z)(function*(){const[i,s]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(o,t,i,s).getPromise()})()}}const wr="@firebase/storage",Cr="storage";function Wt(r){return vi(r=(0,Ve.m9)(r))}function lt(r,o){return function Ti(r,o){if(o&&function yi(r){return/^[A-Za-z]+:\/\//.test(r)}(o)){if(r instanceof On)return function Ai(r,o){return new st(r,o)}(r,o);throw bn("To use ref(service, url), the first argument must be a Storage instance.")}return _r(r,o)}(r=(0,Ve.m9)(r),o)}function ct(r=(0,ht.getApp)(),o){r=(0,Ve.m9)(r);const n=(0,ht._getProvider)(r,Cr).getImmediate({identifier:o}),i=(0,Ve.P0)("storage");return i&&function ki(r,o,t,n={}){!function Ei(r,o,t,n={}){r.host=`${o}:${t}`,r._protocol="http";const{mockUserToken:i}=n;i&&(r._overrideAuthToken="string"==typeof i?i:(0,Ve.Sg)(i,r.app.options.projectId))}(r,o,t,n)}(n,...i),n}function Ii(r,{instanceIdentifier:o}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new On(t,n,i,o,ht.SDK_VERSION)}!function Pi(){(0,ht._registerComponent)(new aa.wA(Cr,Ii,"PUBLIC").setMultipleInstances(!0)),(0,ht.registerVersion)(wr,"0.11.2",""),(0,ht.registerVersion)(wr,"0.11.2","esm2017")}();var yr=M(4122);let xn=(()=>{class r{constructor(t){this.fireCommonService=t,this.baseStorageUrl="",this.baseStorageUrl=this.fireCommonService.firebaseConfig.storage.baseStorageUrl}buildImageUrl(t,n){return this.baseStorageUrl+"/"+(n?`${n}/${t}`:""+t)}getUploadImageValidationText(){const{maxKBs:t,maxWidth:n,maxHeight:i,minWidth:s,minHeight:O}=this.fireCommonService.firebaseConfig.storage.imageDimensions;return`Allowed width is ${s}px to ${n}px, height is ${O}px to ${i}px and size is up to ${t}KBs`}validateImage(t){var n=this;return(0,g.Z)(function*(){if(!t)return"Empty Image";const{maxKBs:i}=n.fireCommonService.firebaseConfig.storage.imageDimensions;return t.type.indexOf("image/")<0?"Not a valid image file. Please try uploading a valid jpg/gif/png image file.":t.size>1024*i?`Image size exceeds the limit of ${i}KBs`:yield n.validateImageDimension(t)})()}validateImageDimension(t){var n=this;return(0,g.Z)(function*(){const{maxWidth:i,maxHeight:s,minWidth:O,minHeight:j}=n.fireCommonService.firebaseConfig.storage.imageDimensions;var X=new FileReader;return X.readAsDataURL(t),new Promise((ge,be)=>{X.onload=Se=>{const Ee=new Image;Ee.src=Se.target.result,Ee.onload=()=>{const Ie=Ee.naturalWidth;ge(Ie>i||O<O||s>s||j<j?`Image dimensions are ${Ie}px X ${Ee.naturalHeight}px and does not meet the requirement. Allowed width = ${O}px to ${i}px and allowed height = ${j}px to ${s}px`:"")},Ee.onerror=Ie=>{be("Error loading Image")}}})})()}uploadImage(t,n,i=!1,s="",O=!1){var j=this;return(0,g.Z)(function*(){const ge=lt(ct(j.fireCommonService.initOrGetFirebaseApp(),j.fireCommonService.firebaseConfig.app.storageBucket),j.buildImageUrl(t,s));if(!i)try{if(yield Wt(ge))throw new Error("Image already exists -"+t)}catch(be){if("storage/object-not-found"!==be.code)throw be}try{O&&(n=yield j.compressBase64ToJpeg(n));const be=yield function Si(r,o,t){return hr(r=(0,Ve.m9)(r),o,t)}(ge,n),Se=yield j.getImageUrl(t,s);return{name:be.ref.name,fullPath:be.ref.fullPath,downloadUrl:Se}}catch(be){throw be}})()}getImageUrl(t,n=""){var i=this;return(0,g.Z)(function*(){const j=lt(ct(i.fireCommonService.initOrGetFirebaseApp(),i.fireCommonService.firebaseConfig.app.storageBucket),i.buildImageUrl(t,n));try{return yield Wt(j)}catch(X){throw X}})()}deleteImage(t,n=""){var i=this;return(0,g.Z)(function*(){const s=ct(i.fireCommonService.initOrGetFirebaseApp(),i.fireCommonService.firebaseConfig.app.storageBucket),O=i.buildImageUrl(t,n),j=lt(s,O);try{return yield function Mi(r){return function Ci(r){r._throwIfRoot("deleteObject");const o=function ei(r,o){const n=Xe(o.fullServerUrl(),r.host,r._protocol),j=new $e(n,"DELETE",function O(X,ie){},r.maxOperationRetryTime);return j.successCodes=[200,204],j.errorHandler=xt(o),j}(r.storage,r._location);return r.storage.makeRequestWithTokens(o,Ye)}(r=(0,Ve.m9)(r))}(j),O}catch(X){throw X}})()}getImagesList(t="",n=10,i=null){var s=this;return(0,g.Z)(function*(){const X=lt(ct(s.fireCommonService.initOrGetFirebaseApp(),s.fireCommonService.firebaseConfig.app.storageBucket),s.buildImageUrl("",t));try{const ie={maxResults:n};i&&(ie.pageToken=i);const ge=yield function xi(r,o){return function mr(r,o){null!=o&&"number"==typeof o.maxResults&&vn("options.maxResults",1,1e3,o.maxResults);const t=o||{},n=$a(r.storage,r._location,"/",t.pageToken,t.maxResults);return r.storage.makeRequestWithTokens(n,Ye)}(r=(0,Ve.m9)(r),o)}(X,ie);return{imageFiles:ge.items.map(Se=>({name:Se.name,fullPath:Se.fullPath,downloadUrl:""})),nextPageToken:ge.nextPageToken}}catch(ie){throw ie}})()}imageExists(t,n=""){var i=this;return(0,g.Z)(function*(){const j=lt(ct(i.fireCommonService.initOrGetFirebaseApp(),i.fireCommonService.firebaseConfig.app.storageBucket),i.buildImageUrl(t,n));try{return!!(yield Wt(j))}catch(X){if("storage/object-not-found"!==X.code)throw X;return!1}})()}compressBase64ToJpeg(t){var n=this;return(0,g.Z)(function*(){const{maxWidth:i}=n.fireCommonService.firebaseConfig.storage.imageDimensions;return new Promise((s,O)=>{const j=n.dataURItoBlob(t,"image/jpeg"),X={strict:!0,checkOrientation:!0,width:i,height:i/2,maxWidth:i,maxHeight:i/2,resize:"cover",convertTypes:"image/jpg",quality:.7,success:ie=>{s(ie)},error:ie=>{O(`Image compression error:${ie.message}`)}};new(ra())(j,X)})})()}dataURItoBlob(t,n){const i=atob(t),s=new ArrayBuffer(i.length),O=new Uint8Array(s);for(let j=0;j<i.length;j++)O[j]=i.charCodeAt(j);return new Blob([O],{type:n})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(yr.N))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ar=(()=>{class r{constructor(t,n){this.fireStorageImageService=t,this.fireAuthService=n,this.imageFiles$=new Ge.X([]),this.selected$=new Ge.X(null),this.previewOnImages$=new Ge.X({}),this._pageSize=10,this.userId="",this.nextPageToken=null,this.fireAuthService.authStateChanged().subscribe(i=>{i?.id&&i.id!==this.userId?(this.clear(),this.userId=i.id):i?.id||(this.clear(),this.userId=null)})}clear(){this.imageFiles$.next([]),this.previewOnImages$.next({}),this.selected$.next(null)}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=t}get imageFiles(){return this.imageFiles$.asObservable()}get selected(){return this.selected$.asObservable()}get previewOnImages(){return this.previewOnImages$.asObservable()}refreshList(){var t=this;return(0,g.Z)(function*(){if(t.userId=t.fireAuthService.getCurrentUserId(),!t.userId)throw new Error("User is not authenticated or logged in.");const n=yield t.fireStorageImageService.getImagesList(t.userId,t.pageSize,t.nextPageToken).catch(i=>{throw i});return t.nextPageToken=n?.nextPageToken||null,t.uploadValidationText=t.fireStorageImageService.getUploadImageValidationText(),t.previewOnImages$.next({}),t.selected$.next(null),t.imageFiles$.next(n?.imageFiles||[]),n?.imageFiles||[]})()}loadMore(){var t=this;return(0,g.Z)(function*(){if(t.userId=t.fireAuthService.getCurrentUserId(),!t.userId)throw new Error("User is not authenticated or logged in.");const n=yield t.fireStorageImageService.getImagesList(t.userId,t.pageSize,t.nextPageToken).catch(i=>{throw i});return t.nextPageToken=n?.nextPageToken||null,t.imageFiles$.next([...t.imageFiles$.value,...n?.imageFiles||[]]),n?.imageFiles||[]})()}delete(t){var n=this;return(0,g.Z)(function*(){if(n.userId=n.fireAuthService.getCurrentUserId(),!n.userId)throw new Error("User is not authenticated or logged in.");const i=yield n.fireStorageImageService.deleteImage(t?.name,n.userId).catch(s=>{throw s});return n.imageFiles$.next(n.imageFiles$.value.filter(s=>s.fullPath!==i)),t})()}upload(t,n){var i=this;return(0,g.Z)(function*(){if(i.userId=i.fireAuthService.getCurrentUserId(),!i.userId)throw new Error("User is not authenticated or logged in.");const s=yield i.fireStorageImageService.validateImage(n).catch(j=>j);if(s)throw new Error(s);const O=yield i.fireStorageImageService.uploadImage(t,n,!1,i.userId,!1).catch(j=>{throw j});return i.imageFiles$.next([O,...i.imageFiles$.value]),O})()}selectImageFile(t){this.selected$.next(t)}previewImageFile(t,n=!0){this.previewOnImages$.next({...this.previewOnImages$.value,[t]:n})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(xn),e.LFG(_.i))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Xt=M(8526),ve=(()=>((ve=ve||{}).number="number",ve.string="string",ve.Array="Array",ve.Object="Object",ve.any="any",ve))();const Tr={type:ve.string,value:"gpt-3.5-turbo"},Er={type:ve.string,value:"whisper-1"},Mt={type:ve.number,value:1},en={type:ve.number,value:1,min:0,max:2,step:.1},gt={type:ve.string,value:""},Sr={type:ve.Object,value:null},kt={type:ve.string,value:"json",rangeValues:["json","text","srt","verbose_json","vtt"]},Mn={type:ve.string,value:"b64_json",rangeValues:["b64_json","url"]},kn={type:ve.string,value:"1024x1024",rangeValues:["1024x1024","512x512","256x256"]},Or={type:ve.string,value:""},xr={baseApiUrl:{type:ve.string,value:"https://api.openai.com/v1/"},apiKey:{type:ve.string,value:""},cleanupKeywords:{type:ve.string,value:"AI model, As an AI language model"},headers:{type:ve.Object,value:{"OpenAI-Organization":{type:ve.string,value:""}}},endpoints:{type:ve.Object,value:{models:{type:ve.Object,value:{responseKey:{type:ve.string,value:"data"},requestParams:{type:ve.Object,value:{response_format:kt}}}},"chat/completions":{type:ve.Object,value:{responseKey:{type:ve.string,value:"choices[].message.content"},requestParams:{type:ve.Object,value:{model:Tr,messages:{type:ve.Array,value:[]},temperature:en,n:Mt,response_format:kt}}}},completions:{type:ve.Object,value:{responseKey:{type:ve.string,value:"choices[].text"},requestParams:{type:ve.Object,value:{model:Tr,prompt:gt,temperature:en,n:Mt,max_tokens:{type:ve.number,value:1024,min:1,max:2048,step:1},response_format:kt}}}},"images/generations":{type:ve.Object,value:{responseKey:{type:ve.string,value:"data.b64_json"},requestParams:{type:ve.Object,value:{prompt:gt,size:kn,n:Mt,response_format:Mn}}}},"images/edits":{type:ve.Object,value:{responseKey:{type:ve.string,value:"data.b64_json"},requestParams:{type:ve.Object,value:{image:Or,mask:{type:ve.string,value:""},prompt:gt,size:kn,n:Mt,response_format:Mn}}}},"images/variations":{type:ve.Object,value:{responseKey:{type:ve.string,value:"data.b64_json"},requestParams:{type:ve.Object,value:{image:Or,prompt:gt,size:kn,n:Mt,response_format:Mn}}}},"audio/transcriptions":{type:ve.Object,value:{responseKey:{type:ve.string,value:"text"},requestParams:{type:ve.Object,value:{model:Er,file:Sr,language:{type:ve.string,value:"en"},prompt:gt,temperature:en,response_format:kt}}}},"audio/translations":{type:ve.Object,value:{responseKey:{type:ve.string,value:"text"},requestParams:{type:ve.Object,value:{model:Er,file:Sr,prompt:gt,temperature:en,response_format:kt}}}}}}};let tn=(()=>{class r{constructor(){this.config$=new Ge.X(xr)}get config(){return this.config$.asObservable()}get configValue(){return this.config$.value}initOpenai(t,n){this.config$.next(this.mergeKeyConfigWithBaseConfig(this.config$.value,{apiKey:t,organization:n}))}mergeKeyConfigWithBaseConfig(t,n){const{apiKey:i,organization:s}=n;return{...t,apiKey:{...t.apiKey,value:i},headers:{...t.headers,value:{...t.headers.value,"OpenAI-Organization":{...t.headers.value["OpenAI-Organization"],value:s}}}}}getKeyConfig(t){return{apiKey:t?.apiKey?.value,organization:t?.headers?.value["OpenAI-Organization"].value}}updateConfig(t){this.config$.next(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),It=(()=>{class r{constructor(t){this.openaiConfigService=t,this.openaiConfigService.config.subscribe(n=>{this.initOpenai(this.openaiConfigService.getKeyConfig(n))})}initOpenai(t){if(!t||!t.apiKey||!t.organization)throw new Error("Invalid openai configuration.");this.openaiConfig={...t};const{apiKey:n,organization:i}=this.openaiConfig,s=new Xt.Configuration({organization:i,apiKey:n});delete s.baseOptions.headers["User-Agent"],this.openAi=null,this.openAi=new Xt.OpenAIApi(s)}getChatResponse(t){var n=this;return(0,g.Z)(function*(){if(!n.openAi)throw new Error("Openai is not initialzed. Use initOpenai(openaiConfig) to initialize");if(!t||!t.length)throw new Error("Not a valid Prompt. Provide one or more prompts in an array of strings.");const s={model:"gpt-3.5-turbo",messages:t.map(ie=>({role:"user",content:ie})),temperature:.7,n:1};return((yield n.openAi.createChatCompletion(s)).data?.choices||[]).map(ie=>ie.message?.content).join("\n")})()}getImagetResponse(t,n=1,i){var s=this;return(0,g.Z)(function*(){if(!s.openAi)throw new Error("Openai is not initialzed. Use initOpenai(openaiConfig) to initialize");if(!t)throw new Error("Not a valid Image Prompt.");const O={prompt:t,n:n||1,size:i||Xt.CreateImageRequestSizeEnum._1024x1024,response_format:Xt.CreateImageRequestResponseFormatEnum.B64Json};return((yield s.openAi.createImage(O)).data?.data||[]).map(ge=>ge.b64_json||"")})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(tn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Re=(()=>((Re=Re||{}).imageFile="imageFile",Re.imageFiles="imageFiles",Re.loadMore="loadMore",Re.uploadImageFile="uploadImageFile",Re))(),Qe=M(3598);const Li=["fileInput"];function Bi(r,o){if(1&r&&e._UZ(0,"anu-error",20),2&r){const t=e.oxw();e.Q6J("code",null==t.error?null:t.error.code)("message",null==t.error?null:t.error.message)}}function Di(r,o){if(1&r&&(e.TgZ(0,"span")(1,"small"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadHelpText)}}function Zi(r,o){if(1&r&&e._UZ(0,"img",21),2&r){const t=e.oxw();e.Q6J("src","getImage?imageId="+(null==t.selectedImageFile?null:t.selectedImageFile.fullPath),e.LSH)("alt",null==t.selectedImageFile?null:t.selectedImageFile.name)}}function ji(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",28),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw().$implicit,O=e.oxw();return e.KtG(O.previewClick(i,s))}),e._uU(1,"\u{1f441}"),e.qZA()}}function Ji(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw().$implicit,O=e.oxw();return e.KtG(O.selectClick(i,s))}),e._uU(1,"\u2714"),e.qZA()}}function qi(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"anu-card",22)(2,"anu-card-title",23),e._uU(3),e._UZ(4,"anu-spinner",11),e.qZA(),e.TgZ(5,"anu-card-footer")(6,"div",24),e.YNc(7,ji,2,0,"a",25),e.YNc(8,Ji,2,0,"a",26),e.TgZ(9,"a",27),e.NdJ("click",function(i){const O=e.CHM(t).$implicit,j=e.oxw();return e.KtG(j.deleteClick(i,O))}),e._uU(10,"X"),e.qZA()()()(),e.BQk()}if(2&r){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Udp("background-image",n.previewOnImages[t.fullPath]?"url('getImage?imageId="+t.fullPath+"')":"none"),e.ekj("shadow",t.fullPath===(null==n.selectedImageFile?null:n.selectedImageFile.fullPath)),e.xp6(2),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("show",!(null==n.loading||!n.loading.imageFile)&&n.loading.imageFile[null==t?null:t.fullPath]),e.xp6(3),e.Q6J("ngIf",!n.previewOnImages[t.fullPath]),e.xp6(1),e.Q6J("ngIf",t.fullPath!==(null==n.selectedImageFile?null:n.selectedImageFile.fullPath))}}function Hi(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-card",30)(1,"anu-card-body",31)(2,"a",32),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.loadMoreClick(i))}),e._uU(3,"Load more..."),e.qZA(),e._UZ(4,"anu-spinner",11),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("show",t.loading.loadMore)}}const Qi=function(){return["name"]};let Gi=(()=>{class r{constructor(t){this.imageBrowserService=t,this.imageFiles=[],this.selectedImageFile=null,this.previewOnImages={},this.imagesFilesFiltered=[],this.imagesFilesFilteredCount=0,this.uploadHelpText="",this.choosenFileName="",this.choosenFile=null,this.nextPageToken=null,this.loading={},this.deleteConfirmModalOpened=!1,this.toDeleteImageFile=null,this.imageBrowserService.pageSize=30,this.imageBrowserService.imageFiles.subscribe(n=>{this.imageFiles=n,this.nextPageToken=this.imageBrowserService.nextPageToken,this.uploadHelpText=this.imageBrowserService.uploadValidationText}),this.imageBrowserService.selected.subscribe(n=>{this.selectedImageFile=n}),this.imageBrowserService.previewOnImages.subscribe(n=>{this.previewOnImages=n})}ngOnInit(){}setErrorAndLoading(t,n=null,i=!0,s=""){if(this.error=n?{code:n.code||n.status||"UNKNOWN",message:n.message||n.text||n.toString()}:null,s)this.loading.imageFile=this.loading.imageFile||{},this.loading.imageFile[s]=i;else switch(t){case Re.imageFiles:this.loading.imageFiles=i;break;case Re.loadMore:this.loading.loadMore=i;break;case Re.uploadImageFile:this.loading.uploadImageFile=i}}onImageListFilter(t){this.imagesFilesFiltered=t,setTimeout(()=>{this.imagesFilesFilteredCount=this.imagesFilesFiltered?.length||0})}refreshClick(t){t.preventDefault(),this.setErrorAndLoading(Re.imageFiles),this.imageBrowserService.refreshList().then(()=>{this.setErrorAndLoading(Re.imageFiles,null,!1)},n=>{this.setErrorAndLoading(Re.imageFiles,n,!1)})}selectClick(t,n){t.preventDefault(),this.imageBrowserService.selectImageFile(n)}loadMoreClick(t){t.preventDefault(),this.setErrorAndLoading(Re.loadMore),this.imageBrowserService.loadMore().then(()=>{this.setErrorAndLoading(Re.loadMore,null,!1)},n=>{this.setErrorAndLoading(Re.loadMore,n,!1)})}deleteImageOkClick(){this.deleteConfirmModalOpened=!1,this.setErrorAndLoading(Re.imageFile,null,!0,this.toDeleteImageFile.fullPath),this.imageBrowserService.delete(this.toDeleteImageFile).then(()=>{this.setErrorAndLoading(Re.imageFile,null,!1,this.toDeleteImageFile.fullPath),this.toDeleteImageFile=null},t=>{this.setErrorAndLoading(Re.imageFile,t,!1,this.toDeleteImageFile.fullPath),this.toDeleteImageFile=null})}deleteImageCancelClick(){this.deleteConfirmModalOpened=!1,this.toDeleteImageFile=null}deleteClick(t,n){t.preventDefault(),this.deleteConfirmModalOpened=!0,this.toDeleteImageFile=n}previewClick(t,n){t.preventDefault(),this.imageBrowserService.previewImageFile(n.fullPath)}onFileChange(t){this.choosenFileName="",t.target.files.length>0&&(this.choosenFile=t.target.files[0],this.choosenFileName=this.choosenFile.name)}uploadClick(){const t=this.fileEl.nativeElement;t.value="",this.choosenFileName="",t.click()}uploadFileClick(t){t.preventDefault(),this.choosenFileName&&this.choosenFile&&(this.setErrorAndLoading(Re.uploadImageFile),this.imageBrowserService.upload(this.choosenFileName||this.choosenFile.name,this.choosenFile).then(n=>{this.imageBrowserService.selectImageFile(n),this.setErrorAndLoading(Re.uploadImageFile,null,!1)},n=>{this.setErrorAndLoading(Re.uploadImageFile,n,!1)}))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ar))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-image-browser"]],viewQuery:function(t,n){if(1&t&&e.Gf(Li,5),2&t){let i;e.iGM(i=e.CRH())&&(n.fileEl=i.first)}},inputs:{imageFiles:"imageFiles"},decls:34,vars:20,consts:[["class","container",3,"code","message",4,"ngIf"],[1,"row"],[1,"col-sm-12","col-md-6","col-lg-6"],[1,"border-round","shadow","spacing-half","relative"],[4,"ngIf"],[1,"form-group","container","center"],["id","file","type","file",1,"",3,"change"],["fileInput",""],["type","button","value","Choose file to upload...",1,"btn",3,"click"],["type","text","placeholder","No image to upload",1,"spacing-around-vertical-half",3,"ngModel","ngModelChange"],["href","#","title","Upload",1,"btn","primary","spacing-around-vertical-half",3,"click"],[1,"col-12",3,"show"],["class","selected-image shadow",3,"src","alt",4,"ngIf"],[1,"row","border","center"],["classs","col-12",3,"items","keys","changed"],["href","#","title","Reload List",1,"spacing",3,"click"],[1,"row","border"],[4,"ngFor","ngForOf"],["class","image-list-item border-round border spacing-half col-sm-12 col-md-4 col-lg-4 relative",4,"ngIf"],[3,"cancelLabel","enableCancel","enableClose","enableOk","okLabel","opened","modalTitle","okClick","cancelClick"],[1,"container",3,"code","message"],[1,"selected-image","shadow",3,"src","alt"],[1,"image-list-item","border-round","border","col-sm-12","col-md-4","col-lg-4","relative"],[1,"spacing-half","image-list-item_title","accent-deep-light"],[1,"row","right","nowrap","image-list-item_controls","spacing-vertical-half","spacing-horizontal"],["class","image-list-item_control btn primary accent-deep-light","href","#","title","Preview",3,"click",4,"ngIf"],["class","image-list-item_control btn primary accent-deep-light","href","#","title","select",3,"click",4,"ngIf"],["href","#","title","delete",1,"image-list-item_control","btn","error","accent-deep-light",3,"click"],["href","#","title","Preview",1,"image-list-item_control","btn","primary","accent-deep-light",3,"click"],["href","#","title","select",1,"image-list-item_control","btn","primary","accent-deep-light",3,"click"],[1,"image-list-item","border-round","border","spacing-half","col-sm-12","col-md-4","col-lg-4","relative"],[1,"center","center-text","col-12"],["href","#",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,Bi,1,2,"anu-error",0),e.TgZ(1,"div",1)(2,"div",2)(3,"anu-card",3)(4,"anu-card-title")(5,"h3"),e._uU(6,"Upload Image"),e.qZA()(),e.TgZ(7,"anu-card-body"),e.YNc(8,Di,3,1,"span",4),e.TgZ(9,"div",5)(10,"input",6,7),e.NdJ("change",function(s){return n.onFileChange(s)}),e.qZA(),e.TgZ(12,"input",8),e.NdJ("click",function(){return n.uploadClick()}),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(s){return n.choosenFileName=s}),e.qZA(),e.TgZ(14,"a",10),e.NdJ("click",function(s){return n.uploadFileClick(s)}),e._uU(15,"Upload"),e.qZA()(),e._UZ(16,"anu-spinner",11),e.qZA()()(),e.TgZ(17,"div",2),e.YNc(18,Zi,1,2,"img",12),e.qZA()(),e.TgZ(19,"div",13)(20,"strong"),e._uU(21),e.qZA(),e.TgZ(22,"anu-search-box",14),e.NdJ("changed",function(s){return n.onImageListFilter(s)}),e.qZA(),e.TgZ(23,"a",15),e.NdJ("click",function(s){return n.refreshClick(s)}),e._uU(24,"\u27f3 Reload"),e.qZA()(),e.TgZ(25,"div",16),e.YNc(26,qi,11,8,"ng-container",17),e.YNc(27,Hi,5,1,"anu-card",18),e._UZ(28,"anu-spinner",11),e.qZA(),e.TgZ(29,"anu-modal",19),e.NdJ("okClick",function(){return n.deleteImageOkClick()})("cancelClick",function(){return n.deleteImageCancelClick()}),e.TgZ(30,"p"),e._uU(31,"This will delete the image file permanently and can not be restored."),e.qZA(),e.TgZ(32,"strong"),e._uU(33,"Do you want to continue?"),e.qZA()()),2&t&&(e.Q6J("ngIf",n.error),e.xp6(8),e.Q6J("ngIf",n.uploadHelpText),e.xp6(5),e.Q6J("ngModel",n.choosenFileName),e.xp6(3),e.Q6J("show",n.loading.uploadImageFile),e.xp6(2),e.Q6J("ngIf",n.selectedImageFile),e.xp6(3),e.AsE("",n.imagesFilesFilteredCount," / ",(null==n.imageFiles?null:n.imageFiles.length)||0,""),e.xp6(1),e.Q6J("items",n.imageFiles)("keys",e.DdM(19,Qi)),e.xp6(4),e.Q6J("ngForOf",n.imagesFilesFiltered),e.xp6(1),e.Q6J("ngIf",n.nextPageToken),e.xp6(1),e.Q6J("show",n.loading.imageFiles),e.xp6(1),e.Q6J("cancelLabel","No")("enableCancel",!0)("enableClose",!0)("enableOk",!0)("okLabel","Yes")("opened",n.deleteConfirmModalOpened)("modalTitle","Confirm Image Deletion"))},dependencies:[y.sg,y.O5,$.Fj,$.JJ,$.On,u.A,T.E,f.y,U.x,Qe.z,I.O,Ke.q,ce],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;flex-flow:wrap;position:relative}[_nghost-%COMP%]   .image-list-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;min-height:12rem;overflow:hidden}[_nghost-%COMP%]   .image-list-item_controls[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;background-color:#0000001a}[_nghost-%COMP%]   .image-list-item_title[_ngcontent-%COMP%]{background-color:#00000080;word-break:break-all}@media screen and (max-width: 767px){[_nghost-%COMP%]   .image-list-item_control.btn[_ngcontent-%COMP%]{padding:.2rem .7rem}}@media screen and (min-width: 768px) and (max-width: 1023px){[_nghost-%COMP%]   .image-list-item_control.btn[_ngcontent-%COMP%]{padding:.2rem .7rem}}@media screen and (min-width: 1024px){[_nghost-%COMP%]   .image-list-item_control.btn[_ngcontent-%COMP%]{padding:.2rem .7rem}}[_nghost-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   anu-search-box[_ngcontent-%COMP%]{transform:scale(.7)}"]}),r})();var ot=(()=>((ot=ot||{})._256x256="256x256",ot._512x512="512x512",ot._1024x1024="1024x1024",ot))();function Vi(r,o){if(1&r&&e._UZ(0,"anu-error",11),2&r){const t=e.oxw();e.Q6J("message",t.errorMsg)}}function zi(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",12)(1,"label"),e._uU(2,"Generated Image "),e.TgZ(3,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.generatedBase64Image="")}),e._uU(4,"Clear"),e.qZA()(),e._UZ(5,"img",14),e.qZA()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("src","data:image/image/jpg;base64,"+t.generatedBase64Image,e.LSH)}}function Yi(r,o){if(1&r&&(e.TgZ(0,"div",12),e._UZ(1,"img",14),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("src",t.savedImageUrl,e.LSH)}}function $i(r,o){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMsg)}}let Wi=(()=>{class r{constructor(t,n,i){this.openaiService=t,this.fireStorageImageService=n,this.fireAuthService=i,this.imagePromptText="",this.imageFileName="",this.imageGenerated=new e.vpe,this.fileUploaded=new e.vpe,this.generatedBase64Image="",this.savedImageUrl="",this.loading=!1,this.errorMsg=""}generateImage(){var t=this;return(0,g.Z)(function*(){if(!t.imagePromptText.trim())return"";t.startLoading();try{return[t.generatedBase64Image]=yield t.openaiService.getImagetResponse(t.imagePromptText,1,ot._1024x1024),t.stopLoading(),t.imageGenerated.emit(t.generatedBase64Image),t.generatedBase64Image}catch(n){return t.generatedBase64Image="",t.stopLoading(n?.message),t.imageGenerated.emit(""),""}})()}uploadImage(){var t=this;return(0,g.Z)(function*(){if(t.startLoading(),!t.generatedBase64Image||!t.imageFileName)return void t.stopLoading("Empty Image or not a valid file name");const n=t.fireAuthService.getCurrentUserId();if(n)try{const i=yield t.fireStorageImageService.uploadImage(t.imageFileName,t.generatedBase64Image,!0,n,!0);return t.generatedBase64Image="",t.savedImageUrl=`getImage?imageId=${i.fullPath}`,t.fileUploaded.emit(i),void t.stopLoading()}catch(i){return void t.stopLoading(i.message)}else t.stopLoading("User is not authenticated or logged in.")})()}startLoading(){this.loading=!0,this.errorMsg=""}stopLoading(t=""){this.loading=!1,this.errorMsg=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(It),e.Y36(xn),e.Y36(_.i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-openai-image-form"]],inputs:{imagePromptText:"imagePromptText",imageFileName:"imageFileName"},outputs:{imageGenerated:"imageGenerated",fileUploaded:"fileUploaded"},decls:21,vars:7,consts:[["code","UNKNOWN",3,"message",4,"ngIf"],[1,"container","relative","disable-select"],["type","text","name","imagePromptText",3,"ngModel","ngModelChange"],[1,"error"],["type","text","name","imageFileName",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"row","spacing"],[1,"col-6","center"],["href","javascript:void(0)",1,"btn","primary",3,"click"],[3,"show"],["code","UNKNOWN",3,"message"],[1,"row"],["href","javascript:void(0)",1,"primary",3,"click"],[1,"oif_image","spacing-around-vertical",3,"src"]],template:function(t,n){1&t&&(e.YNc(0,Vi,1,1,"anu-error",0),e.TgZ(1,"form",1)(2,"label"),e._uU(3,"Image Prompt"),e.qZA(),e.TgZ(4,"input",2),e.NdJ("ngModelChange",function(s){return n.imagePromptText=s}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Image file name to save generated image"),e.TgZ(7,"small",3),e._uU(8,"* Any image with this filename will be overwritten in your image library."),e.qZA()(),e.TgZ(9,"input",4),e.NdJ("ngModelChange",function(s){return n.imageFileName=s}),e.qZA(),e.YNc(10,zi,6,1,"div",5),e.YNc(11,Yi,2,1,"div",5),e.YNc(12,$i,2,1,"p",6),e.TgZ(13,"div",7)(14,"div",8)(15,"a",9),e.NdJ("click",function(){return n.generateImage()}),e._uU(16,"Generate"),e.qZA()(),e.TgZ(17,"div",8)(18,"a",9),e.NdJ("click",function(){return n.uploadImage()}),e._uU(19,"Upload"),e.qZA()()(),e._UZ(20,"anu-spinner",10),e.qZA()),2&t&&(e.Q6J("ngIf",n.errorMsg),e.xp6(4),e.Q6J("ngModel",n.imagePromptText),e.xp6(5),e.Q6J("ngModel",n.imageFileName),e.xp6(1),e.Q6J("ngIf",!!n.generatedBase64Image),e.xp6(1),e.Q6J("ngIf",n.savedImageUrl),e.xp6(1),e.Q6J("ngIf",n.errorMsg),e.xp6(8),e.Q6J("show",n.loading))},dependencies:[y.O5,$._Y,$.Fj,$.JJ,$.JL,$.On,$.F,I.O,Ke.q],styles:["[_nghost-%COMP%]   .oif_image[_ngcontent-%COMP%]{width:100%}"]}),r})();const Mr=function(){return["size-sm"]};function Xi(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-collapsible",8)(1,"anu-collapsible-header")(2,"strong"),e._uU(3,"Autogenerate Image"),e.qZA()(),e.TgZ(4,"anu-collapsible-content",9)(5,"anu-openai-image-form",10),e.NdJ("fileUploaded",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.openaiFileUploaded(i))}),e.qZA()()()}2&r&&e.Q6J("isDropdownStyle",!0)("collapsed",!1)("hamBurgerClassNames",e.DdM(3,Mr))}function eo(r,o){1&r&&(e.TgZ(0,"anu-collapsible",8)(1,"anu-collapsible-header")(2,"strong"),e._uU(3,"Browse from Server"),e.qZA()(),e.TgZ(4,"anu-collapsible-content"),e._UZ(5,"anu-image-browser"),e.qZA()()),2&r&&e.Q6J("isDropdownStyle",!0)("collapsed",!1)("hamBurgerClassNames",e.DdM(3,Mr))}let nn=(()=>{class r{constructor(t,n,i){this.imageBrowserService=t,this.openaiService=n,this.appConfigService=i,this.src="",this.alt="",this.enableOpenai=!1,this.enableImageBrowser=!0,this.cancel=new e.vpe,this.save=new e.vpe,this.imageBrowserService.selected.subscribe(s=>{this.src=s&&`getImage?imageId=${s.fullPath}`||""})}ngOnInit(){this.openaiService.initOpenai(this.appConfigService.openai)}cancelClicked(t){t.preventDefault(),this.cancel.emit()}saveClicked(t){t.preventDefault(),this.save.emit({src:this.src,alt:this.alt})}openaiFileUploaded(t){this.src=t&&`getImage?imageId=${t.fullPath}`||""}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ar),e.Y36(It),e.Y36(w._))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-cms-image-form"]],inputs:{src:"src",alt:"alt",enableOpenai:"enableOpenai",enableImageBrowser:"enableImageBrowser"},outputs:{cancel:"cancel",save:"save"},decls:17,vars:4,consts:[[1,"container","disable-select"],[1,"container","border","border-round","spacing-half"],["type","text","name","image-src",3,"ngModel","ngModelChange"],["type","text","name","image-alt",3,"ngModel","ngModelChange"],[1,"row","spacing"],[1,"col-6","center"],["href","#",1,"btn","primary",3,"click"],["class","spacing spacing-around-vertical shadow border-radius container",3,"isDropdownStyle","collapsed","hamBurgerClassNames",4,"ngIf"],[1,"spacing","spacing-around-vertical","shadow","border-radius","container",3,"isDropdownStyle","collapsed","hamBurgerClassNames"],[1,"spacing"],[3,"fileUploaded"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"label"),e._uU(3,"Image source"),e.qZA(),e.TgZ(4,"input",2),e.NdJ("ngModelChange",function(s){return n.src=s}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Image alt text"),e.qZA(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(s){return n.alt=s}),e.qZA(),e.TgZ(8,"div",4)(9,"div",5)(10,"a",6),e.NdJ("click",function(s){return n.cancelClicked(s)}),e._uU(11,"Cancel"),e.qZA()(),e.TgZ(12,"div",5)(13,"a",6),e.NdJ("click",function(s){return n.saveClicked(s)}),e._uU(14,"Save"),e.qZA()()()(),e.YNc(15,Xi,6,4,"anu-collapsible",7),e.YNc(16,eo,6,4,"anu-collapsible",7),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngModel",n.src),e.xp6(3),e.Q6J("ngModel",n.alt),e.xp6(8),e.Q6J("ngIf",n.enableOpenai),e.xp6(1),e.Q6J("ngIf",n.enableImageBrowser))},dependencies:[y.O5,$._Y,$.Fj,$.JJ,$.JL,$.On,$.F,re,ye,we,Gi,Wi],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%] > anu-collapsible[_ngcontent-%COMP%]{overflow-y:auto}"]}),r})();var ut=M(8112);function to(r,o){1&r&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function no(r,o){if(1&r&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.error||(t.required?"required":"invalid value"))}}function ro(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"input",13),e.NdJ("blur",function(i){e.CHM(t);const s=e.oxw(3);return e.KtG(s.metaChanged(i,!0))}),e.qZA()}if(2&r){const t=e.oxw(2).$implicit,n=e.oxw();e.Q6J("readonly",n.isPropReadOnly(t.name))("name",t.name)("formControlName",t.name)}}function ao(r,o){if(1&r&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(t.label)}}function io(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"select",14),e.NdJ("blur",function(i){e.CHM(t);const s=e.oxw(3);return e.KtG(s.metaChanged(i,!0))}),e.YNc(1,ao,2,2,"option",15),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.Q6J("name",t.name)("formControlName",t.name),e.xp6(1),e.Q6J("ngForOf",t.allowedValues)}}function oo(r,o){if(1&r&&(e.TgZ(0,"div",8)(1,"label"),e._uU(2),e.YNc(3,to,2,0,"span",9),e.qZA(),e.YNc(4,no,2,1,"span",9),e.YNc(5,ro,1,3,"input",10),e.YNc(6,io,2,3,"select",11),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw();e.xp6(2),e.hij("",t.label," "),e.xp6(1),e.Q6J("ngIf",t.required),e.xp6(1),e.Q6J("ngIf",n.metaForm.controls[t.name].invalid&&n.metaForm.controls[t.name].dirty),e.xp6(1),e.Q6J("ngIf",!t.allowedValues),e.xp6(1),e.Q6J("ngIf",t.allowedValues)}}function so(r,o){if(1&r&&(e.ynx(0),e.YNc(1,oo,7,5,"div",7),e.BQk()),2&r){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!t.isAdditionalProp)}}function lo(r,o){1&r&&(e.TgZ(0,"span",12),e._uU(1,"*"),e.qZA())}function co(r,o){if(1&r&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.error||(t.required?"required":"invalid value"))}}function uo(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"input",13),e.NdJ("blur",function(i){e.CHM(t);const s=e.oxw(3);return e.KtG(s.metaChanged(i,!0))}),e.qZA()}if(2&r){const t=e.oxw(2).$implicit,n=e.oxw();e.Q6J("readonly",n.isPropReadOnly(t.name))("name",t.name)("formControlName",t.name)}}function fo(r,o){if(1&r&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(t.label)}}function ho(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"select",14),e.NdJ("blur",function(i){e.CHM(t);const s=e.oxw(3);return e.KtG(s.metaChanged(i,!0))}),e.YNc(1,fo,2,2,"option",15),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.Q6J("name",t.name)("formControlName",t.name),e.xp6(1),e.Q6J("ngForOf",t.allowedValues)}}function po(r,o){if(1&r&&(e.TgZ(0,"div",8)(1,"label"),e._uU(2),e.YNc(3,lo,2,0,"span",9),e.qZA(),e.YNc(4,co,2,1,"span",9),e.YNc(5,uo,1,3,"input",10),e.YNc(6,ho,2,3,"select",11),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw();e.xp6(2),e.hij("",t.label," "),e.xp6(1),e.Q6J("ngIf",t.required),e.xp6(1),e.Q6J("ngIf",n.metaForm.controls[t.name].invalid&&n.metaForm.controls[t.name].dirty),e.xp6(1),e.Q6J("ngIf",!t.allowedValues),e.xp6(1),e.Q6J("ngIf",t.allowedValues)}}function mo(r,o){if(1&r&&(e.ynx(0),e.YNc(1,po,7,5,"div",7),e.BQk()),2&r){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.isAdditionalProp)}}function go(r,o){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=o.$implicit;e.xp6(1),e.hij("\n",t,"")}}const _o=function(){return["size-sm"]};let kr=(()=>{class r{constructor(t,n){this.fb=t,this.metaService=n,this.metaInfo={},this.readonlyMetaProps=[],this.changed=new e.vpe,this.toggleModal=!1,this.metaTags=[],this.metaInfoJsonStr="",this.metaProps=ut.eh.map(s=>({...s}));const i={};this.metaProps.forEach(s=>{const O=[];s.required&&O.push($.kI.required),s.min&&O.push($.kI.min(s.min)),s.max&&O.push($.kI.max(s.max)),i[s.name]=t.control(s.defaultValue||"",O)}),this.metaForm=t.group(i),this.metaForm.valueChanges.subscribe(s=>{this.metaInfo=s})}setValues(t){const n={};this.metaProps.forEach(i=>{n[i.name]=t?.[i.name]||i.defaultValue||""}),this.metaForm.patchValue(n)}ngOnInit(){this.setValues(this.metaInfo)}ngOnChanges(t){this.setValues(this.metaInfo)}metaChanged(t,n=!1){n||t.preventDefault(),this.metaInfo.keywords!=this.metaInfo["article:tag"]&&(this.metaInfo["article:tag"]=this.metaInfo.keywords,this.setValues(this.metaInfo)),this.changed.emit({...this.metaInfo})}previewMetaTags(t){t.preventDefault(),this.toggleModal=!0,this.metaTags=this.metaService.getTagsAsString(this.metaInfo),this.metaInfoJsonStr=JSON.stringify(this.metaInfo,null,"\t")}previewModalCloseClicked(t){this.toggleModal=t}isPropReadOnly(t){return!!this.readonlyMetaProps?.includes(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($.qu),e.Y36(Z.R))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-meta-form"]],inputs:{metaInfo:"metaInfo",readonlyMetaProps:"readonlyMetaProps"},outputs:{changed:"changed"},features:[e.TTD],decls:23,vars:11,consts:[[1,"row",3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],[3,"collapsed","hamBurgerClassNames","isDropdownStyle"],[1,"row"],[1,"row","middle"],["type","button","value","Preview Meta Tags",1,"btn","col-lg-3","col-md-4","col-sm-12","center",3,"click"],["modalTitle","Meta information preview","cancelLabel","Close",3,"enableCancel","opened","cancelClick"],["class","col-lg-6 col-12 bottom",4,"ngIf"],[1,"col-lg-6","col-12","bottom"],["class","error",4,"ngIf"],["type","text",3,"readonly","name","formControlName","blur",4,"ngIf"],[3,"name","formControlName","blur",4,"ngIf"],[1,"error"],["type","text",3,"readonly","name","formControlName","blur"],[3,"name","formControlName","blur"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(s){return n.metaChanged(s)}),e.YNc(1,so,2,1,"ng-container",1),e.TgZ(2,"anu-collapsible",2)(3,"anu-collapsible-header")(4,"label"),e._uU(5,"Additional Meta Tags"),e.qZA()(),e.TgZ(6,"anu-collapsible-content",3),e.YNc(7,mo,2,1,"ng-container",1),e.qZA()(),e.TgZ(8,"div",4)(9,"input",5),e.NdJ("click",function(s){return n.previewMetaTags(s)}),e.qZA()()(),e.TgZ(10,"anu-modal",6),e.NdJ("cancelClick",function(s){return n.previewModalCloseClicked(s)}),e.TgZ(11,"h2"),e._uU(12,"Meta tags"),e.qZA(),e.TgZ(13,"code")(14,"pre"),e._uU(15,"    "),e.YNc(16,go,2,1,"ng-container",1),e._uU(17,"\n    "),e.qZA()(),e.TgZ(18,"h2"),e._uU(19,"metaInfo JSON"),e.qZA(),e.TgZ(20,"code")(21,"pre"),e._uU(22),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.metaForm),e.xp6(1),e.Q6J("ngForOf",n.metaProps),e.xp6(1),e.Q6J("collapsed",!1)("hamBurgerClassNames",e.DdM(10,_o))("isDropdownStyle",!1),e.xp6(5),e.Q6J("ngForOf",n.metaProps),e.xp6(3),e.Q6J("enableCancel",!0)("opened",n.toggleModal),e.xp6(6),e.Q6J("ngForOf",n.metaTags),e.xp6(6),e.hij("",n.metaInfoJsonStr,"\n    "))},dependencies:[y.sg,y.O5,$._Y,$.YN,$.Kr,$.Fj,$.EJ,$.JJ,$.JL,$.sg,$.u,Qe.z,re,ye,we],styles:["[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:2rem}"]}),r})();function bo(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",23)(1,"label",24),e.NdJ("dblclick",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.categoryIdDblClick(i))}),e._uU(2,"Category Id"),e.qZA(),e.TgZ(3,"input",25),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.category.id=i)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.category.id)}}function wo(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"p",24),e.NdJ("dblclick",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.categoryIdDblClick(i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij("/",null==t.category?null:t.category.id,"")}}function vo(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"section",17)(1,"a",26),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteCategory(i))}),e._uU(2,"Delete Category"),e.qZA()()}}function Co(r,o){if(1&r&&(e.TgZ(0,"span",27),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Q6J("ngClass",null!=t.category&&t.category.isLive?"success":"warning"),e.xp6(1),e.Oqu(null!=t.category&&t.category.isLive?"Published":"Unpublished")}}function yo(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"label",12),e._uU(1,"Published? "),e.TgZ(2,"anu-toggle",13),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.isLiveChanged(i))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("rounded",!0)("checked",null==t.category?null:t.category.isLive)}}const In=function(r){return{active:r}};let Ao=(()=>{class r{constructor(t){this.utils=t,this.imageHelpText="",this.readonlyId=!0,this.readonlyTitle=!1,this.enableUniqueId=!0,this.enablePublish=!0,this.enableOpenai=!0,this.enableDelete=!0,this.enableReadonlyIdToggle=!0,this.changed=new e.vpe,this.saveClicked=new e.vpe,this.deleteClicked=new e.vpe,this.inReviewClicked=new e.vpe,this.isLiveClicked=new e.vpe,this.toggleImageForm=!1,this.tabs=Qt.map(n=>({...n})),this.activeTab=this.tabs[0],this.selectedCategoryFeatures=[],this.categoryFeatures=[],this.readonlyMetaProps=[],this.sampleCategory={...rt,id:this.utils.getUniqueFromString(rt.metaInfo.title),created:t.currentDate,updated:t.currentDate},this.category={...this.sampleCategory},this.categoryFeatures=Object.keys(P.w).map(n=>({id:P.w[n],title:P.w[n]})),this.categoryMetaChanged=this.categoryMetaChanged.bind(this)}initCategory(){this.value?this.category={...this.value,metaInfo:{...this.value.metaInfo}}:(this.value={...this.sampleCategory,metaInfo:{...this.sampleCategory.metaInfo}},this.category={...this.sampleCategory,metaInfo:{...this.sampleCategory.metaInfo}}),this.selectedCategoryFeatures=this.category?.features?.map(t=>({id:t}))||[],this.readonlyMetaProps=!0===this.readonlyTitle?["title"]:[]}ngOnInit(){this.initCategory()}ngOnChanges(t){this.initCategory()}tabChanged(t){this.activeTab=t}categoryMetaChanged(t){this.category.id=t.title!==this.value?.metaInfo?.title?this.enableUniqueId?this.utils.getUniqueFromString(t.title):this.utils.toDashedString(t.title):this.value.id,this.category={...this.category,metaInfo:{...t,url:this.utils.getCanonicalUrl("genre",this.category.id)}},this.changed.emit({...this.category})}isLiveChanged(t){this.category={...this.category,isLive:t,inReview:!0!==t&&this.value.inReview},this.isLiveClicked.emit({...this.category})}inReviewChanged(t){this.category={...this.category,inReview:t,isLive:!0!==t&&this.value.isLive},this.inReviewClicked.emit({...this.category})}isFeaturedChanged(t){this.category={...this.category,isFeatured:t},this.changed.emit({...this.category})}onShortTitleChanged(t){this.changed.emit({...this.category})}changeImage(t,n=!1){t.preventDefault(),!0===n?(this.category.image={src:"",alt:""},this.category.metaInfo.image="",this.changed.emit({...this.category})):this.toggleImageForm=!0}cancelImageChange(){this.toggleImageForm=!1}saveImageChange(t){this.category.image=t,this.category.metaInfo.image=t.src,this.toggleImageForm=!1,this.changed.emit({...this.category})}saveCategory(t){t.preventDefault(),this.saveClicked.emit({...this.category})}deleteCategory(t){t.preventDefault(),this.deleteClicked.emit({...this.category})}onCategoryFeaturesChanged(t=[]){this.category={...this.category,features:t?.map(n=>n?.id)},this.selectedCategoryFeatures=[...t],this.changed.emit({...this.category})}categoryIdDblClick(t){t.preventDefault(),this.enableReadonlyIdToggle&&(this.readonlyId=!this.readonlyId)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-category-editor"]],inputs:{value:"value",imageHelpText:"imageHelpText",readonlyId:"readonlyId",readonlyTitle:"readonlyTitle",enableUniqueId:"enableUniqueId",enablePublish:"enablePublish",enableOpenai:"enableOpenai",enableDelete:"enableDelete",enableReadonlyIdToggle:"enableReadonlyIdToggle"},outputs:{changed:"changed",saveClicked:"saveClicked",deleteClicked:"deleteClicked",inReviewClicked:"inReviewClicked",isLiveClicked:"isLiveClicked"},features:[e.TTD],decls:53,vars:31,consts:[["class","row spacing-around-vertical",4,"ngIf"],[3,"dblclick",4,"ngIf"],["class","row spacing-vertical right",4,"ngIf"],[3,"tabs","activeTab","changed"],[1,"container","tab-body"],[1,"tab-item-body",3,"ngClass"],[1,"shadow","spacing","spacing-around-vertical","moreinfo-card","spacing-around-horizontal-md","spacing-around-horizontal-lg"],[1,"row"],["type","text","name","category-short-title",3,"ngModel","ngModelChange","blur"],[1,"row","center","stretch"],[1,"col-sm-12"],["href","#",1,"spacing-around",3,"click"],[1,"spacing-horizontal"],[3,"rounded","checked","changed"],["keyField","id","labelField","title",3,"items","selectedItems","changed"],[3,"opened","cancelClick"],[3,"src","alt","enableOpenai","cancel","save"],[1,"row","spacing-vertical","right"],["href","#",1,"btn",3,"click"],[3,"metaInfo","readonlyMetaProps","changed"],[3,"ngClass",4,"ngIf"],["class","spacing-horizontal",4,"ngIf"],[1,"spacing-around-horizontal-md","spacing-around-horizontal-lg",3,"value","showMetaInfo"],[1,"row","spacing-around-vertical"],[3,"dblclick"],["type","text","name","category-id",3,"ngModel","ngModelChange"],["href","#",1,"btn","error",3,"click"],[3,"ngClass"]],template:function(t,n){1&t&&(e.TgZ(0,"h2"),e._uU(1,"Category Editor"),e.qZA(),e.YNc(2,bo,4,1,"div",0),e.YNc(3,wo,2,1,"p",1),e.YNc(4,vo,3,0,"section",2),e.TgZ(5,"anu-tabs",3),e.NdJ("changed",function(s){return n.tabChanged(s)}),e.qZA(),e.TgZ(6,"section",4)(7,"section",5)(8,"anu-card",6)(9,"anu-card-body")(10,"div",7)(11,"label"),e._uU(12,"Short Title"),e.qZA(),e.TgZ(13,"input",8),e.NdJ("ngModelChange",function(s){return n.category.shortTitle=s})("blur",function(s){return n.onShortTitleChanged(s)})("ngModelChange",function(s){return n.onShortTitleChanged(s)}),e.qZA()(),e.TgZ(14,"div",9)(15,"div",10)(16,"a",11),e.NdJ("click",function(s){return n.changeImage(s)}),e._uU(17,"Change image"),e.qZA(),e.TgZ(18,"a",11),e.NdJ("click",function(s){return n.changeImage(s,!0)}),e._uU(19,"Remove image"),e.qZA()(),e.TgZ(20,"div",10)(21,"label",12),e._uU(22,"Featured? "),e.TgZ(23,"anu-toggle",13),e.NdJ("changed",function(s){return n.isFeaturedChanged(s)}),e.qZA()()()()()(),e.TgZ(24,"anu-card",6)(25,"anu-card-title")(26,"h2"),e._uU(27,"Link Features to your Category"),e.qZA()(),e.TgZ(28,"anu-card-body")(29,"div",7)(30,"anu-multi-select-box",14),e.NdJ("changed",function(s){return n.onCategoryFeaturesChanged(s)}),e.qZA()()()(),e.TgZ(31,"anu-modal",15),e.NdJ("cancelClick",function(){return n.cancelImageChange()}),e.TgZ(32,"anu-cms-image-form",16),e.NdJ("cancel",function(){return n.cancelImageChange()})("save",function(s){return n.saveImageChange(s)}),e.qZA()(),e.TgZ(33,"section",17)(34,"a",18),e.NdJ("click",function(s){return n.saveCategory(s)}),e._uU(35,"Save Category"),e.qZA()()(),e.TgZ(36,"section",5)(37,"anu-meta-form",19),e.NdJ("changed",function(s){return n.categoryMetaChanged(s)}),e.qZA(),e.TgZ(38,"section",17)(39,"a",18),e.NdJ("click",function(s){return n.saveCategory(s)}),e._uU(40,"Save Category"),e.qZA()()(),e.TgZ(41,"section",5)(42,"div",9)(43,"div",10)(44,"label",12),e._uU(45,"In Review? "),e.TgZ(46,"anu-toggle",13),e.NdJ("changed",function(s){return n.inReviewChanged(s)}),e.qZA()()(),e.TgZ(47,"div",10),e.YNc(48,Co,2,2,"span",20),e.YNc(49,yo,3,2,"label",21),e.qZA()(),e.TgZ(50,"h2"),e._uU(51,"Preview"),e.qZA(),e._UZ(52,"anu-category",22),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",!n.readonlyId&&n.enableReadonlyIdToggle),e.xp6(1),e.Q6J("ngIf",n.readonlyId),e.xp6(1),e.Q6J("ngIf",n.enableDelete),e.xp6(1),e.Q6J("tabs",n.tabs)("activeTab",n.activeTab),e.xp6(2),e.Q6J("ngClass",e.VKq(25,In,"moreinfo"===n.activeTab.name)),e.xp6(6),e.Q6J("ngModel",n.category.shortTitle),e.xp6(10),e.Q6J("rounded",!0)("checked",null==n.category?null:n.category.isFeatured),e.xp6(7),e.Q6J("items",n.categoryFeatures)("selectedItems",n.selectedCategoryFeatures),e.xp6(1),e.Q6J("opened",n.toggleImageForm),e.xp6(1),e.Q6J("src",null==n.category||null==n.category.image?null:n.category.image.src)("alt",null==n.category||null==n.category.image?null:n.category.image.alt)("enableOpenai",n.enableOpenai),e.xp6(4),e.Q6J("ngClass",e.VKq(27,In,"metainfo"===n.activeTab.name)),e.xp6(1),e.Q6J("metaInfo",null==n.category?null:n.category.metaInfo)("readonlyMetaProps",n.readonlyMetaProps),e.xp6(4),e.Q6J("ngClass",e.VKq(29,In,"publish"===n.activeTab.name)),e.xp6(5),e.Q6J("rounded",!0)("checked",null==n.category?null:n.category.inReview),e.xp6(2),e.Q6J("ngIf",!n.enablePublish),e.xp6(1),e.Q6J("ngIf",n.enablePublish),e.xp6(3),e.Q6J("value",n.category)("showMetaInfo",!0))},dependencies:[y.mk,y.O5,$.Fj,$.JJ,$.On,it,u.A,T.E,f.y,nn,Qe.z,kr,Ue,Be,he.m],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .moreinfo-card[_ngcontent-%COMP%]{background-color:var(--anu-primary-deep-light)}[_nghost-%COMP%]   .tab-body[_ngcontent-%COMP%]   .tab-item-body[_ngcontent-%COMP%]{display:none;flex-direction:column}[_nghost-%COMP%]   .tab-body[_ngcontent-%COMP%]   .tab-item-body.active[_ngcontent-%COMP%]{display:flex}"]}),r})();function To(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"anu-category-editor",6),e.NdJ("isLiveClicked",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.isLiveClicked(i))})("inReviewClicked",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.inReviewClicked(i))})("saveClicked",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.saveClicked(i))})("deleteClicked",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteClicked(i))})("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.categoryChanged(i))}),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("value",t.category)("enableDelete",t.isAdmin&&!t.isNewCategoryPage)("enablePublish",t.isAdmin&&!t.isNewCategoryPage)("enableUniqueId",t.postfixUniqueId)("enableOpenai",t.isAdmin)("enableReadonlyIdToggle",t.isAdmin)("imageHelpText",t.imageHelpText)("readonlyId",!0)("readonlyTitle",!t.isNewCategoryPage)}}function Eo(r,o){if(1&r&&e._UZ(0,"anu-error",7),2&r){const t=e.oxw();e.Q6J("code",t.error.code)("message",t.error.message)}}let So=(()=>{class r{constructor(t,n,i,s,O,j){this.fireCategoriesHttpService=t,this.fireAuthService=n,this.route=i,this.router=s,this.dashboardMetaService=O,this.appConfigService=j,this.pageMeta=null,this.ADD_CATEGORY="add",this.categoryId="",this.error=null,this.found=!1,this.loading=!0,this.userRoles=[],this.isAdmin=!1,this.isAuthor=!1,this.postfixUniqueId=!0,this.showModal=!1,this.imageHelpText="",this.imageHelpText=this.getImageSpecsString(this.appConfigService.firebase.storage.imageDimensions),this.paramsSubscription=this.route.params.subscribe(ie=>{this.categoryId=ie.categoryId,this.getCategory(this.categoryId)})}getImageSpecsString(t){const{minWidth:n,minHeight:i,maxWidth:s,maxHeight:O,maxKBs:j}=t;return`Allowed Image specification: 1Kb <= size <= ${j}Kbs | ${n}px <= width <= ${s}px | ${i}px <= height <= ${O}px`}ngOnInit(){this.pageMeta=this.dashboardMetaService.setDashboardPageMeta(z.categoryPage)}ngOnDestroy(){this.paramsSubscription.unsubscribe()}get isNewCategoryPage(){return this.categoryId===this.ADD_CATEGORY}getCategory(t){var n=this;return(0,g.Z)(function*(){n.error=null,n.loading=!0,n.found=!0,n.category=null,n.userRoles=yield n.fireAuthService.getCurrentUserRoles(),n.isAdmin=n.userRoles.includes(m.go.ADMIN),n.isAuthor=n.userRoles.includes(m.go.AUTHOR),t!==n.ADD_CATEGORY?(n.isAdmin?n.fireCategoriesHttpService.getCategory(t):n.fireCategoriesHttpService.getUsersCategory(n.fireAuthService.getCurrentUserId(),t)).then(s=>{s?n.category={...s}:(n.found=!1,n.error={code:"404",message:`Category does not exist - ${t}`}),n.loading=!1}).catch(s=>{n.error=s,n.loading=!1,n.found=!1}):(n.found=!0,n.loading=!1)})()}saveClicked(t){let n;this.category={...t},this.error=null,this.loading=!0,this.category.userId=this.category.userId||this.fireAuthService.getCurrentUserId(),n=this.isNewCategoryPage?this.fireCategoriesHttpService.addCategory(this.category):this.fireCategoriesHttpService.updateCategory(this.category),n.then(i=>{this.category={...i},this.loading=!1,this.isNewCategoryPage&&this.router.navigate([this.category.id],{relativeTo:this.route.parent})}).catch(i=>{this.error=i,this.loading=!1})}isLiveClicked(t){this.category={...t},this.error=null,this.loading=!0,this.isNewCategoryPage?this.loading=!1:this.fireCategoriesHttpService.setCategoryLive(this.category).then(n=>{this.category={...n},this.loading=!1}).catch(n=>{this.error=n,this.loading=!1})}inReviewClicked(t){this.category={...t},this.error=null,this.loading=!0,this.isNewCategoryPage?this.loading=!1:this.fireCategoriesHttpService.setCategoryUpForReview(this.category).then(n=>{this.category={...n},this.loading=!1}).catch(n=>{this.error=n,this.loading=!1})}deleteClicked(t){this.showModal=!0}deleteCancelled(){this.showModal=!1}deleteConfirmed(){this.showModal=!1,this.loading=!0,this.error=null,this.fireCategoriesHttpService.deleteCategory(this.category).then(t=>{if(!0!==t)throw new Error("Something went wrong, please try again later.");this.router.navigate(["."],{relativeTo:this.route.parent}),this.loading=!1}).catch(t=>{this.error=t,this.loading=!1})}categoryChanged(t){const n=this.appConfigService.config;t.metaInfo["article:author"]=t.metaInfo["article:author"]||n.metaInfo["article:author"],t.metaInfo.author=t.metaInfo.author||n.metaInfo.author}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.y),e.Y36(_.i),e.Y36(v.gz),e.Y36(v.F0),e.Y36(l),e.Y36(w._))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-manage-category-page"]],decls:9,vars:8,consts:[[1,"flex-container"],[1,"left","container","relative"],[4,"ngIf"],[3,"code","message",4,"ngIf"],[3,"show"],[3,"enableCancel","enableClose","enableOk","opened","modalTitle","cancelClick","okClick"],[1,"container",3,"value","enableDelete","enablePublish","enableUniqueId","enableOpenai","enableReadonlyIdToggle","imageHelpText","readonlyId","readonlyTitle","isLiveClicked","inReviewClicked","saveClicked","deleteClicked","changed"],[3,"code","message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,To,2,9,"ng-container",2),e.TgZ(3,"div"),e.YNc(4,Eo,1,2,"anu-error",3),e._UZ(5,"anu-spinner",4),e.qZA()()(),e.TgZ(6,"anu-modal",5),e.NdJ("cancelClick",function(){return n.deleteCancelled()})("okClick",function(){return n.deleteConfirmed()}),e.TgZ(7,"p"),e._uU(8,"Category will be deleted permanently and you will not be able to recover. Are you sure to continue?"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.found),e.xp6(2),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("show",n.loading),e.xp6(1),e.Q6J("enableCancel",!0)("enableClose",!0)("enableOk",!0)("opened",n.showModal)("modalTitle","Delete Confirmation"))},dependencies:[y.O5,Ao,I.O,Qe.z,Ke.q],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .form-body[_ngcontent-%COMP%]{position:relative;min-height:5rem}"]}),r})();var rn=M(1555);let Ir=(()=>{class r{constructor(t,n){this.fireArticlesHttpService=t,this.fireAuthService=n,this.myArticles$=new Ge.X(null),this._helpArticles=null,this.userName="",this.userName=this.fireAuthService.getCurrentUserId()}get myArticles(){return this.myArticles$.asObservable()}getMyArticles(t=!1){var n=this;return(0,g.Z)(function*(){if(n.fireAuthService.getCurrentUserId()===n.userName&&!t&&n.myArticles$.value)return n.myArticles$.value;n.userName=n.fireAuthService.getCurrentUserId();let O=null;return O=(yield n.fireAuthService.currentUserHasRole(m.go.ADMIN))?yield n.fireArticlesHttpService.getAllUsersOnePageShallowArticles(null):yield n.fireArticlesHttpService.getUsersOnePageShallowArticles(n.fireAuthService.getCurrentUserId(),null),n.myArticles$.next(O),O})()}getHelpDocs(t=!1){var n=this;return(0,g.Z)(function*(){if(!t&&n._helpArticles)return n._helpArticles;const i=yield n.fireArticlesHttpService.getLiveShallowArticlesOfCategories([P.w.helpDocs]),s=i&&i[0]||null;return n._helpArticles=s?.pageArticles?.articles||[],n._helpArticles})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(rn.h),e.LFG(_.i))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Pn=M(5374),Oo=M(3177);function xo(r,o){if(1&r&&(e.TgZ(0,"div",3)(1,"h1",4),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e._UZ(5,"anu-login-status",5),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(null==t.pageMeta?null:t.pageMeta.title),e.xp6(2),e.Oqu(null==t.pageMeta?null:t.pageMeta.description),e.xp6(1),e.Q6J("profilePageUrl","./")("showLogoutBtn",!0)}}const Mo=function(){return["manage-stories"]},ko=function(){return["manage-stories","add"]};function Io(r,o){1&r&&(e.TgZ(0,"anu-card",13)(1,"anu-card-title")(2,"h2"),e._uU(3,"My Articles"),e.qZA()(),e.TgZ(4,"anu-card-body"),e._uU(5," Manage your articles. "),e.qZA(),e.TgZ(6,"anu-card-footer")(7,"div",11)(8,"a",12),e._uU(9,"Manage my articles"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"a",12),e._uU(12,"Add new Article"),e.qZA()()()()),2&r&&(e.Q6J("routerLinkActive","active"),e.xp6(8),e.Q6J("routerLink",e.DdM(3,Mo)),e.xp6(3),e.Q6J("routerLink",e.DdM(4,ko)))}const Po=function(){return["manage-categories"]},Fo=function(){return["manage-categories","add"]};function Ro(r,o){1&r&&(e.TgZ(0,"anu-card",13)(1,"anu-card-title")(2,"h2"),e._uU(3,"My Categories"),e.qZA()(),e.TgZ(4,"anu-card-body"),e._uU(5," Manage your categories for your articles. "),e.qZA(),e.TgZ(6,"anu-card-footer")(7,"div",11)(8,"a",12),e._uU(9,"Manage my categories"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"a",12),e._uU(12,"Add new Category"),e.qZA()()()()),2&r&&(e.Q6J("routerLinkActive","active"),e.xp6(8),e.Q6J("routerLink",e.DdM(3,Po)),e.xp6(3),e.Q6J("routerLink",e.DdM(4,Fo)))}const No=function(){return["manage-sitemap"]};function Uo(r,o){1&r&&(e.TgZ(0,"anu-card",13)(1,"anu-card-title")(2,"h2"),e._uU(3,"Manage sitemap"),e.qZA()(),e.TgZ(4,"anu-card-body"),e._uU(5," Update sitemap with the current site urls. "),e.qZA(),e.TgZ(6,"anu-card-footer")(7,"div",11)(8,"a",12),e._uU(9,"Manage sitemap"),e.qZA()()()()),2&r&&(e.Q6J("routerLinkActive","active"),e.xp6(8),e.Q6J("routerLink",e.DdM(2,No)))}const Lo=function(){return["openai"]};function Bo(r,o){1&r&&(e.TgZ(0,"anu-card",13)(1,"anu-card-title")(2,"h2"),e._uU(3,"Autogenerate Articles"),e.qZA()(),e.TgZ(4,"anu-card-body"),e._uU(5," Auto generate articles using Openai "),e.qZA(),e.TgZ(6,"anu-card-footer")(7,"div",11)(8,"a",12),e._uU(9,"Open AI"),e.qZA()()()()),2&r&&(e.Q6J("routerLinkActive","active"),e.xp6(8),e.Q6J("routerLink",e.DdM(2,Lo)))}const Pr=function(){return["..","stories","how-to-become-an-author"]};function Do(r,o){1&r&&(e.TgZ(0,"anu-card",9)(1,"anu-card-title")(2,"h2"),e._uU(3," If you have flare towards writing and sharing your knowledge to the world, you have landed on the right platform. "),e.qZA()(),e.TgZ(4,"anu-card-body"),e._uU(5," You can write and publish your knowledge to the world, and also get an opportunity to earn for your contribution. To know more about how you can be a part of huge community of authors, please read, how to become an author? "),e.qZA(),e.TgZ(6,"anu-card-footer")(7,"div",11)(8,"a",12),e._uU(9,"How to become an author?"),e.qZA()()()()),2&r&&(e.Q6J("routerLinkActive","active"),e.xp6(8),e.Q6J("routerLink",e.DdM(2,Pr)))}const Fr=function(r){return["..","stories",r]};function Zo(r,o){if(1&r&&(e.TgZ(0,"div",16),e._UZ(1,"anu-article",17),e.qZA()),2&r){const t=o.$implicit;e.xp6(1),e.Q6J("value",t)("showMetaInfo",!1)("showDescription",!0)("descriptionCharCount",300)("titleHref",e.VKq(6,Fr,t.id||""))("readMoreHref",e.VKq(8,Fr,t.id||""))}}function jo(r,o){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,Zo,2,10,"div",15),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.helpArticles)}}function Jo(r,o){if(1&r&&(e.TgZ(0,"div",14),e._UZ(1,"anu-error",18),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("code",t.errorCode)("message",t.errorMessage)}}function qo(r,o){if(1&r&&(e.TgZ(0,"div",6),e.YNc(1,Io,13,5,"anu-card",7),e.YNc(2,Ro,13,5,"anu-card",7),e.YNc(3,Uo,10,3,"anu-card",7),e.YNc(4,Bo,10,3,"anu-card",7),e.YNc(5,Do,10,3,"anu-card",8),e.TgZ(6,"anu-card",9)(7,"anu-card-title")(8,"h2"),e._uU(9,"Need Help? Below are the steps to get started."),e.qZA()(),e.TgZ(10,"anu-card-body")(11,"div",1),e.YNc(12,jo,2,1,"div",10),e.YNc(13,Jo,2,2,"div",10),e.qZA()(),e.TgZ(14,"anu-card-footer")(15,"div",11)(16,"a",12),e._uU(17,"How to become an author?"),e.qZA()()()()()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isAuthor),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",!t.isAdmin&&!t.isAuthor),e.xp6(1),e.Q6J("routerLinkActive","active"),e.xp6(6),e.Q6J("ngIf",t.helpArticles),e.xp6(1),e.Q6J("ngIf",!t.helpArticles&&t.errorMessage),e.xp6(3),e.Q6J("routerLink",e.DdM(9,Pr))}}const Ho=function(){return["./"]};function Qo(r,o){1&r&&(e.TgZ(0,"div",6)(1,"a",12),e._uU(2),e.qZA()()),2&r&&(e.xp6(1),e.Q6J("routerLink",e.DdM(2,Ho)),e.xp6(1),e.Oqu("<< Back to dashboard"))}let Ko=(()=>{class r{constructor(t,n,i,s,O,j){this.fireAuthService=t,this.dashboardMetaService=n,this.appConfigService=i,this.articlesDataService=s,this.route=O,this.router=j,this.pageMeta=null,this.isAuthor=!1,this.isAdmin=!1,this.helpArticles=[],this.errorCode="",this.errorMessage="",this.routeEndEvent=this.router.events.pipe((0,A.h)(X=>X instanceof v.m2)).subscribe(()=>{this.route.firstChild||(this.pageMeta=this.dashboardMetaService.setDashboardPageMeta(z.dashboardPage))})}ngOnInit(){this.isAuthorFn(),this.isAdminFn(),this.getHelpDocs(),this.pageMeta=this.dashboardMetaService.setDashboardPageMeta(z.dashboardPage)}isAuthorFn(){var t=this;return(0,g.Z)(function*(){return t.isAuthor=yield t.fireAuthService.currentUserHasRole(m.go.AUTHOR),t.isAuthor})()}isAdminFn(){var t=this;return(0,g.Z)(function*(){return t.isAdmin=yield t.fireAuthService.currentUserHasRole(m.go.ADMIN),t.isAdmin})()}ngOnDestroy(){this.routeEndEvent.unsubscribe()}onOutletActivated(){}getHelpDocs(){var t=this;return(0,g.Z)(function*(){t.errorCode="",t.errorMessage="",t.helpArticles=yield t.articlesDataService.getHelpDocs().catch(n=>(t.errorCode=n.code||n.status||"UNKNOWN",t.errorMessage=n.message||n.text||n||"Something went wrong",null))})()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_.i),e.Y36(l),e.Y36(w._),e.Y36(Ir),e.Y36(v.gz),e.Y36(v.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard-home"]],decls:4,vars:3,consts:[["class","flex-container secondary-lighter-grad spacing",4,"ngIf"],[1,"flex-container","spacing-around-vertical"],["class","row",4,"ngIf"],[1,"flex-container","secondary-lighter-grad","spacing"],[1,"col-12","left"],[3,"profilePageUrl","showLogoutBtn"],[1,"row"],["class","col-sm-12 col-md-6 col-lg-4 shadow spacing",3,"routerLinkActive",4,"ngIf"],["class","col-12 shadow spacing",3,"routerLinkActive",4,"ngIf"],[1,"col-12","shadow","spacing",3,"routerLinkActive"],["class","col-12",4,"ngIf"],[1,"container","right"],[3,"routerLink"],[1,"col-sm-12","col-md-6","col-lg-4","shadow","spacing",3,"routerLinkActive"],[1,"col-12"],["class","category-articles",4,"ngFor","ngForOf"],[1,"category-articles"],[3,"value","showMetaInfo","showDescription","descriptionCharCount","titleHref","readMoreHref"],[3,"code","message"]],template:function(t,n){1&t&&(e.YNc(0,xo,6,4,"div",0),e.TgZ(1,"div",1),e.YNc(2,qo,18,10,"div",2),e.YNc(3,Qo,3,3,"div",2),e.qZA()),2&t&&(e.Q6J("ngIf",!n.route.firstChild),e.xp6(2),e.Q6J("ngIf",!n.route.firstChild),e.xp6(1),e.Q6J("ngIf",n.route.firstChild))},dependencies:[y.sg,y.O5,v.rH,v.Od,u.A,T.E,f.y,U.x,Pn.t,Ke.q,Oo.B],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%}"]}),r})();var Ae=(()=>((Ae=Ae||{}).keywords="keywords",Ae.subtopics="subtopics",Ae.questions="questions",Ae.description="description",Ae.content="content",Ae.image="image",Ae))(),Go=M(8846);let Fn=(()=>{class r{constructor(t){this.document=t}md2html(t,n="<p></p>"){return(new Go.Converter).makeHtml(t)}html2json(t){const n=this.document.createElement("article");return n.innerHTML=t,n.id="root",this.parseHtmlElement(n)}md2json(t){return this.html2json(this.md2html(t))}md2jsonText(t){return JSON.stringify(this.html2json(this.md2html(t)),null,"\t")}parseHtmlElement(t){const n=(t.tagName||t.nodeName).toLowerCase(),j={name:t.id||`${n}-${Date.now()}`,tagName:n,isContainer:["ol","ul","article"].includes(n),focused:!1};if(t.childNodes&&t.childNodes.length){const X=t.childNodes,ie=[];if("pre"===n){let ge;return t.childNodes.forEach(be=>{"CODE"===be.nodeName&&(ge=be)}),{...j,tagName:"anu-code-block",data:this.getContent(ge)}}if(["p","li","h1","h2","h3","h4","h5","h6"].includes(n))return{...j,data:{text:"p"===n?t.innerHTML:t.textContent}};{for(let be=0;be<X.length;be++){const Se=this.parseHtmlElement(X[be]);ie.push(Se)}const ge="a"===n?this.getContent(t):"";return ge?{...j,data:ge,children:ie}:{...j,children:ie}}}return{...j,data:this.getContent(t)}}getContent(t){const n={};switch(t.tagName||t.nodeName){case"IMG":const s=t;n.src=s.src||"",n.alt=s.alt||"";break;case"A":n.href=t.href||"";break;case"CODE":const j=t;n.source=j.innerHTML||"",n.language=j.lang||"";break;default:n.text=t.textContent||""}return n}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Vo=[{name:"metainfo",title:"Article Info"},{name:"article",title:"Content"},{name:"moreinfo",title:"More Info"},{name:"publish",title:"Publish"}],an=62e3;let Nr=(()=>{class r{constructor(t,n,i,s,O,j){this.utilsService=t,this.openaiService=n,this.openaiConfigService=i,this.html2JsonService=s,this.appConfigService=O,this.fireAuthService=j,this.article$=new Ge.X({}),this.cleanupPhrases="",this.openaiConfigService.config.subscribe(X=>{this.cleanupPhrases=X.cleanupKeywords?.value})}get article(){return this.article$.asObservable()}createInitializedArticle(t){const n=this.appConfigService.config;return{id:this.utilsService.getUniqueFromString(t),metaInfo:{title:t,description:"",keywords:"",robots:ut.mT.robots[0].name,"Content-Type":ut.mT.contentTypes[0].name,language:ut.mT.languages[0].name,"revisit-after":"7 days",author:n?.metaInfo?.author,type:ut.mT.types[0].name,image:"",url:"",card:ut.mT.cards[0].name,site_name:n?.metaInfo?.title,audio:"",video:"","article:published_time":this.utilsService.currentDate,"article:author":n?.metaInfo&&n?.metaInfo["article:author"],"article:section":ut.mT.articleSections[0].name,"article:tag":""},image:{src:"",alt:t},body:{},categories:[],created:this.utilsService.currentDate,updated:this.utilsService.currentDate,userId:this.fireAuthService.getCurrentUserId(),isLive:!1,inReview:!0,features:[]}}generateArticleFromOpenai(t,n,i,s){var O=this;return(0,g.Z)(function*(){const j=Date.now(),X=O.createInitializedArticle(t);O.article$.next(X),X.body=yield O.generateArticleContentFromOpenai(t,s),O.article$.next(X),X.metaInfo.keywords=(yield O.generateArticleKeywordsFromOpenai(t,n)).join(", "),X.metaInfo["article:tag"]=X.metaInfo.keywords,O.article$.next(X),X.metaInfo.description=(yield O.generateArticleDescriptionFromOpenai(t,i))||"",O.article$.next(X);const ie=Date.now()-j;return ie<an&&(yield O.utilsService.delay(an-ie)),X.body=yield O.generateArticleBodyFromOpenai(X.metaInfo.keywords.split(", "),s),O.article$.next(X),X.metaInfo.url=O.generateArticleUrl(X.id,X.categories),X.metaInfo.image=X.image.src,X})()}generateArticleDescriptionFromOpenai(t,n){var i=this;return(0,g.Z)(function*(){const s=`${n||"Write a good description for "}${t}`,O=yield i.openaiService.getChatResponse([s]),j=i.html2JsonService.html2json(i.html2JsonService.md2html(O));return i.readDescriptionFromEditorElement(j)})()}generateArticleKeywordsFromOpenai(t,n){var i=this;return(0,g.Z)(function*(){const s=`${n||"List good keywords for "}${t}`,O=yield i.openaiService.getChatResponse([s]),j=i.html2JsonService.html2json(i.html2JsonService.md2html(O));return i.readKeywordsFromEditorElement(j)})()}generateArticleContentFromOpenai(t,n){var i=this;return(0,g.Z)(function*(){const s=`${n||""}${t}`,O=yield i.openaiService.getChatResponse([s]);return i.html2JsonService.html2json(i.html2JsonService.md2html(O))})()}generateArticleBodyFromOpenai(t,n){var i=this;return(0,g.Z)(function*(){let s=i.utilsService.deepCopy(i.article$.value.body);for(let O=0;O<t.length;O+=3){const j=Date.now(),ie=t.slice(O,O+3).map(Ee=>i.generateArticleContentFromOpenai(Ee,n));(yield Promise.all(ie)).forEach((Ee,Ie)=>{const Ne=i.generateArticleSubheading(t[O+Ie]);s.children=s.children.concat(Ne,Ee.children)});const be=i.utilsService.deepCopy(i.article$.value);be.body=i.cleanAndFormatEditorEl(s),i.article$.next(be);const Se=Date.now()-j;Se<an&&O+3<t.length&&(yield i.utilsService.delay(an-Se))}return s})()}generateArticleUrl(t,n){return n=n||[],this.utilsService.getCanonicalUrl("stories",t)}readDescriptionFromEditorElement(t){let n=[];return"p"===t.tagName.toLowerCase()&&t.data?.text&&n.push(t.data.text),t.children&&t.children.length&&t.children.forEach(i=>{const s=this.readDescriptionFromEditorElement(i);n.push(s)}),n.join(" ")}readKeywordsFromEditorElement(t){let n=[];return["ul","ol"].includes(t.tagName.toLowerCase())&&t.children.forEach(i=>{"li"===i.tagName.toLowerCase()&&i.data?.text&&n.push(i.data.text)}),t.children&&t.children.length&&t.children.forEach(i=>{const s=this.readKeywordsFromEditorElement(i);s&&s.length&&(n=n.concat(s))}),n}generateArticleSubheading(t){return{name:`h2-${Date.now()}`,tagName:"h2",isContainer:!1,focused:!1,data:{text:t}}}generateArticleImageUrl(t){return this.utilsService.getImageUrl(t,this.appConfigService.config.imagesSourceUrl)}cleanAndFormatEditorEl(t){return this.formatEditorElement(this.cleanEditorEl(t))}cleanEditorEl(t){const n=this.cleanupPhrases.split(", ");return n&&n.length?t&&(n.filter(s=>t?.data?.text.includes(s)).length||"#text"===t?.tagName&&"\n"===t?.data?.text?null:(t?.children&&t.children.length&&(t.children=t.children.map(s=>this.cleanEditorEl(s)).filter(s=>null!==s)),t)):this.utilsService.deepCopy(t)}formatEditorElement(t){return["ul","ol"].includes(t.tagName.toLowerCase())&&t.children.forEach(n=>{if("li"===n.tagName.toLowerCase()&&n.data?.text){const i=n.data?.text||"",s=i.indexOf(":"),O=i.indexOf("<p>"),j=O>=0&&O<60?"<p>":"";if(s>0&&s<60){let X=i.substring(0,s);const ie=i.substring(s);X=j?X.replace("<p>",""):X,n.data.text=`${j}<strong>${X}</strong>${ie}`}}}),t.children&&t.children.length&&(t.children=t.children.map(n=>this.formatEditorElement(n))),t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(a.F),e.LFG(It),e.LFG(tn),e.LFG(Fn),e.LFG(w._),e.LFG(_.i))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var _t=M(7663),ke=(()=>((ke=ke||{}).H1="h1",ke.H2="h2",ke.H3="h3",ke.H4="h4",ke.H5="h5",ke.H6="h6",ke.IMAGE="img",ke.PARAGRAPH="p",ke.CODE_BLOCK="anu-code-block",ke.LIST_ITEM="li",ke.ORDERED_LIST="ol",ke.UNORDERED_LIST="ul",ke.ARTICLE="article",ke.DIV="div",ke))();const on={name:"root",tagName:"div",isContainer:!0,children:[{name:"h2-1234",tagName:"h2",data:{text:"Example heading text"}},{name:"p-1234",tagName:"p",data:{text:"Example description text"}}]},Wo=[{name:"link",title:"Hyperlink",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABFZJREFUaEPtmHnoZmMUxz+jsW+DTNnJmr2GyBIRkS1GIiRqUBNiCGWL4g9rsiQKZUlD9hFDSZMsf6BhBtmyZons2fXhPHrcuet7f83br+755+2993nOc77P+Z7tTmGSy5RJbj8DgHF7cPDA4IGeNzBQqOcF9t4+bg9MBbYB1gd+Bz4C3gL+aItsXAA2Bc4FjgJWLxj7JXAvcCXwcROQcQA4E7gCWL7BuO+B04A769ZNNIA1gWWBL4C/Sg6+CpiTPXfNa8AHAWgGML2w72zg6ioQfQEsEzQ4DtgHWDEOks/PA/cDtwE/A9cA3n6Su4ELgfezZ+o7KNZuFs8FeQDwVBmIPgC2Bu4Bdmiggjx+CTgiM+gs4LqafWsATwC7xJp3ga0i0P+3bVQA+8XtrpZpkzZvxP8tgPVKDPQ25fWNTcEJrAssBtIZRwIPFPeNAmB/4GFghVCm0fJUF/+ZHbBHZBNTZJLrgTNaGJ+WXA6cH3/uAo7vC0DjH8q4rptNhT+UGFXkvEveCyr81hKEFHoh1i4Etu8DoGj848BM4JcSY8zhekWRNsbBBvH/JOD2lgDWjozm8k+i4I0UA12MPxW4OTNezr8JPB3PHgMOaQlgo0ixLrdCG8idAXQx3hwuTVaOU8w210Zt+CaeW2mLub4Kj4E7N14+AhzWFYC53RtL+b2ONuo24Aw8xRR7bHbgq5FypZRVuE0czAMODB168oYuAEyF5u/UqzQZr+63gc0jG/mrN5Kkd79GBiur1Ll9Jof74sF3wCbA110APAvsFRtMkYdWBGzSqZd+hH8+FAg8FSHf22J8BiwHWJRSla2izt6AF7ZSLDgHsA1ZQqrqwJ7Ac7HaPmVH4Nuq0+K5lTkVsiJ9ZmfuvwUw0OuMl7YpjuT+4YUa89/eKgByzUOVWdHPNNjPtoC5Wnkwax02Bl4BpsW73aNPKtPnzefGz4/AtZcqlSoALwM7BWpz8RLcK9G2SnjJhuxFYFdgLeCZrF8qzSShq7Px7qsC8CmwDvAVIIC24iByNHARcFPkfumnfAjsnBWmXOdIxtcBcLSzh5H3yfVtQawawWrhSsab+03Jr5coGdn4OgAGsIGsmL4M5LYibYrG75vFR67nGODWLGAbOV80oopClwEXxOKLgUtbWl9lvM2excuL0KNOXqcUWorOxtd5YEtgEWBAWkTkroWoTqqMt4l7NHRV7bdgnRiTW8u7+ndZ3TxwB3BCaLP4HBxNWdkB0swMYypV5Hyijf1/1fT1OXAJYG1oqsylwOoA6GrTaaqaP8UkZZHSOx6op8w6pwMGbzI+D1gHHwf57YAN45al0pNRba3eI0vTRGY760EaWhQBFPe/Ey2Ho+BSkSYAGuFM6neckwG/pJWJXyEcUs5rWfQmDFwbAOkw64JpbzdAz/j5zylpQQzb+eeRCTOwSVEXAE26xvJ+ADCWa88OHTwweKDnDQwU6nmBvbcPHuh9hT0VTHoP/A0LTuMxcvfaggAAAABJRU5ErkJggg=="},{name:"image",title:"Image",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAArtJREFUaEPt2cnrVEcQwPHPz8QtehMU0RiI6FEQUdyJiRKEgKK4oBdv6l+gHlwPov4FLuQUFQSj6CVBcUFcQBH0IqIiuF28KbivFLyRx2NmfG9+b37zBqZhLtPV3fXtqq7q6teny1tfl+uvB9BpC/YsUDULjMEBLMJPnVYus/5rnMF6PK/1ZV3oJJZWTPGsOqHjskYAryq481mA0HFkI4AvKemVOI70f50wTnjJahxNLf7Nc7IulFa2ShFqGN50M8BQvK0iQES6zViDn/EER7Ans+OVBAjlz2FmnYN1DX+kIIbgXdUssAtbm0SFndiR9FcS4AEmNgGI/klVBgiXiJ1t1KI/ok+0rrTAfUxOAAbjfdXOQPj4tiYWCP8PmWgDAjAH8YsL160cKXt4EoVm1ZG9ioWpKPQjPrTTAuvwNwYlpl6B0zkhNmEtJuAxDmNfJg+0FWA2ziOSTa2Fv/6Fszkg8oi0DeAXXMfoOlq8xO+4mUfD78i0BSCutFcwpcniUXjMw70GMuFyn3MA/oCPZZ6BWPjfnMXPI8zF05QCcYCj8luFf5Iq61MTkNIBdmNLjp2ridzBgqQUHItTmJ4afyiBaFR7lAoQESN2rWi98AwXsBij6sBH5ImIVK+FxdMWarmgmYZLbSw742q9tw5BKQBh+hsYV8B1ioqGC23AwczAfgPEobuIGUU1akE+olIUOMdSY/sFEP4WBXUU1gPV4tqwBP8lC/YLIC5V2wdK89Q68ZD1Jy4nASOdL3If4nhAiqeVohGnLN4X+A23MwkvF8DUhH5EWdq0OE9k8/m4WzQTR+Yc3+KiZQ97iF+LApStRJnz5XKhMhcse64eQNk7WnS+hhbo+uf1bvjAcQLLaybLJqgoDfcnGbCKn5j+x8Zmn5iK+mLH5Tt1RSgNvAdQ2la2OFHPAi1uXGnDvgKePZUxa4GbwQAAAABJRU5ErkJggg=="},{name:"bold",title:"Bold",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAcVJREFUaEPtmLsuBVEUhr/TeAaXwgNoFErReADRaRQUFIRGQugQNBqXEAotFVEqiQcgQaHQuIQHIHHPSs5J5JiZk7Vmjr137Emmm732//3/vqxMicCfUuD6iQCuE4wJxARyOvCvl9CX0rxP4Am4APaBHeBZWePX53kS0AJUT34PDABHeSBcAojud6Af2LVCuAYQ3S9AB3BpgfABQHQfAj2+AKSZ0lReLnNAQ5VY2eDNwKMWoh4J1Ko5CSwlCO0D9kIAaAQeEoROAMshALQAtwlCR4H1EACmgMUEoZ3Aqc8AsknlzJ9N2MTnQDugvhxrbbgsQ9STpRSTy6wbONa6L9+7BpDjcwTYtIj3AUD2wrRVvA8AksAaIEfomwXE9RKqaJbWejBkANE+DGxpIeqRQFbNrH7oDmgFPjQQfw1Q0ZbWD3UBJyEAyKUmjlc/Y8BqyAAzwEIIAGn90BCw7TNAVj8kuqUfOnMNoJn/57dXQJu2oavHKWQF6AUOtIN9AVgBxrXifeiFXoH58mtqz10kIL8Tb8p/5DaAa4vzlTF5APLMW9jYCFCYlcZCMQGjcYUNiwkUZqWxUEzAaFxhw2IChVlpLBR8At98JVgxmKHZCAAAAABJRU5ErkJggg=="},{name:"italic",title:"Italic",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAATxJREFUaEPtl1sOAUEQRc/8WANfrMJjKx5rwVo8tuKxCr5Ygx9SiYjQMumarjaTlE+62r3n1lxR0PBX0XD9uIF/J+gJeAIVCfgKBQDec0K1SMANxCToCfgz8E0gaiuiDsfs5tvZA9APzA6Ao/LO15i1ARG5D4gUU8Oq4mXe2sAamASEToFN3Q10gBPQ+hB6AXrAre4GFsA8IFLeX6YQb7lCQv0MtD+ECvUucK27AdnxVUCkPBOzVOItEzCtzncAFi0k9bgLUJY6HaWkb5WA1OM4IFTqdFt3A1mq03KFslSnlYFs1WllIFt1WhnIVp0WBrJWZ1UDWf+0l9Wu5ofMDZRRjfncE4ih9TyrgfbzazSXNf4ZUEC3G9EkYKdGcbMbUEBLOuIJJMWpuMwTUEBLOuIJJMWpuMwTUEBLOvIAVacwMU4KlX0AAAAASUVORK5CYII="},{name:"underline",title:"Underline",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAfJJREFUaEPtmL0vRFEQxX+L0kdDhUIiovVfEIIoNEqFxFd0GiQSvUKiEFHRqXz+F6ITIjQSCRVaQSbuJi937643971dWeZ2+3bmnDlnZu7LboE6P4U6rx8T8NsdtA7UYwc+A0XHdjIzVgxxZtKEAZmxTIBzM8YISbUOxDiX2TXbgYQD1gFb4tK3omoqVMGOy5bYbiG7hTIuno1QxhF6A5q9JrQC8lxzJOfFS3gF2jQgMdfoNdDnkQwAlxpiQHIuvBzB7tfgxAg4BwY9klVgQ0MMrAHrXs4ZMKzBiREwD2x5JE9Ar2KMZExugXYPZw7YrraAbuAeaPSIDoHJMj9SkqFimsROePnvQA/wUG0Bgr8LTAeIpDB5LssYOuL8XqB4id0BZjTFS2zMCEleJ3AFtAQIn92InQI37ntZ+hFgITA2EiKCZXkfayVAeIaA48AoaWv4AMYdljY3ugNFokVgE2hQM38nSPFLgUshNVzsCCUJRoH9MuNUqRAZmyngJHW1gcA8BAhsB7ACzAJNPxQkrh8AyzEz72PnJaCI2wWMuZeRXInyWY5cjXeALPaR9qqsZEjeArJMQ1SuCYiyLcekf9WB0L8ROXpZApXK3FRBDtoEKNuVytxUQX+lA0oDaxOu6UBtKlKymAClYbmHWwdyt1QJ+AWdBFkxz16l8QAAAABJRU5ErkJggg=="}],Xo=[{name:"markup",title:"Markup",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAxJJREFUaEPtmkuoTlEUx383YkAoQmQgI49SQh4lihJKJt4DZUCRQh6RyECeA4+594SSCTOPKPIeeJRHyHtiJAYM2H+tneN07tnfd86+93y3zp6c7579Wr+91trrtNZtI9x6AquApcAYoFd4Su6It8AMQM/SrS2wwlDgEjC29E7/LxANIg9AJ3+nA4T3KFEg8gDWAYdtt5/ADuAM8KmkNnYBO22N0hB5ADr9ibbRVmBfScH99CSA3pWCyAP4BvS2XYc4R/7cQQBa9p059utm98gD+J1YLOTszeyb1oCfWwiilQAKaaLVAJqGqAJgo/OtgwGba9ixqwCYBNxuwGkagqgCQLIrus+JAVEVQF/gLDC3LERVAF5uBcqpwKB2QLYkIvbwrDFVA4QUEIxFNUDoCEv21xrwBxjzW6gZpdQaqDXQjL1kjK1NqDah2oT+nUDmVV5/SpQ0kdD0+haqb6GQjQT6axPq0iZUUvudM72q7/xodGkAnwVQ3uZJapdZwDjLUl8FlgWk+AUcA9bbuOtWMMmatsIyEy+BC27eAGClDTwJfGlvrzSA93otqInJJmHWuFzOPWADcDMA8B0YDChNr3bfJbQmZMxRukSCdwMuAgusFvfYxo4HHsQGWOhOZXViUZ2WTu0ucM3eq6qzPwGg18oB3UoJoyqQqkFqnQbgKzdelqfAKEvabkoIqAKJ14BenwMWJfr7OFN5D+jZ8gCyY2lphFVkJLBM8ZDZuMwtmgbkcC9Sqpb6R5sPFNHANmCPqzMfADabzb8yqCOA+qMB5PmnnLgIwDDgEdAd0O/Z7kDO202l8pL8JRrAiYwc/hJgegkNyHx0pW4H1gKLgSnASAc2PzZA6BotogEBqHj+xhy7v9UJ5gFy/Kga6CiAr86JTwPLzUZnAle6GoCiuQKTApX+B0PBM08DR4GPKaeU7/ytKReNxEVNSBpQ6+duHQW6H/Z3HkDWhaLKzuUsgL02WgHnYWqmHG0y8MFujmS37vOBwA2/sHX2AHbbbz29wGmhplnN7Blwyr6L/DdUFsBx4Lk6/gDA1w1Abv2dCQAAAABJRU5ErkJggg=="},{name:"table",title:"Table",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAVxJREFUaEPtmTtOw0AQhj+ngCK5Qa6ABFWSQ+QEpIcG5y5QpkacILlDUgUJrpALBNNQAJoIS8Za28lG8u5Ys6W1q/kfo9nxToLylSjHT6cIXAL3wC1wBfQjc+cTeAeegQXwJfhyB4bACriODHQVnFdgCuyEgCi/UQQ+J7UFJkJgDjwqUb4M80EIiPojpQTWQuADGCglkAmBnwrwTSXWdU6+9RrE+C4Uj+JWn3iHKmQECjKaAzXp58wUS6GSYlGlkIrKWpdCRqANBcyBNlSui9FpB3x6k6jKqBGoyF3rRss9uLXTsbbToUv8UfE7fQ8cpUDoTeaAOXCmAm3/E0s8uYldy6d1af1dyAiUrbMUOvFZxVLIlUKan9f3nRhwpMDTmfdJqONpPuRbAzehUHjGlUnluDhmXSoi8W/MmgtwAdwBs79Bd2xzswx4A15cg25PF8Mfa2qgwiNsQKCewC8Cf4RoX2kt7wAAAABJRU5ErkJggg=="},{name:"ul",title:"Bulleted list",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAUJJREFUaEPtmDtuwkAQhj+q5AhEyhGALpwmZdIRhSaIFFBAk6QLlJS5DW1yhTyOENGAVnJhrTDYGht70O/S3pn5HzPe1bZw/rSc40cE6nZQDsgBowJqIaOA5vAsBy6AOXCbVPgAJsDGXLHkBFkE3oCnqNYrME6925aM5Vi6vVizCPwC7SjjH3DlhcBPBDbg/gauvRAI7TKKHHgBnr0QCEM8i4Z46mmIjw1UY75rI6vbCjkgB4wK6CxkFLBIuM5COgsV6Zc9awu1kM5CRrVzh2snzi1VRQvlQEXC5k571g70gLtEihXwmVuWEy7MciCAXwNhPwjPP9CPSDT6XmgJDCIhF8Cjl1uJAPYhIvAODL0Q6CYtdJlqoRvgywuBgLMD3KeGOA3+hGN6uNRZ/0Ybo/IhIHKgbpvkgBwwKqAWMgpoDt8BRag2MY/2fgEAAAAASUVORK5CYII="},{name:"ol",title:"Numbered list",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAASdJREFUaEPtmDsOwjAMhr9KMHAjNk6BxM7IirgEOxMzI0fgBhyHCQQoQ5eoj7hVGrtyt0pO4v/hxHKF8a8ynj8OoLSCroArMJKBWVroF5GiGmRTcuYB1ALUQNoUiIGOdHPv8sY8uuzhAHo5lQW4AjK+JooeUwMTpdh9jOo7PoUhB5DCUs6YWSrQ9sKqBJvSCwUHfIBlTisM3buL1RXwANbAAbhEh6juhQKwG7ADzsCpgSHVAELSR+AObIGvJQB74Ao8gQ3wavGnWgXewKIhadO3UMBjBsDQG63IOpWsSphwABK2csSmthKmith8Mxcr3TZeUfuQxYOt+j+2mwMQFrV4LtQ3YlSrgPkiNg9AaM2y4d5KlOVfaY8vIcUtJGErR6wrkINVyZ5/MAArMcqknlsAAAAASUVORK5CYII="},{name:"img",title:"Image",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAArtJREFUaEPt2cnrVEcQwPHPz8QtehMU0RiI6FEQUdyJiRKEgKK4oBdv6l+gHlwPov4FLuQUFQSj6CVBcUFcQBH0IqIiuF28KbivFLyRx2NmfG9+b37zBqZhLtPV3fXtqq7q6teny1tfl+uvB9BpC/YsUDULjMEBLMJPnVYus/5rnMF6PK/1ZV3oJJZWTPGsOqHjskYAryq481mA0HFkI4AvKemVOI70f50wTnjJahxNLf7Nc7IulFa2ShFqGN50M8BQvK0iQES6zViDn/EER7Ans+OVBAjlz2FmnYN1DX+kIIbgXdUssAtbm0SFndiR9FcS4AEmNgGI/klVBgiXiJ1t1KI/ok+0rrTAfUxOAAbjfdXOQPj4tiYWCP8PmWgDAjAH8YsL160cKXt4EoVm1ZG9ioWpKPQjPrTTAuvwNwYlpl6B0zkhNmEtJuAxDmNfJg+0FWA2ziOSTa2Fv/6Fszkg8oi0DeAXXMfoOlq8xO+4mUfD78i0BSCutFcwpcniUXjMw70GMuFyn3MA/oCPZZ6BWPjfnMXPI8zF05QCcYCj8luFf5Iq61MTkNIBdmNLjp2ridzBgqQUHItTmJ4afyiBaFR7lAoQESN2rWi98AwXsBij6sBH5ImIVK+FxdMWarmgmYZLbSw742q9tw5BKQBh+hsYV8B1ioqGC23AwczAfgPEobuIGUU1akE+olIUOMdSY/sFEP4WBXUU1gPV4tqwBP8lC/YLIC5V2wdK89Q68ZD1Jy4nASOdL3If4nhAiqeVohGnLN4X+A23MwkvF8DUhH5EWdq0OE9k8/m4WzQTR+Yc3+KiZQ97iF+LApStRJnz5XKhMhcse64eQNk7WnS+hhbo+uf1bvjAcQLLaybLJqgoDfcnGbCKn5j+x8Zmn5iK+mLH5Tt1RSgNvAdQ2la2OFHPAi1uXGnDvgKePZUxa4GbwQAAAABJRU5ErkJggg=="},{name:"anu-code-block",title:"Code block",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAYlJREFUaEPtmLEOwjAMRN2vhg3Y4KtBHiJZURL7Lm4qpERiQfH5np22bg/583X8uX/ZAFd3cHdgd2CyAvsITRZwOnymA08R0V/GeovInRFiAdT4QyTtOfIVkQ8DwQAU81owJr5VaAXQBUOgBqz5MwBgCASgNn8WAAQRBWiZPxMgDBEB6JnX/1/MnaMRcxMRvRPVy70mPIAV5otpCmIEsNI8DdEDOMN8VBPqRAsgmgg5/qhmGKIGQBNFIFjNEIQFYBONIGY1XYgCMJuoBZGlOYRQgKxEFiJbswuhAG6bIgfd7Mk2r9JdzXKEsiCWmtdJwF7EsxDLzbeGMRbiEvO9aRKFuMz8aByOQlxq3pvnoxDgTWq4HS6IN06vhIDNex2gR1yiJZT5KIDu63XC62CUpXyVqJ/m7hsfYqAFgcSPYGqA8OsqaqCGQON7EBYgbB45QjaxhcgGgMyzAPaayASAzc8AlAlRk2Ys1aG0siqYAUFpbACqbIlBuwOJxaSkdgeosiUG7Q4kFpOS+gHp9YE4BjsehgAAAABJRU5ErkJggg=="},{name:"p",title:"Paragraph",label:"",icon:"",iconImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAARJJREFUaEPtmDEKAkEQBOsQTBQ/oQ8yFfyFZppqot8Q/2OqqS8wM1EOVLyVhYPeW++gN5+e6a5hgyno+Cs6Pj828G+CJmACYgJeITFAuTwksAUWQF9WbkbgDuyB1Vs+NHADhs30TqZazjiKGdgAy5YT2AHrmIFkMeUS8i+UK+lYHxMwATEBr5AYoFxuAnKEokBIYAJMgZ6o+11+BQ7AI6HmRyo0cAHGDTSav0wklw4NnIGSQuqXzUA5/AwYJHRwAo65Vijh3Hmk/I3myTnexQRMQEzAKyQGKJebgByhKNDW0+LPCbHuVaJNp8XKCbGugbacFksClRNiXQPiRuYv9y+UP/NqRxMwATEBr5AYoFzeeQJP65MaMdYfRFIAAAAASUVORK5CYII="},{name:"h1",title:"Heading 1",label:"H1",icon:""},{name:"h2",title:"Heading 2",label:"H2",icon:""},{name:"h3",title:"Heading 3",label:"H3",icon:""},{name:"h4",title:"Heading 4",label:"H4",icon:""},{name:"h5",title:"Heading 5",label:"H5",icon:""},{name:"h6",title:"Heading 6",label:"H6",icon:""}];let Ur=(()=>{class r{constructor(t){this.document=t,this._selection=new me.x}getRangeContainer(t){let n=t.commonAncestorContainer;for(;n&&"ANU-CONTENT-EDITOR"!==n.nodeName;)n=n.parentNode;return n}restoreSelection(t){if(t){const s=this.document.getSelection();s.removeAllRanges();for(var n=0,i=t.length;n<i;++n)s.addRange(t[n]);return s}return null}isImageInSelection(t){if(!t||!t.rangeCount)return!1;const s=t.getRangeAt(0).cloneContents().querySelectorAll(ke.IMAGE);return!(!s||!s.length)}get selection(){return this._selection.asObservable()}get selectionText(){return this.restoreSelection(this.savedSelection),this.document.getSelection().toString()}saveSelection(t){for(var n=[],i=0,s=t.rangeCount;i<s;++i)n.push(t.getRangeAt(i));this.savedSelection=n,t.toString()||this.isImageInSelection(t)?this._selection.next(!0):this._selection.next(!1)}getSelectionRect(){const t=this.restoreSelection(this.savedSelection);if(!t||"Range"!==t.type||!t.rangeCount)return null;const n=t.getRangeAt(0),i=this.getRangeContainer(n);if(!i)return null;const s=n.getBoundingClientRect(),O=i.getBoundingClientRect();return{left:s.left-O.left,top:s.top-O.top,bottom:s.top-O.top+s.height,right:s.left-O.left+s.width,width:s.width,height:s.height}}addLink(t){const n=this.restoreSelection(this.savedSelection);if(!n||"Range"!==n.type||!n.rangeCount||!n.toString()&&!this.isImageInSelection(n))return;const s=n.getRangeAt(0),O=s.cloneContents(),j=O.querySelectorAll(ke.IMAGE);let X=this.document.createTextNode(t.label);j&&j.length&&(X=O);var ie=this.document.createElement("a");ie.target=t.target,ie.href=t.href,ie.title=t.title,ie.appendChild(X),s.deleteContents(),s.insertNode(ie)}addImage(t){const n=this.restoreSelection(this.savedSelection);if(!n||"Range"!==n.type||!n.rangeCount||!n.toString()&&!this.isImageInSelection(n))return;const s=n.getRangeAt(0);var O=this.document.createElement(ke.IMAGE);O.src=t.src,O.alt=t.alt,s.deleteContents(),s.insertNode(O)}addFormating(t){const n=this.restoreSelection(this.savedSelection);if(!n||"Range"!==n.type||!n.rangeCount)return;const i=n.toString();if(!i)return;const s=n.getRangeAt(0);var O=this.document.createElement(t),j=this.document.createTextNode(i);O.appendChild(j),s.deleteContents(),s.insertNode(O)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Lr=M(9537);const es=[{id:"_blank",title:"_blank - Opens the linked document in a new window or tab."},{id:"_self",title:"_self - Opens the linked document in the same frame as it was clicked."},{id:"_parent",title:"_parent - Opens the linked document in the parent frame."},{id:"_top",title:"_top - Opens the linked document in the full body of the window."}];function ts(r,o){if(1&r&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.title)}}let ns=(()=>{class r{constructor(){this.href="https://",this.title="",this.label="",this.target="",this.cancel=new e.vpe,this.save=new e.vpe,this.linkTargets=[...es]}ngOnInit(){}cancelClicked(t){t.preventDefault(),this.cancel.emit()}saveClicked(t){t.preventDefault(),this.save.emit({href:this.href,title:this.title,label:this.label,target:this.target})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-link-form"]],inputs:{href:"href",title:"title",label:"label",target:"target"},outputs:{cancel:"cancel",save:"save"},decls:23,vars:5,consts:[[1,"container","disable-select"],["for","link-href"],["type","text","name","link-href",3,"ngModel","ngModelChange"],["for","link-label"],["type","text","name","link-label",3,"ngModel","ngModelChange"],["for","link-title"],["type","text","name","link-title",3,"ngModel","ngModelChange"],["for","link-target"],["name","link-target",3,"ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row","spacing"],[1,"col-6","center"],["href","#",3,"click"],[3,"ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2,"Add hyperlink"),e.qZA(),e.TgZ(3,"label",1),e._uU(4,"Link href"),e.qZA(),e.TgZ(5,"input",2),e.NdJ("ngModelChange",function(s){return n.href=s}),e.qZA(),e.TgZ(6,"label",3),e._uU(7,"Link Label"),e.qZA(),e.TgZ(8,"input",4),e.NdJ("ngModelChange",function(s){return n.label=s}),e.qZA(),e.TgZ(9,"label",5),e._uU(10,"Title"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(s){return n.title=s}),e.qZA(),e.TgZ(12,"label",7),e._uU(13,"Target"),e.qZA(),e.TgZ(14,"select",8),e.YNc(15,ts,2,2,"option",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"a",12),e.NdJ("click",function(s){return n.cancelClicked(s)}),e._uU(19,"Cancel"),e.qZA()(),e.TgZ(20,"div",11)(21,"a",12),e.NdJ("click",function(s){return n.saveClicked(s)}),e._uU(22,"Save"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("ngModel",n.href),e.xp6(3),e.Q6J("ngModel",n.label),e.xp6(3),e.Q6J("ngModel",n.title),e.xp6(3),e.Q6J("ngModel",n.target),e.xp6(1),e.Q6J("ngForOf",n.linkTargets))},dependencies:[y.sg,$._Y,$.YN,$.Kr,$.Fj,$.EJ,$.JJ,$.JL,$.On,$.F],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),r})(),rs=(()=>{class r{constructor(){}getEditorElementName(t){return`${t}-${Date.now()}`}findParent(t,n){if(!n.isContainer||!n.children||!n.children.length)return null;let i;for(let s=0;s<n.children.length;s++){const O=n.children[s];if(t.name===O.name){i=n;break}if(i=this.findParent(t,O),i)break}return i}addNewEditorElement(t,n){const i={...t},s=this.findParent(t,n),O=s.children.indexOf(t);s.children.forEach(j=>j.focused=!1),s.children.splice(O+1,0,{tagName:i.tagName,name:this.getEditorElementName(i.tagName),focused:!0,data:{src:"",url:"",text:"",alt:"",source:ke.CODE_BLOCK===i.tagName?"<h1>Sample source code</h1>":"",language:ke.CODE_BLOCK===i.tagName?"markup":""}})}removeEditorElement(t,n){if(1===n.children.length)return;const i=this.findParent(t,n);if(!i)return void console.error("No Parent found or Element is Root element itself.");const s=i.children.indexOf(t);if(i.children.splice(s,1),i.children.length){const j=i.children[s>=i.children.length?s-1:s];j.isContainer&&j.children&&j.children.length?j.children[j.children.length-1].focused=!0:j.focused=!0}else this.removeEditorElement(i,n)}setFocusOffAll(t){t.focused&&(t.focused=!1),t.children&&t.children.length&&t.children.forEach(n=>this.setFocusOffAll(n))}replaceElement(t,n,i,s=null){if(t.tagName===ke.LIST_ITEM){const O=this.findParent(t,i);if(["ol","ul"].includes(n))O.tagName!==n&&(O.name=this.getEditorElementName(n),O.tagName=n);else{const j={...t};j.tagName=n,j.name=this.getEditorElementName(n),n===ke.IMAGE&&s&&(j.data.src=s.src,j.data.alt=s.alt,delete j.data.text);const X=this.findParent(O,i);let ie=X.children.indexOf(O);O.children.length>1&&ie++,this.removeEditorElement(t,i),this.setFocusOffAll(i),X.children.splice(ie,0,j)}}else if(["ol","ul"].includes(n)){const O={...t};O.tagName=ke.LIST_ITEM,O.name=this.getEditorElementName(ke.LIST_ITEM),t.tagName===ke.IMAGE&&(O.data.text=O.data.alt,delete O.data.alt,delete O.data.src),t.tagName=n,t.name=this.getEditorElementName(n),t.isContainer=!0,t.children=[O],delete t.data,delete t.focused}else n===ke.IMAGE&&s?(t.data.src=s.src,t.data.alt=s.alt,delete t.data.text):n===ke.CODE_BLOCK&&s&&(t.data.source=s.source,t.data.language=s.language),t.tagName=n,t.name=this.getEditorElementName(n)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var sn=M(6243);let as=(()=>{class r{constructor(t,n){this.elementRef=t,this.renderer=n,this.onTouched=()=>{},this.onChange=()=>{},typeof MutationObserver<"u"&&(this.observer=new MutationObserver(()=>{setTimeout(()=>{this.onChange(r.processValue(this.elementRef.nativeElement.innerHTML))})}))}ngAfterViewInit(){this.observer&&this.observer.observe(this.elementRef.nativeElement,{characterData:!0,childList:!0,subtree:!0})}ngOnDestroy(){this.observer&&this.observer.disconnect()}onInput(){this.observer&&this.observer.disconnect(),this.onChange(r.processValue(this.elementRef.nativeElement.innerHTML))}onBlur(){this.onTouched()}writeValue(t){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",r.processValue(t))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.renderer.setAttribute(this.elementRef.nativeElement,"contenteditable",String(!t))}static processValue(t){const n=String(t??"");return"<br>"===n.trim()?"":n}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275dir=e.lG2({type:r,selectors:[["","contenteditable","","formControlName",""],["","contenteditable","","formControl",""],["","contenteditable","","ngModel",""]],hostBindings:function(t,n){1&t&&e.NdJ("input",function(){return n.onInput()})("blur",function(){return n.onBlur()})},features:[e._Bn([{provide:$.JU,useExisting:(0,e.Gpc)(()=>r),multi:!0}])]}),r})(),is=(()=>{class r{constructor(t){this.element=t,this.onFocus=new e.vpe}ngOnChanges(){!0===this.focus&&this.element.nativeElement.focus()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r,selectors:[["","focus",""]],inputs:{focus:"focus"},outputs:{onFocus:"onFocus"},features:[e.TTD]}),r})(),os=(()=>{class r{constructor(t,n,i){this.selService=t,this.zone=n,this.document=i,this.selected=new e.vpe,this.handleDocumentSelectionChange=this.handleDocumentSelectionChange.bind(this)}ngOnInit(){this.zone.runOutsideAngular(()=>{this.document.addEventListener("selectionchange",this.handleDocumentSelectionChange,!1)})}ngOnDestroy(){this.document.removeEventListener("selectionchange",this.handleDocumentSelectionChange,!1)}setSelection(t){this.selService.saveSelection(t),this.selected.emit()}onMouseUp(t){this.setSelection(t.view.getSelection())}handleDocumentSelectionChange(t){t.target.getSelection().toString()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ur),e.Y36(e.R0b),e.Y36(y.K0))},r.\u0275dir=e.lG2({type:r,selectors:[["","anuFormatInline",""]],hostBindings:function(t,n){1&t&&e.NdJ("mouseup",function(s){return n.onMouseUp(s)})},outputs:{selected:"anuFormatInline"}}),r})();function ss(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"h1",5),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.value.data.text=i)})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.value.data.text)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function ls(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"h2",5),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.value.data.text=i)})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.value.data.text)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function cs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"h3",5),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.value.data.text=i)})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.value.data.text)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function us(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"h4",5),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.value.data.text=i)})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.value.data.text)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function ds(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"h5",5),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.value.data.text=i)})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.value.data.text)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function fs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"h6",5),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.value.data.text=i)})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.value.data.text)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function hs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"li",6),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.value.data.text=i)})("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.value.data.text)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function ps(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"p",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.value.data.text=i)})("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.value.data.text)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function ms(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"img",8),e.NdJ("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("anuFormatInline",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.textSelected())})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("src",null==t.value||null==t.value.data?null:t.value.data.src,e.LSH)("alt",null==t.value||null==t.value.data?null:t.value.data.alt)("name",t.value.name)("focus",null==t.value?null:t.value.focused)}}function gs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-code-block",9),e.NdJ("keydown.enter",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterPressed(i,s.value))})("keydown.backspace",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspacePressed(i))})("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.codeBlockChanged(i))})("sourceModalOpenStatusChanged",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.sourceModalOpenStatusChanged(i))})("focusin",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onFocus(i))})("blur",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onBlur(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("source",null==t.value||null==t.value.data?null:t.value.data.source)("language",null==t.value||null==t.value.data?null:t.value.data.language)("enableEdit",!0)("id",t.value.name)("focus",null==t.value?null:t.value.focused)}}let _s=(()=>{class r{constructor(){this.value={},this.fullTree={},this.enterKeyPressed=new e.vpe,this.backspaceKeyPressed=new e.vpe,this.changed=new e.vpe,this.focusin=new e.vpe,this.sourceModalOpenStatus=!1}ngOnInit(){}enterPressed(t,n){this.sourceModalOpenStatus||(t.preventDefault(),this.enterKeyPressed.emit(n))}backspacePressed(t){(!this.value?.data?.text||this.value?.tagName===ke.CODE_BLOCK)&&!this.sourceModalOpenStatus&&(t.preventDefault(),this.backspaceKeyPressed.emit(this.value))}onBlur(t){t.stopPropagation(),this.changed.emit(this.value)}onFocus(t){t.stopPropagation(),this.focusin.emit(this.value)}textSelected(){}codeBlockChanged(t){this.value.data={source:t.source,language:t.language},this.changed.emit(this.value)}sourceModalOpenStatusChanged(t){this.sourceModalOpenStatus=t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-leaf-element"]],inputs:{value:"value",fullTree:"fullTree"},outputs:{enterKeyPressed:"enterKeyPressed",backspaceKeyPressed:"backspaceKeyPressed",changed:"changed",focusin:"focusin"},decls:10,vars:10,consts:[["contenteditable","","tabindex","0",3,"ngModel","name","focus","ngModelChange","keydown.backspace","keydown.enter","blur","focusin","anuFormatInline",4,"ngIf"],["contenteditable","","tabindex","0",3,"ngModel","name","focus","ngModelChange","keydown.enter","anuFormatInline","keydown.backspace","blur","focusin",4,"ngIf"],["contenteditable","","tabindex","0",3,"ngModel","name","focus","ngModelChange","keydown.enter","anuFormatInline","keydown.backspace","focusin","blur",4,"ngIf"],["contenteditable","","tabindex","0",3,"src","alt","name","focus","keydown.enter","anuFormatInline","keydown.backspace","focusin","blur",4,"ngIf"],["tabindex","0",3,"source","language","enableEdit","id","focus","keydown.enter","keydown.backspace","changed","sourceModalOpenStatusChanged","focusin","blur",4,"ngIf"],["contenteditable","","tabindex","0",3,"ngModel","name","focus","ngModelChange","keydown.backspace","keydown.enter","blur","focusin","anuFormatInline"],["contenteditable","","tabindex","0",3,"ngModel","name","focus","ngModelChange","keydown.enter","anuFormatInline","keydown.backspace","blur","focusin"],["contenteditable","","tabindex","0",3,"ngModel","name","focus","ngModelChange","keydown.enter","anuFormatInline","keydown.backspace","focusin","blur"],["contenteditable","","tabindex","0",3,"src","alt","name","focus","keydown.enter","anuFormatInline","keydown.backspace","focusin","blur"],["tabindex","0",3,"source","language","enableEdit","id","focus","keydown.enter","keydown.backspace","changed","sourceModalOpenStatusChanged","focusin","blur"]],template:function(t,n){1&t&&(e.YNc(0,ss,1,3,"h1",0),e.YNc(1,ls,1,3,"h2",0),e.YNc(2,cs,1,3,"h3",0),e.YNc(3,us,1,3,"h4",0),e.YNc(4,ds,1,3,"h5",0),e.YNc(5,fs,1,3,"h6",0),e.YNc(6,hs,1,3,"li",1),e.YNc(7,ps,1,3,"p",2),e.YNc(8,ms,1,4,"img",3),e.YNc(9,gs,1,5,"anu-code-block",4)),2&t&&(e.Q6J("ngIf","h1"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","h2"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","h3"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","h4"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","h5"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","h6"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","li"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","p"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","img"===n.value.tagName),e.xp6(1),e.Q6J("ngIf","anu-code-block"===n.value.tagName))},dependencies:[y.O5,$.JJ,$.On,sn.P,as,is,os],styles:["[_nghost-%COMP%]{max-width:100%;width:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{position:relative}h1[_ngcontent-%COMP%]:empty, h2[_ngcontent-%COMP%]:empty, h3[_ngcontent-%COMP%]:empty, h4[_ngcontent-%COMP%]:empty, h5[_ngcontent-%COMP%]:empty, h6[_ngcontent-%COMP%]:empty, p[_ngcontent-%COMP%]:empty, li[_ngcontent-%COMP%]:empty{padding-right:3rem;outline:1px solid var(--anu-primary-lightest)}"]}),r})();const bs=function(r){return{visible:r}},ws=function(r){return{opened:r}};function vs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",4)(1,"a",5),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleToolbar(i,s.editorElement))}),e._uU(2,"\xbb"),e.qZA(),e.TgZ(3,"anu-toolbar",6),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.styleToolbarSelected(i))}),e.qZA()()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.VKq(4,bs,null==t.editorElement?null:t.editorElement.focused)),e.xp6(3),e.Q6J("isVertical",!0)("ngClass",e.VKq(6,ws,t.isToolbar))("items",t.styleToolbar)}}function Cs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-leaf-element",7),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onBlur())})("focusin",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.focusin())})("enterKeyPressed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.enterKeyPressed(i))})("backspaceKeyPressed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.backspaceKeyPressed(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("value",t.editorElement)("fullTree",t.fullTree)}}function ys(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"anu-content-element",9),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onBlur())})("focusin",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.focusin())}),e.qZA(),e.BQk()}if(2&r){const t=o.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("enableOpenai",n.enableOpenai)("editorElement",t)("fullTree",n.fullTree)}}function As(r,o){if(1&r&&(e.TgZ(0,"article"),e.YNc(1,ys,2,3,"ng-container",8),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.editorElement?null:t.editorElement.children)}}function Ts(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"anu-content-element",9),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onBlur())})("focusin",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.focusin())}),e.qZA(),e.BQk()}if(2&r){const t=o.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("enableOpenai",n.enableOpenai)("editorElement",t)("fullTree",n.fullTree)}}function Es(r,o){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Ts,2,3,"ng-container",8),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.editorElement?null:t.editorElement.children)}}function Ss(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"anu-content-element",9),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onBlur())})("focusin",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.focusin())}),e.qZA(),e.BQk()}if(2&r){const t=o.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("enableOpenai",n.enableOpenai)("editorElement",t)("fullTree",n.fullTree)}}function Os(r,o){if(1&r&&(e.TgZ(0,"ul"),e.YNc(1,Ss,2,3,"ng-container",8),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.editorElement?null:t.editorElement.children)}}function xs(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"anu-content-element",9),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onBlur())})("focusin",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.focusin())}),e.qZA(),e.BQk()}if(2&r){const t=o.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("enableOpenai",n.enableOpenai)("editorElement",t)("fullTree",n.fullTree)}}function Ms(r,o){if(1&r&&(e.TgZ(0,"ol"),e.YNc(1,xs,2,3,"ng-container",8),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.editorElement?null:t.editorElement.children)}}function ks(r,o){if(1&r&&(e.ynx(0),e.YNc(1,As,2,1,"article",2),e.YNc(2,Es,2,1,"div",2),e.YNc(3,Os,2,1,"ul",2),e.YNc(4,Ms,2,1,"ol",2),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","article"===(null==t.editorElement?null:t.editorElement.tagName)),e.xp6(1),e.Q6J("ngIf","div"===(null==t.editorElement?null:t.editorElement.tagName)),e.xp6(1),e.Q6J("ngIf","ul"===(null==t.editorElement?null:t.editorElement.tagName)),e.xp6(1),e.Q6J("ngIf","ol"===(null==t.editorElement?null:t.editorElement.tagName))}}function Is(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"anu-modal",10),e.NdJ("cancelClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelImageModal())}),e.TgZ(2,"anu-cms-image-form",11),e.NdJ("cancel",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelImageModal())})("save",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.saveImage(i))}),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("opened",t.toggleImageForm),e.xp6(1),e.Q6J("src",t.imageInfo.src)("alt",t.imageInfo.alt)("enableOpenai",t.enableOpenai)}}function Ps(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-modal",12),e.NdJ("cancelClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showMarkupModal=!1)})("okClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.markupModalOk())}),e.TgZ(1,"textarea",13),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.markModalText=i)}),e.qZA()()}if(2&r){const t=e.oxw();e.Q6J("opened",t.showMarkupModal)("enableCancel",!0)("enableOk",!0),e.xp6(1),e.Q6J("ngModel",t.markModalText)}}const Fs=function(){return["h1","h2","h3","h4","h5","h6","p","li","img","anu-code-block"]};let Rs=(()=>{class r{constructor(t,n){this.cdr=t,this.ceService=n,this.editorElement={},this.fullTree={},this.enableOpenai=!1,this.changed=new e.vpe,this.isToolbar=!1,this.styleToolbar=Xo,this.toggleImageForm=!1,this.imageInfo={src:"https://",alt:""},this.showMarkupModal=!1,this.markModalText=""}ngOnInit(){this.setStyleToolbarItems()}ngAfterContentChecked(){this.cdr.detectChanges()}ngOnChanges(t){this.setStyleToolbarItems()}setStyleToolbarItems(){}enterKeyPressed(t){this.ceService.addNewEditorElement(t,this.fullTree)}backspaceKeyPressed(t){this.ceService.removeEditorElement(t,this.fullTree),this.cdr.detectChanges()}focusin(){this.editorElement?.isContainer||(this.ceService.setFocusOffAll(this.fullTree),this.editorElement.focused=!0,this.isToolbar=!1)}onBlur(){this.changed.emit(this.editorElement)}toggleToolbar(t,n){t.preventDefault(),this.isToolbar=!this.isToolbar}styleToolbarSelected(t){switch(t.name){case"table":this.ceService.replaceElement(this.editorElement,"anu-code-block",this.fullTree,{source:"<h1>Sample source code</h1>",language:"markup"}),this.isToolbar=!this.isToolbar;break;case"img":this.toggleImageForm=!0,this.imageInfo.alt=this.editorElement?.data?.alt||this.editorElement?.data?.text;break;case"anu-code-block":this.ceService.replaceElement(this.editorElement,t.name,this.fullTree,{source:"<h1>Sample source code</h1>",language:"markup"}),this.isToolbar=!this.isToolbar;break;case"markup":["p","li","h1","h2","h3","h4","h5","h6"].includes(this.editorElement?.tagName)&&(this.markModalText=this.editorElement?.data?.text||"",this.showMarkupModal=!0);break;default:this.ceService.replaceElement(this.editorElement,t.name,this.fullTree),this.isToolbar=!this.isToolbar}}cancelImageModal(){this.toggleImageForm=!1}saveImage(t){this.ceService.replaceElement(this.editorElement,"img",this.fullTree,t),this.toggleImageForm=!1,this.isToolbar=!this.isToolbar}markupModalOk(){this.showMarkupModal=!1,this.editorElement.data=this.editorElement.data||{},this.editorElement.data.text=this.markModalText}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(rs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-content-element"]],inputs:{editorElement:"editorElement",fullTree:"fullTree",enableOpenai:"enableOpenai"},outputs:{changed:"changed"},features:[e.TTD],decls:5,vars:6,consts:[["class","row center nowrap styles-toolbar",3,"ngClass",4,"ngIf"],["class","col-12",3,"value","fullTree","changed","focusin","enterKeyPressed","backspaceKeyPressed",4,"ngIf"],[4,"ngIf"],["okLabel","Update","modalTitle","Update Markup",3,"opened","enableCancel","enableOk","cancelClick","okClick",4,"ngIf"],[1,"row","center","nowrap","styles-toolbar",3,"ngClass"],["href","#",1,"toolbar-btn",3,"click"],[3,"isVertical","ngClass","items","changed"],[1,"col-12",3,"value","fullTree","changed","focusin","enterKeyPressed","backspaceKeyPressed"],[4,"ngFor","ngForOf"],[1,"col-12",3,"enableOpenai","editorElement","fullTree","changed","focusin"],[3,"opened","cancelClick"],[3,"src","alt","enableOpenai","cancel","save"],["okLabel","Update","modalTitle","Update Markup",3,"opened","enableCancel","enableOk","cancelClick","okClick"],[3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.YNc(0,vs,4,8,"div",0),e.YNc(1,Cs,1,2,"anu-leaf-element",1),e.YNc(2,ks,5,4,"ng-container",2),e.YNc(3,Is,3,4,"ng-container",2),e.YNc(4,Ps,2,4,"anu-modal",3)),2&t&&(e.Q6J("ngIf",!(null!=n.editorElement&&n.editorElement.isContainer)),e.xp6(1),e.Q6J("ngIf",e.DdM(5,Fs).includes(null==n.editorElement?null:n.editorElement.tagName)),e.xp6(1),e.Q6J("ngIf",null==n.editorElement?null:n.editorElement.isContainer),e.xp6(1),e.Q6J("ngIf",n.toggleImageForm),e.xp6(1),e.Q6J("ngIf",null==n.editorElement?null:n.editorElement.data))},dependencies:[y.mk,y.sg,y.O5,$.Fj,$.JJ,$.On,Lr.n,Qe.z,nn,r,_s],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%] > article[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{max-width:100%;width:100%}[_nghost-%COMP%]   .styles-toolbar[_ngcontent-%COMP%]{position:absolute;padding:.5rem;z-index:1;width:auto;visibility:hidden;transition:all .2s;opacity:0;left:-2.5rem}[_nghost-%COMP%]   .styles-toolbar.visible[_ngcontent-%COMP%]{visibility:visible;opacity:.9}[_nghost-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]{font-size:3rem;padding:0;margin:-1.5rem 0 -1rem}[_nghost-%COMP%]   anu-toolbar[_ngcontent-%COMP%]{position:absolute;width:auto;margin-left:6.5rem;transition:all .2s;transform:scaleX(0);display:none}[_nghost-%COMP%]   anu-toolbar.opened[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_slide .2s ease 0s forwards}@keyframes _ngcontent-%COMP%_slide{0%{transform:scaleX(0)}to{transform:scaleX(1)}}"]}),r})();const Ns=["popup"],Us=function(r){return{opened:r}};let Ls=(()=>{class r{constructor(t){this.selService=t,this.value={...on},this.enableOpenai=!1,this.changed=new e.vpe,this.isTextSelected=!1,this.formattingToolbar=Wo,this.link={href:"https://",label:"",title:"",target:"_blank"},this.imageInfo={src:"",alt:""},this.toggleLinkForm=!1,this.toggleImageForm=!1,this.handleTextSelection=n=>{this.isTextSelected=n,n&&setTimeout(()=>{this.selectionRect=this.selService.getSelectionRect(),this.selectionRect&&(this.selectionRect.top=this.selectionRect.top-this.popupEl.nativeElement.offsetHeight-this.selectionRect.height)})},this.selectionRect={top:0,left:0,bottom:0,right:0},this.selService.selection.subscribe(this.handleTextSelection)}ngOnInit(){}contentChanged(t){this.changed.emit(this.value)}saveLink(t){this.selService.addLink(t),this.toggleLinkForm=!1,this.isTextSelected=!1}saveImage(t){this.selService.addImage(t),this.toggleImageForm=!1,this.isTextSelected=!1}cancelLinkModal(){this.toggleLinkForm=!1}cancelImageModal(){this.toggleImageForm=!1}formattingToolbarSelected(t){switch(t.name){case"link":this.link={href:"https://",label:this.selService.selectionText,title:this.selService.selectionText,target:"_blank"},this.toggleLinkForm=!this.toggleLinkForm;break;case"image":this.imageInfo={src:"https://",alt:this.selService.selectionText},this.toggleImageForm=!this.toggleImageForm;break;case"bold":this.selService.addFormating("b"),this.isTextSelected=!1;break;case"italic":this.selService.addFormating("i"),this.isTextSelected=!1;break;case"underline":this.selService.addFormating("u"),this.isTextSelected=!1;break;default:this.isTextSelected=!1}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ur))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-content-editor"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ns,7),2&t){let i;e.iGM(i=e.CRH())&&(n.popupEl=i.first)}},inputs:{value:"value",enableOpenai:"enableOpenai"},outputs:{changed:"changed"},decls:8,vars:20,consts:[[3,"enableOpenai","editorElement","fullTree","changed"],[1,"popup",3,"ngClass"],["popup",""],[3,"items","changed"],["modalTitle","Update hyperlink information",3,"opened","cancelClick"],[3,"href","label","title","target","cancel","save"],[3,"opened","cancelClick"],[3,"src","alt","enableOpenai","cancel","save"]],template:function(t,n){1&t&&(e.TgZ(0,"anu-content-element",0),e.NdJ("changed",function(s){return n.contentChanged(s)}),e.qZA(),e.TgZ(1,"div",1,2)(3,"anu-toolbar",3),e.NdJ("changed",function(s){return n.formattingToolbarSelected(s)}),e.qZA(),e.TgZ(4,"anu-modal",4),e.NdJ("cancelClick",function(){return n.cancelLinkModal()}),e.TgZ(5,"anu-link-form",5),e.NdJ("cancel",function(){return n.cancelLinkModal()})("save",function(s){return n.saveLink(s)}),e.qZA()(),e.TgZ(6,"anu-modal",6),e.NdJ("cancelClick",function(){return n.cancelImageModal()}),e.TgZ(7,"anu-cms-image-form",7),e.NdJ("cancel",function(){return n.cancelImageModal()})("save",function(s){return n.saveImage(s)}),e.qZA()()()),2&t&&(e.Q6J("enableOpenai",n.enableOpenai)("editorElement",n.value)("fullTree",n.value),e.xp6(1),e.Udp("top",n.selectionRect.bottom,"px")("left",n.selectionRect.left,"px"),e.Q6J("ngClass",e.VKq(18,Us,n.isTextSelected)),e.xp6(2),e.Q6J("items",n.formattingToolbar),e.xp6(1),e.Q6J("opened",n.toggleLinkForm),e.xp6(1),e.Q6J("href",n.link.href)("label",n.link.label)("title",n.link.title)("target",n.link.target),e.xp6(1),e.Q6J("opened",n.toggleImageForm),e.xp6(1),e.Q6J("src",n.imageInfo.src)("alt",n.imageInfo.alt)("enableOpenai",n.enableOpenai))},dependencies:[y.mk,Lr.n,Qe.z,nn,ns,Rs],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;margin-bottom:calc(var(--anu-spacing) * 10)}[_nghost-%COMP%]   .popup[_ngcontent-%COMP%]{padding:.5rem 0;border:none;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),r})();function Bs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",27)(1,"label",28),e.NdJ("dblclick",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.articledDblClick(i))}),e._uU(2,"Article Id"),e.qZA(),e.TgZ(3,"input",29),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.article.id=i)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.article.id)}}function Ds(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"p",28),e.NdJ("dblclick",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.articledDblClick(i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij("/",null==t.article?null:t.article.id,"")}}function Zs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"section",9)(1,"a",30),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteArticle(i))}),e._uU(2,"Delete Article"),e.qZA()()}}function js(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-card",12)(1,"anu-card-title")(2,"h2"),e._uU(3,"Link Features to your Article"),e.qZA()(),e.TgZ(4,"anu-card-body")(5,"div",16)(6,"anu-multi-select-box",17),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onArticleFeaturesChanged(i))}),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(6),e.Q6J("items",t.articleFeatures)("selectedItems",t.selectedArticleFeatures)}}function Js(r,o){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.Q6J("ngClass",null!=t.article&&t.article.isLive?"success":"warning"),e.xp6(1),e.Oqu(null!=t.article&&t.article.isLive?"Published":"Unpublished")}}function qs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"label",22),e._uU(1,"Published? "),e.TgZ(2,"anu-toggle",23),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.isLiveChanged(i))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("rounded",!0)("checked",null==t.article?null:t.article.isLive)}}const ln=function(r){return{active:r}},Br={body:{...on},metaInfo:{title:on.children[0]?.data?.text,description:on.children[1]?.data?.text},features:[],categories:[],image:{src:"",alt:""}};let Hs=(()=>{class r{constructor(t){this.utils=t,this.imageHelpText="",this.readonlyId=!0,this.readonlyTitle=!1,this.enableUniqueId=!0,this.enablePublish=!0,this.enableDelete=!0,this.enableReadonlyIdToggle=!0,this.enableFeatures=!0,this.enableOpenai=!1,this.categories=[],this.changed=new e.vpe,this.saveClicked=new e.vpe,this.isLiveClicked=new e.vpe,this.inReviewClicked=new e.vpe,this.deleteClicked=new e.vpe,this.toggleImageForm=!1,this.tabs=Vo.map(n=>({...n})),this.activeTab=this.tabs[0],this.selectedArticleCategories=[],this.categoriesMultiSelectItems=[],this.selectedArticleFeatures=[],this.articleFeatures=[],this.readonlyMetaProps=[],this.sampleArticle={...Br,id:this.utils.getUniqueFromString(Br.metaInfo.title),created:t.currentDate,updated:t.currentDate},this.article={...this.sampleArticle},this.articleFeatures=Object.keys(_t.l).map(n=>({id:_t.l[n],title:_t.l[n]}))}initArticle(){this.value?this.article=JSON.parse(JSON.stringify(this.value)):(this.article=JSON.parse(JSON.stringify(this.sampleArticle)),this.value=JSON.parse(JSON.stringify(this.sampleArticle))),this.selectedArticleCategories=this.article.categories?.map(t=>({id:t})),this.categoriesMultiSelectItems=this.categories?.map(t=>({id:t?.id,title:t?.metaInfo?.title})),this.selectedArticleFeatures=this.article?.features?.map(t=>({id:t,title:t}))||[],this.readonlyMetaProps=!0===this.readonlyTitle?["title"]:[]}ngOnInit(){this.initArticle()}ngOnChanges(t){this.initArticle()}tabChanged(t){this.activeTab=t}articleBodyChanged(t){this.article={...this.article,body:{...t}},this.changed.emit({...this.article})}articleMetaChanged(t){this.article.id=t.title!==this.value.metaInfo.title?this.enableUniqueId?this.utils.getUniqueFromString(t.title):this.utils.toDashedString(t.title):this.value.id,this.article={...this.article,metaInfo:{...t}},this.changed.emit({...this.article})}onCategoriesChanged(t=[]){this.article={...this.article,categories:t?.map(n=>n?.id),metaInfo:{...this.article.metaInfo,url:this.utils.getCanonicalUrl("stories",this.article.id)}},this.selectedArticleCategories=[...t],this.changed.emit({...this.article})}onArticleFeaturesChanged(t=[]){this.article={...this.article,features:t?.map(n=>n.id)},this.selectedArticleFeatures=[...t],this.changed.emit({...this.article})}isLiveChanged(t){this.article={...this.article,isLive:t,inReview:!0!==t&&this.value.inReview},this.isLiveClicked.emit({...this.article})}inReviewChanged(t){this.article={...this.article,isLive:!0!==t&&this.value.isLive,inReview:t},this.inReviewClicked.emit({...this.article})}changeImage(t,n=!1){t.preventDefault(),!0===n?(this.article.image=null,this.changed.emit({...this.article})):this.toggleImageForm=!0}cancelImageChange(){this.toggleImageForm=!1}saveImageChange(t){this.article.image=t,this.article.metaInfo={...this.article.metaInfo,image:t?.src||""},this.toggleImageForm=!1,this.changed.emit({...this.article})}saveArticle(t){t.preventDefault(),this.saveClicked.emit({...this.article})}deleteArticle(t){t.preventDefault(),this.deleteClicked.emit({...this.article})}articledDblClick(t){t.preventDefault(),this.enableReadonlyIdToggle&&(this.readonlyId=!this.readonlyId)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-article-editor"]],inputs:{value:"value",imageHelpText:"imageHelpText",readonlyId:"readonlyId",readonlyTitle:"readonlyTitle",enableUniqueId:"enableUniqueId",enablePublish:"enablePublish",enableDelete:"enableDelete",enableReadonlyIdToggle:"enableReadonlyIdToggle",enableFeatures:"enableFeatures",enableOpenai:"enableOpenai",categories:"categories"},outputs:{changed:"changed",saveClicked:"saveClicked",isLiveClicked:"isLiveClicked",inReviewClicked:"inReviewClicked",deleteClicked:"deleteClicked"},features:[e.TTD],decls:68,vars:35,consts:[["class","row spacing-around-vertical",4,"ngIf"],[3,"dblclick",4,"ngIf"],["class","row spacing-vertical right",4,"ngIf"],[3,"tabs","activeTab","changed"],[1,"container","tab-body"],[1,"tab-item-body","col-12",3,"ngClass"],[1,"shadow","spacing","article-card","col-12"],[1,"col-12"],[1,"col-12",3,"enableOpenai","value","changed"],[1,"row","spacing-vertical","right"],["href","#",1,"btn",3,"click"],[1,"tab-item-body",3,"ngClass"],[1,"shadow","spacing","spacing-around-vertical","moreinfo-card","spacing-around-horizontal-md","spacing-around-horizontal-lg"],[1,"row","center","stretch"],[1,"col-sm-12"],["href","#",1,"spacing-around",3,"click"],[1,"row"],["keyField","id","labelField","title",3,"items","selectedItems","changed"],["class","shadow spacing spacing-around-vertical moreinfo-card spacing-around-horizontal-md spacing-around-horizontal-lg",4,"ngIf"],[3,"opened","cancelClick"],[3,"src","alt","enableOpenai","cancel","save"],[3,"metaInfo","readonlyMetaProps","changed"],[1,"spacing-horizontal"],[3,"rounded","checked","changed"],[3,"ngClass",4,"ngIf"],["class","spacing-horizontal",4,"ngIf"],[1,"spacing-around-horizontal-md","spacing-around-horizontal-lg",3,"value"],[1,"row","spacing-around-vertical"],[3,"dblclick"],["type","text","name","article-id",3,"ngModel","ngModelChange"],["href","#",1,"btn","error",3,"click"],[3,"ngClass"]],template:function(t,n){1&t&&(e.TgZ(0,"h2"),e._uU(1,"Article Editor"),e.qZA(),e.YNc(2,Bs,4,1,"div",0),e.YNc(3,Ds,2,1,"p",1),e.YNc(4,Zs,3,0,"section",2),e.TgZ(5,"anu-tabs",3),e.NdJ("changed",function(s){return n.tabChanged(s)}),e.qZA(),e.TgZ(6,"section",4)(7,"section",5)(8,"anu-card",6)(9,"anu-card-body",7)(10,"h1"),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA(),e.TgZ(14,"label"),e._uU(15,"You can start writing your content below:"),e.qZA(),e.TgZ(16,"anu-content-editor",8),e.NdJ("changed",function(s){return n.articleBodyChanged(s)}),e.qZA()()(),e.TgZ(17,"section",9)(18,"a",10),e.NdJ("click",function(s){return n.saveArticle(s)}),e._uU(19,"Save Article"),e.qZA()()(),e.TgZ(20,"section",11)(21,"anu-card",12)(22,"anu-card-body")(23,"div",13)(24,"div",14)(25,"a",15),e.NdJ("click",function(s){return n.changeImage(s)}),e._uU(26,"Change image"),e.qZA(),e.TgZ(27,"a",15),e.NdJ("click",function(s){return n.changeImage(s,!0)}),e._uU(28,"Remove image"),e.qZA()()()()(),e.TgZ(29,"anu-card",12)(30,"anu-card-title")(31,"h2"),e._uU(32,"Link Categories to your Article"),e.qZA()(),e.TgZ(33,"anu-card-body")(34,"div",16)(35,"anu-multi-select-box",17),e.NdJ("changed",function(s){return n.onCategoriesChanged(s)}),e.qZA()()()(),e.YNc(36,js,7,2,"anu-card",18),e.TgZ(37,"anu-modal",19),e.NdJ("cancelClick",function(){return n.cancelImageChange()}),e.TgZ(38,"anu-cms-image-form",20),e.NdJ("cancel",function(){return n.cancelImageChange()})("save",function(s){return n.saveImageChange(s)}),e.qZA()(),e.TgZ(39,"section",9)(40,"a",10),e.NdJ("click",function(s){return n.saveArticle(s)}),e._uU(41,"Save Article"),e.qZA()()(),e.TgZ(42,"section",11)(43,"small")(44,"i"),e._uU(45,"The "),e.TgZ(46,"strong"),e._uU(47,"Page title"),e.qZA(),e._uU(48," and "),e.TgZ(49,"strong"),e._uU(50,"Page description"),e.qZA(),e._uU(51," ideally should be same as to your article's content."),e.qZA()(),e.TgZ(52,"anu-meta-form",21),e.NdJ("changed",function(s){return n.articleMetaChanged(s)}),e.qZA(),e.TgZ(53,"section",9)(54,"a",10),e.NdJ("click",function(s){return n.saveArticle(s)}),e._uU(55,"Save Article"),e.qZA()()(),e.TgZ(56,"section",11)(57,"div",13)(58,"div",14)(59,"label",22),e._uU(60,"In Review? "),e.TgZ(61,"anu-toggle",23),e.NdJ("changed",function(s){return n.inReviewChanged(s)}),e.qZA()()(),e.TgZ(62,"div",14),e.YNc(63,Js,2,2,"span",24),e.YNc(64,qs,3,2,"label",25),e.qZA()(),e.TgZ(65,"h2"),e._uU(66,"Preview Card"),e.qZA(),e._UZ(67,"anu-article",26),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",!n.readonlyId&&n.enableReadonlyIdToggle),e.xp6(1),e.Q6J("ngIf",n.readonlyId),e.xp6(1),e.Q6J("ngIf",n.enableDelete),e.xp6(1),e.Q6J("tabs",n.tabs)("activeTab",n.activeTab),e.xp6(2),e.Q6J("ngClass",e.VKq(27,ln,"article"===n.activeTab.name)),e.xp6(4),e.Oqu(null==n.article||null==n.article.metaInfo?null:n.article.metaInfo.title),e.xp6(2),e.Oqu(null==n.article||null==n.article.metaInfo?null:n.article.metaInfo.description),e.xp6(3),e.Q6J("enableOpenai",n.enableOpenai)("value",null==n.article?null:n.article.body),e.xp6(4),e.Q6J("ngClass",e.VKq(29,ln,"moreinfo"===n.activeTab.name)),e.xp6(15),e.Q6J("items",n.categoriesMultiSelectItems)("selectedItems",n.selectedArticleCategories),e.xp6(1),e.Q6J("ngIf",n.enableFeatures),e.xp6(1),e.Q6J("opened",n.toggleImageForm),e.xp6(1),e.Q6J("src",null==n.article||null==n.article.image?null:n.article.image.src)("alt",null==n.article||null==n.article.image?null:n.article.image.alt)("enableOpenai",n.enableOpenai),e.xp6(4),e.Q6J("ngClass",e.VKq(31,ln,"metainfo"===n.activeTab.name)),e.xp6(10),e.Q6J("metaInfo",null==n.article?null:n.article.metaInfo)("readonlyMetaProps",n.readonlyMetaProps),e.xp6(4),e.Q6J("ngClass",e.VKq(33,ln,"publish"===n.activeTab.name)),e.xp6(5),e.Q6J("rounded",!0)("checked",null==n.article?null:n.article.inReview),e.xp6(2),e.Q6J("ngIf",!n.enablePublish),e.xp6(1),e.Q6J("ngIf",n.enablePublish),e.xp6(3),e.Q6J("value",n.article))},dependencies:[y.mk,y.O5,$.Fj,$.JJ,$.On,it,Ls,u.A,T.E,f.y,nn,Qe.z,kr,Pn.t,Ue,Be],styles:["[_nghost-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .article-card[_ngcontent-%COMP%]{background-color:var(--anu-primary-deep-light);padding-left:calc(var(--anu-spacing) * 2)}[_nghost-%COMP%]   .moreinfo-card[_ngcontent-%COMP%]{background-color:var(--anu-primary-deep-light)}[_nghost-%COMP%]   .tab-body[_ngcontent-%COMP%]   .tab-item-body[_ngcontent-%COMP%]{display:none;flex-direction:column}[_nghost-%COMP%]   .tab-body[_ngcontent-%COMP%]   .tab-item-body.active[_ngcontent-%COMP%]{display:flex}"]}),r})();function Qs(r,o){if(1&r&&(e.TgZ(0,"option",8),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.key)}}function Ks(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"select",6),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedPromptType=i)}),e.YNc(1,Qs,2,2,"option",7),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngModel",t.selectedPromptType),e.xp6(1),e.Q6J("ngForOf",t.promptTypes)}}function Gs(r,o){if(1&r&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("ngValue",t.prompt),e.xp6(1),e.Oqu(t.prompt)}}const Vs=function(){return["size-sm"]};function zs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"anu-collapsible",10)(2,"anu-collapsible-header"),e._uU(3," Prompts History "),e.qZA(),e.TgZ(4,"anu-collapsible-content",9)(5,"div",11)(6,"select",12),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedPromptText=i)})("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.promptListChanged())}),e.TgZ(7,"option",13),e._uU(8,"Select.."),e.qZA(),e.YNc(9,Gs,2,2,"option",14),e.qZA()(),e.TgZ(10,"div",11)(11,"select",15),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedResultType=i)}),e.TgZ(12,"option",16),e._uU(13,"Markdown"),e.qZA(),e.TgZ(14,"option",17),e._uU(15,"HTML"),e.qZA(),e.TgZ(16,"option",18),e._uU(17,"JSON"),e.qZA()()(),e.TgZ(18,"div",19)(19,"textarea",20),e._uU(20),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("collapsed",!1)("hamBurgerClassNames",e.DdM(8,Vs))("isDropdownStyle",!0),e.xp6(5),e.Q6J("ngModel",t.selectedPromptText),e.xp6(1),e.Q6J("ngValue",""),e.xp6(2),e.Q6J("ngForOf",t.prompts),e.xp6(2),e.Q6J("ngModel",t.selectedResultType),e.xp6(9),e.Oqu(null==t.selectedPrompt?null:t.selectedPrompt.message[t.selectedResultType])}}let Dr=(()=>{class r{constructor(){this.prompts=[],this.selectedPromptText="",this.showHistory=!0,this.showPrompts=!0,this.goClicked=new e.vpe,this.currentPrompt="",this.selectedResultType="mdText",this.promptTypes=Object.entries(Ae).map(t=>({key:t[0],value:t[1]})),this.selectedPromptType=Ae.content}ngOnInit(){this.setSelectedPrompt()}ngOnChanges(t){this.setSelectedPrompt()}setSelectedPrompt(){this.selectedPrompt=this.findPrompt(this.selectedPromptText),this.selectedPromptType=this.selectedPrompt?.promptType||Ae.content}promptListChanged(){this.setSelectedPrompt()}goBtnClick(t){t.preventDefault(),this.currentPrompt.trim()&&(this.findPrompt(this.currentPrompt)||(this.prompts.push({prompt:this.currentPrompt,promptType:this.selectedPromptType,message:{mdText:"",htmlText:"",jsonText:""}}),this.selectedPromptText=this.currentPrompt,this.selectedPrompt=this.findPrompt(this.selectedPromptText),this.currentPrompt="",this.selectedPromptType=Ae.content,this.goClicked.emit(this.prompts)))}findPrompt(t){return this.prompts.find(n=>n.prompt===t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-openai-form"]],inputs:{prompts:"prompts",selectedPromptText:"selectedPromptText",showHistory:"showHistory",showPrompts:"showPrompts"},outputs:{goClicked:"goClicked"},features:[e.TTD],decls:7,vars:3,consts:[[1,"container","disable-select"],[1,"input-container","row","nowrap"],["class","prompt-types","name","prompt-types",3,"ngModel","ngModelChange",4,"ngIf"],["name","openaiPrompt","type","text","placeholder","Write your prompt here",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"btn","primary",3,"click"],["class","row",4,"ngIf"],["name","prompt-types",1,"prompt-types",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"row"],[1,"col-12","spacing-around-vertical",3,"collapsed","hamBurgerClassNames","isDropdownStyle"],[1,"col-6"],["name","prompt-list",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","result-types",3,"ngModel","ngModelChange"],["value","mdText"],["value","htmlText"],["value","jsonText"],[1,"col-12"],["readonly",""]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"div",1),e.YNc(2,Ks,2,2,"select",2),e.TgZ(3,"input",3),e.NdJ("ngModelChange",function(s){return n.currentPrompt=s}),e.qZA(),e.TgZ(4,"a",4),e.NdJ("click",function(s){return n.goBtnClick(s)}),e._uU(5,"\u2315"),e.qZA()(),e.YNc(6,zs,21,9,"div",5),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.showPrompts),e.xp6(1),e.Q6J("ngModel",n.currentPrompt),e.xp6(3),e.Q6J("ngIf",n.showHistory))},dependencies:[y.sg,y.O5,$._Y,$.YN,$.Kr,$.Fj,$.EJ,$.JJ,$.JL,$.On,$.F,re,ye,we],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   input[type=text][_ngcontent-%COMP%]{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;font-size:2rem;color:var(--anu-accent-deep-light);margin-left:-2px;padding:0rem 1.5rem}[_nghost-%COMP%]   .prompt-types[_ngcontent-%COMP%]{max-width:10rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:auto}"]}),r})();function Ys(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showOpenAiAutogenerate=!i.showOpenAiAutogenerate)}),e._uU(1,"Auto generate Article"),e.qZA()}}function $s(r,o){1&r&&(e.TgZ(0,"span",10),e._uU(1,"|"),e.qZA())}function Ws(r,o){if(1&r&&(e.TgZ(0,"div",16)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"label"),e._uU(4,"Generating article..."),e.qZA()()),2&r){const t=e.oxw(3);e.xp6(2),e.AsE("",t.autoGenerateTimeEllapsed," s / ",t.autoGenerateExpectedTimeToFinish," s")}}function Xs(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-openai-form",17),e.NdJ("goClicked",function(i){e.CHM(t);const s=e.oxw(3);return e.KtG(s.openAiAutogenerateClick(i))}),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("showHistory",!1)("prompts",t.openaiPromptsToAutogenerate)}}function el(r,o){if(1&r&&(e.TgZ(0,"div",12)(1,"div",13),e.YNc(2,Ws,5,2,"div",14),e.YNc(3,Xs,1,2,"anu-openai-form",15),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.autoGenerateLoading),e.xp6(1),e.Q6J("ngIf",!t.autoGenerateLoading)}}function tl(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"anu-openai-form",17),e.NdJ("goClicked",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openAiClick(i))}),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("showHistory",t.isAdmin)("prompts",t.openaiPrompts)}}function nl(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,Ys,2,0,"a",7),e.YNc(3,$s,2,0,"span",8),e.TgZ(4,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showOpenAi=!i.showOpenAi)}),e._uU(5,"Open AI"),e.qZA(),e.TgZ(6,"span",10),e._uU(7,"|"),e.qZA(),e.TgZ(8,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cleanAndFormatBody())}),e._uU(9,"Open AI Clean article"),e.qZA()(),e.YNc(10,el,4,2,"div",11),e.YNc(11,tl,3,2,"div",11),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isNewArticlePage),e.xp6(1),e.Q6J("ngIf",t.isNewArticlePage),e.xp6(7),e.Q6J("ngIf",t.showOpenAiAutogenerate),e.xp6(1),e.Q6J("ngIf",t.showOpenAi)}}function rl(r,o){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"anu-article-editor",18),e.NdJ("isLiveClicked",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.isLiveClicked(i))})("inReviewClicked",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.inReviewClicked(i))})("saveClicked",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.saveClicked(i))})("deleteClicked",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteClicked(i))})("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.articleChanged(i))}),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("categories",t.categories)("value",t.article)("enableOpenai",t.isAdmin)("enableDelete",t.isAdmin&&!t.isNewArticlePage)("enablePublish",t.isAdmin&&!t.isNewArticlePage)("enableUniqueId",t.postfixUniqueId)("enableReadonlyIdToggle",t.isAdmin)("enableFeatures",t.isAdmin)("imageHelpText",t.imageHelpText)("readonlyId",!0)("readonlyTitle",!t.isNewArticlePage)}}function al(r,o){if(1&r&&e._UZ(0,"anu-error",19),2&r){const t=e.oxw();e.Q6J("code",t.error.code)("message",t.error.message)}}let il=(()=>{class r{constructor(t,n,i,s,O,j,X,ie,ge,be,Se){var Ee=this;this.fireArticlesHttpService=t,this.fireCategoriesHttpService=n,this.fireAuthService=i,this.route=s,this.router=O,this.utilsService=j,this.dashboardMetaService=X,this.openaiService=ie,this.html2jsonService=ge,this.articleEditorService=be,this.appConfigService=Se,this.pageMeta=null,this.article=null,this.articleId="",this.categories=[],this.error=null,this.found=!1,this.loading=!0,this.showUpdateConfirmationModal=!1,this.ADD_ARTICLE="add",this.isAdmin=!1,this.isAuthor=!1,this.postfixUniqueId=!0,this.showModal=!1,this.imageHelpText="",this.appConfig=null,this.openaiPrompts=[],this.showOpenAi=!1,this.showOpenAiAutogenerate=!1,this.openaiPromptsToAutogenerate=[],this.autoGenerateLoading=!1,this.autoGenerateStartTime=0,this.autoGenerateExpectedTimeToFinish=0,this.autoGenerateTimeEllapsed=0,this.appConfig=this.appConfigService.config,this.imageHelpText=this.getImageSpecsString(this.appConfigService.firebase.storage.imageDimensions),this.paramsSubscription=this.route.params.subscribe(function(){var Ne=(0,g.Z)(function*(Fe){Ee.error=null,Ee.found=!0,Ee.articleId=Fe.storyId,Ee.isAdmin=yield Ee.fireAuthService.currentUserHasRole(m.go.ADMIN),Ee.isAuthor=yield Ee.fireAuthService.currentUserHasRole(m.go.AUTHOR),Ee.getCategories(),Ee.getArticle(Ee.articleId),Ee.isAdmin&&Ee.openaiService.initOpenai(Ee.appConfigService.openai)});return function(Fe){return Ne.apply(this,arguments)}}())}getImageSpecsString(t){const{minWidth:n,minHeight:i,maxWidth:s,maxHeight:O,maxKBs:j}=t;return`Allowed Image specification: 1Kb <= size <= ${j}Kbs | ${n}px <= width <= ${s}px | ${i}px <= height <= ${O}px`}ngOnInit(){this.pageMeta=this.dashboardMetaService.setDashboardPageMeta(z.storyPage)}ngOnDestroy(){this.paramsSubscription.unsubscribe()}get isNewArticlePage(){return this.articleId===this.ADD_ARTICLE}getArticle(t){var n=this;return(0,g.Z)(function*(){n.error=null,n.loading=!0,n.found=!0,n.article=null,t!==n.ADD_ARTICLE?(n.isAdmin?n.fireArticlesHttpService.getArticle(t):n.fireArticlesHttpService.getUsersArticle(t,n.fireAuthService.getCurrentUserId())).then(s=>{s?n.article={...s}:(n.found=!1,n.error={code:"404",message:`Article does not exist - ${t}`}),n.loading=!1}).catch(s=>{n.error=s,n.loading=!1,n.found=!1}):(n.found=!0,n.loading=!1,n.article=null)})()}getCategories(){var t=this;return(0,g.Z)(function*(){const n=yield t.fireCategoriesHttpService.getAllUsersOnePageShallowCategories(!t.isAdmin||null);t.categories=n.categories||[]})()}saveClicked(t){let n;this.article={...t},this.error=null,this.loading=!0,this.article.userId=this.article.userId||this.fireAuthService.getCurrentUserId(),n=this.isNewArticlePage?this.fireArticlesHttpService.addArticle(this.article):this.fireArticlesHttpService.updateArticle(this.article),n.then(i=>{this.article={...i},this.loading=!1,this.isNewArticlePage&&this.router.navigate([this.article.id],{relativeTo:this.route.parent})}).catch(i=>{this.error=i,this.loading=!1})}isLiveClicked(t){this.article={...t},this.error=null,this.loading=!0,this.isNewArticlePage?this.loading=!1:this.fireArticlesHttpService.setArticleLive(this.article).then(n=>{this.article={...n},this.loading=!1}).catch(n=>{this.error=n,this.loading=!1})}inReviewClicked(t){this.article={...t},this.error=null,this.loading=!0,this.isNewArticlePage?this.loading=!1:this.fireArticlesHttpService.setArticleUpForReview(this.article).then(n=>{this.article={...n},this.loading=!1}).catch(n=>{this.error=n,this.loading=!1})}deleteClicked(t){this.showModal=!0}deleteCancelled(){this.showModal=!1}deleteConfirmed(){this.showModal=!1,this.loading=!0,this.error=null,this.fireArticlesHttpService.deleteArticle(this.article).then(t=>{if(!0!==t)throw new Error("Something went wrong, please try again later.");this.router.navigate(["."],{relativeTo:this.route.parent}),this.loading=!1}).catch(t=>{this.error=t,this.loading=!1})}articleChanged(t){t.metaInfo["article:author"]=t.metaInfo["article:author"]||this.appConfig.metaInfo["article:author"],t.metaInfo.author=t.metaInfo.author||this.appConfig.metaInfo.author}openAiClick(t){this.openaiPrompts=this.utilsService.deepCopy(t),this.getOpenaiPromptResults()}getOpenaiPromptResults(){var t=this;return(0,g.Z)(function*(){t.loading=!0,t.isNewArticlePage&&1===t.openaiPrompts.length?t.openaiPrompts[0].promptType=Ae.content:[Ae.keywords,Ae.description].includes(t.openaiPrompts[t.openaiPrompts.length-1].promptType)&&(t.openaiPrompts[t.openaiPrompts.length-1].prompt=t.article.metaInfo.title);let n=t.openaiPrompts[t.openaiPrompts.length-1];const i=yield t.openaiService.getChatResponse(t.openaiPrompts.map(j=>`${j.promptType?j.promptType+' "':""}${j.prompt}${j.promptType?'"':""}`)),s=t.html2jsonService.md2html(i),O=t.html2jsonService.html2json(s);if(t.isNewArticlePage&&(t.article=t.article||{},t.article.metaInfo=t.article.metaInfo||{}),n.promptType===Ae.description)O.children.forEach(j=>{"p"===j.tagName.toLowerCase()&&(t.article.metaInfo.description=j.data?.text)});else if(n.promptType===Ae.keywords){const j=[];O.children.forEach(X=>{["ul","ol"].includes(X.tagName.toLowerCase())&&X.children.forEach(ie=>{"li"===ie.tagName&&j.push(ie.data?.text)})}),t.article.metaInfo.keywords=j.join(", ")}else t.isNewArticlePage?(t.article.metaInfo.title=t.openaiPrompts[0].prompt,1===t.openaiPrompts.length?t.article.body=O:t.article.body.children=[].concat(t.article.body.children,[t.createHeadingFromPrompt(n.prompt)],O.children)):t.article.body.children=[].concat(t.article.body.children,[t.createHeadingFromPrompt(n.prompt)],O.children);t.article={...t.article},n={...n,message:{mdText:i,htmlText:s,jsonText:JSON.stringify(O,null,"\t")}},t.openaiPrompts[t.openaiPrompts.length-1]=n,t.openaiPrompts=[...t.openaiPrompts],t.loading=!1})()}createHeadingFromPrompt(t){return{name:`h2-${Date.now()}`,tagName:"h2",isContainer:!1,focused:!1,data:{text:t}}}openAiAutogenerateClick(t){this.openaiPromptsToAutogenerate=this.utilsService.deepCopy(t);const n=this.openaiPromptsToAutogenerate[this.openaiPromptsToAutogenerate.length-1]?.prompt;if(!n)throw new Error("Invalid article title");this.autoGenerateArticle(n)}autoGenerateArticle(t){var n=this;return(0,g.Z)(function*(){const i=n.articleEditorService.article.subscribe(O=>{n.article=O;const j=n.article?.metaInfo?.keywords||"";j&&(n.autoGenerateExpectedTimeToFinish=60+60*Math.ceil(j.split(", ").length/3))});n.autoGenerateLoading=!0,n.startAutoGenerateTimer(),n.autoGenerateExpectedTimeToFinish=60;const s=yield n.articleEditorService.generateArticleFromOpenai(t,"","","");return n.article=s,i.unsubscribe(),clearInterval(n.autoGenerateTimer),n.autoGenerateLoading=!1,n.saveClicked(n.article),n.showOpenAiAutogenerate=!1,s})()}startAutoGenerateTimer(){clearInterval(this.autoGenerateTimer),this.autoGenerateStartTime=Date.now(),this.autoGenerateTimeEllapsed=0,this.autoGenerateTimer=setInterval(()=>{this.autoGenerateTimeEllapsed=(Date.now()-this.autoGenerateStartTime)/1e3},1e3)}cleanAndFormatBody(){this.loading=!0,setTimeout(()=>{const t=this.articleEditorService.cleanAndFormatEditorEl(this.article?.body);this.article={...this.article,body:t},this.loading=!1})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(rn.h),e.Y36(At.y),e.Y36(_.i),e.Y36(v.gz),e.Y36(v.F0),e.Y36(a.F),e.Y36(l),e.Y36(It),e.Y36(Fn),e.Y36(Nr),e.Y36(w._))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-manage-story-page"]],decls:9,vars:9,consts:[[1,"flex-container","spacing-around-vertical"],[4,"ngIf"],[1,"left","form-body","container","spacing-lg","relative"],[3,"code","message",4,"ngIf"],[3,"show"],[3,"enableCancel","enableClose","enableOk","opened","modalTitle","cancelClick","okClick"],[1,"row","right"],["href","javascript:void(0)",3,"click",4,"ngIf"],["class","spacing-horizontal",4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"spacing-horizontal"],["class","row",4,"ngIf"],[1,"row"],[1,"left","col-12"],["class","col-12",4,"ngIf"],["class","col-12",3,"showHistory","prompts","goClicked",4,"ngIf"],[1,"col-12"],[1,"col-12",3,"showHistory","prompts","goClicked"],[1,"container",3,"categories","value","enableOpenai","enableDelete","enablePublish","enableUniqueId","enableReadonlyIdToggle","enableFeatures","imageHelpText","readonlyId","readonlyTitle","isLiveClicked","inReviewClicked","saveClicked","deleteClicked","changed"],[3,"code","message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,nl,12,4,"ng-container",1),e.TgZ(2,"div",2),e.YNc(3,rl,2,11,"ng-container",1),e.YNc(4,al,1,2,"anu-error",3),e._UZ(5,"anu-spinner",4),e.qZA()(),e.TgZ(6,"anu-modal",5),e.NdJ("cancelClick",function(){return n.deleteCancelled()})("okClick",function(){return n.deleteConfirmed()}),e.TgZ(7,"p"),e._uU(8,"Article will be deleted permanently and you will not be able to recover. Are you sure to continue?"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.isAdmin),e.xp6(2),e.Q6J("ngIf",n.found),e.xp6(1),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("show",n.loading),e.xp6(1),e.Q6J("enableCancel",!0)("enableClose",!0)("enableOk",!0)("opened",n.showModal)("modalTitle","Delete Confirmation"))},dependencies:[y.O5,Hs,I.O,Qe.z,Dr,Ke.q],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .form-body[_ngcontent-%COMP%]{min-height:5rem}"]}),r})();const Zr=[{id:"isFeatured",title:"featured?",enabled:!1,type:C.SingleSelect,filter:{yesLabel:"Yes",noLabel:"No",value:!0}},{id:"inReview",title:"In-review?",enabled:!1,type:C.SingleSelect,filter:{yesLabel:"Yes",noLabel:"No",value:!0}},{id:"isLive",title:"Published?",enabled:!1,type:C.SingleSelect,filter:{yesLabel:"Live",noLabel:"offline",value:!0}}],ol=[{id:"userId",title:"Author",enabled:!1,type:C.SingleSelect,filter:{yesLabel:"Mine",noLabel:"Others",value:!0}},{id:"features",title:"Choose Features",enabled:!0,type:C.MultiSelect,filter:{selectedValues:[],values:Object.keys(_t.l).map(r=>({id:_t.l[r],title:_t.l[r]})),keyName:"id",valueName:"title"}}];function sl(r,o){if(1&r&&(e.TgZ(0,"anu-card-title")(1,"h1"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(null==t.pageMeta?null:t.pageMeta.title)}}function ll(r,o){if(1&r&&(e.TgZ(0,"anu-card-body")(1,"p"),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",null==t.pageMeta?null:t.pageMeta.description," ")}}const cl=function(){return["."]},jr=function(){return["add"]};function ul(r,o){if(1&r&&(e.ynx(0),e.TgZ(1,"div",7)(2,"h1"),e._uU(3,"Article Form"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Update article details and publish."),e.qZA()(),e.TgZ(6,"div",8)(7,"a",9),e._uU(8),e.qZA(),e.TgZ(9,"a",9),e._uU(10,"Add new Article"),e.qZA()(),e.BQk()),2&r){const t=e.oxw();e.xp6(7),e.Q6J("routerLink",e.DdM(3,cl)),e.xp6(1),e.hij("",t.ARROWS.LEFT," Back to Articles"),e.xp6(1),e.Q6J("routerLink",e.DdM(4,jr))}}const dl=function(){return["../"]};function fl(r,o){if(1&r&&(e.TgZ(0,"div",8)(1,"a",9),e._uU(2),e.qZA(),e.TgZ(3,"a",9),e._uU(4,"Add new Article"),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.DdM(3,dl)),e.xp6(1),e.hij("",t.ARROWS.LEFT," Back to Dashboard"),e.xp6(1),e.Q6J("routerLink",e.DdM(4,jr))}}const Jr=function(r){return[r]};function hl(r,o){if(1&r&&(e.TgZ(0,"div",18),e._UZ(1,"anu-article",19),e.qZA()),2&r){const t=o.$implicit;e.xp6(1),e.Q6J("titleHref",e.VKq(5,Jr,(null==t?null:t.id)||""))("updateHref",e.VKq(7,Jr,(null==t?null:t.id)||""))("value",t)("showDescription",!1)("showImage",!1)}}function pl(r,o){if(1&r&&e._UZ(0,"anu-error",20),2&r){const t=e.oxw(2);e.Q6J("code",null==t.error?null:t.error.code)("message",null==t.error?null:t.error.message)}}const ml=function(){return["size-sm"]};function gl(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",1)(2,"anu-search-box",11),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onSearch(i))}),e.qZA(),e.TgZ(3,"anu-collapsible",12)(4,"anu-collapsible-header"),e._uU(5,"FILTERS"),e.qZA(),e.TgZ(6,"anu-collapsible-content")(7,"anu-filters",13),e.NdJ("changed",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.articlesFiltersChanged(i))}),e.qZA()()(),e.TgZ(8,"label"),e._uU(9),e.qZA(),e.TgZ(10,"div",14),e.YNc(11,hl,2,9,"div",15),e.YNc(12,pl,1,2,"anu-error",16),e._UZ(13,"anu-spinner",17),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("items",t.articles)("keys",t.searchKeys),e.xp6(1),e.Q6J("collapsed",!1)("isDropdownStyle",!0)("hamBurgerClassNames",e.DdM(11,ml)),e.xp6(4),e.Q6J("filters",t.articlesFilters),e.xp6(2),e.AsE("Results: ",t.filteredArticles.length,"/",t.articles.length,""),e.xp6(2),e.Q6J("ngForOf",t.filteredArticles),e.xp6(1),e.Q6J("ngIf",t.error),e.xp6(1),e.Q6J("show",t.loading)}}let _l=(()=>{class r{constructor(t,n,i,s){var O=this;this.route=t,this.router=n,this.dashboardMetaService=i,this.fireAuthService=s,this.pageMeta=null,this.articles=[],this.filteredArticles=[],this.foundArticles=[],this.searchKeys=["id","metaInfo.title"],this.articlesFilters=[...Zr],this.loading=!0,this.ARROWS=Y.J,this.routeStartEvent=this.router.events.pipe((0,A.h)(j=>j instanceof v.OD)).subscribe(()=>{this.loading=!0,this.error=null}),this.routeEndEvent=this.router.events.pipe((0,A.h)(j=>j instanceof v.m2)).subscribe(()=>{this.loading=!1}),this.route.data.subscribe(function(){var j=(0,g.Z)(function*(X){(yield O.fireAuthService.currentUserHasRole(m.go.ADMIN))&&(O.articlesFilters=[...Zr,...ol]);const ge=X.manageStories;O.articles=ge?.articles||[],O.foundArticles=O.articles,O.filterArticles(O.articlesFilters,O.foundArticles),O.loading=!1});return function(X){return j.apply(this,arguments)}}())}ngOnInit(){this.pageMeta=this.dashboardMetaService.setDashboardPageMeta(z.storiesHomePage)}ngOnDestroy(){this.routeEndEvent.unsubscribe()}onSearch(t){this.foundArticles=t,this.filterArticles(this.articlesFilters,this.foundArticles)}filterArticles(t,n){this.filteredArticles=n.filter(i=>{let s=!0;return t.forEach(O=>{O.enabled&&(O.type===C.SingleSelect?s="userId"===O.id?O.filter.value===(i[O.id]===this.fireAuthService.getCurrentUserId())&&!0===s:O.filter.value===i[O.id]&&!0===s:O.type===C.MultiSelect&&O.filter.selectedValues?.length&&O.filter.selectedValues.forEach(j=>{s=!(!i?.features?.includes(j[O.filter.keyName])||!0!==s)}))}),s})}articlesFiltersChanged(t){this.articlesFilters=t,this.filterArticles(t,this.foundArticles)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v.gz),e.Y36(v.F0),e.Y36(l),e.Y36(_.i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-manage-stories-page"]],decls:10,vars:5,consts:[[1,"flex-container","secondary-lighter-grad","spacing-around-vertical"],[1,"left","col-12"],[1,"col-12","spacing"],[4,"ngIf"],[1,"row","spacing-around-vertical","right"],["class","row stretch",4,"ngIf"],["class","flex-container spacing-around-vertical",4,"ngIf"],[1,"col-12","center"],[1,"row","stretch"],[3,"routerLink"],[1,"flex-container","spacing-around-vertical"],[1,"container",3,"items","keys","changed"],[1,"border","spacing","container",3,"collapsed","isDropdownStyle","hamBurgerClassNames"],[1,"articles-filters",3,"filters","changed"],[1,"row","results"],["class","col-sm-12 col-md-6 col-lg-6",4,"ngFor","ngForOf"],[3,"code","message",4,"ngIf"],[3,"show"],[1,"col-sm-12","col-md-6","col-lg-6"],[1,"shadow","spacing-around-vertical",3,"titleHref","updateHref","value","showDescription","showImage"],[3,"code","message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"anu-card",2),e.YNc(3,sl,3,1,"anu-card-title",3),e.YNc(4,ll,3,1,"anu-card-body",3),e.TgZ(5,"anu-card-footer",4),e.YNc(6,ul,11,5,"ng-container",3),e.YNc(7,fl,5,5,"div",5),e.qZA()()()(),e.YNc(8,gl,14,12,"div",6),e._UZ(9,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("ngIf",!n.route.firstChild),e.xp6(1),e.Q6J("ngIf",!n.route.firstChild),e.xp6(2),e.Q6J("ngIf",n.route.firstChild),e.xp6(1),e.Q6J("ngIf",!n.route.firstChild),e.xp6(1),e.Q6J("ngIf",!n.route.firstChild))},dependencies:[y.sg,y.O5,v.lC,v.rH,u.A,T.E,f.y,U.x,ce,Pn.t,I.O,re,ye,we,Ct,Ke.q],styles:["[_nghost-%COMP%]{width:100%}"]}),r})(),bl=(()=>{class r{constructor(t,n){this.fireCategoriesHttpService=t,this.fireAuthService=n,this.myCategories$=new Ge.X(null),this.userName="",this.userName=this.fireAuthService.getCurrentUserId()}get myCategories(){return this.myCategories$.asObservable()}getMyCategories(t=!1){var n=this;return(0,g.Z)(function*(){if(n.fireAuthService.getCurrentUserId()===n.userName&&!t&&n.myCategories$.value)return n.myCategories$.value;n.userName=n.fireAuthService.getCurrentUserId();let O=null;return O=(yield n.fireAuthService.currentUserHasRole(m.go.ADMIN))?yield n.fireCategoriesHttpService.getAllUsersOnePageShallowCategories(null):yield n.fireCategoriesHttpService.getUsersOnePageShallowCategories(n.fireAuthService.getCurrentUserId(),null),n.myCategories$.next(O),O})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(At.y),e.LFG(_.i))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),wl=(()=>{class r{constructor(t){this.categoriesDataService=t}resolve(t,n){var i=this;return(0,g.Z)(function*(){return t.firstChild?null:i.categoriesDataService.getMyCategories()})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(bl))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vl=(()=>{class r{constructor(t){this.articlesDataService=t}resolve(t,n){var i=this;return(0,g.Z)(function*(){return t.firstChild?null:i.articlesDataService.getMyArticles()})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ir))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Cl=M(7391);let yl=(()=>{class r{constructor(t,n,i){this.fireCategoriesHttpService=t,this.fireArticlesHttpService=n,this.appConfigService=i,this.apiBaseUrl="",this.apiBaseUrl=this.appConfigService.config.apiBaseUrl}generateCategoryUrls(t){var n=this;return(0,g.Z)(function*(){let i=[];return i=(yield n.fireCategoriesHttpService.getAllLiveCategoriesFromDate(t.updated).catch(O=>[])).map(O=>({loc:{_text:`${n.apiBaseUrl}/genre/${O.id}`},lastmod:{_text:O.updated},priority:{_text:"1.00"}}))||[],i})()}generateArticleUrls(t){var n=this;return(0,g.Z)(function*(){let i=[];return(yield n.fireArticlesHttpService.getAllLiveArticlesFromDate(t.updated).catch(O=>[])).forEach(O=>{O.categories.forEach(j=>{i.push({loc:{_text:`${n.apiBaseUrl}/stories/${O.id}`},lastmod:{_text:O.updated},priority:{_text:"0.80"}})})}),i})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(At.y),e.LFG(rn.h),e.LFG(w._))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Al=M(6306),Tl=M(8504),El=M(9007),qr=M(7546);const Hr='\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n    xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">\n</urlset>\n';var Ol=M(9862);let xl=(()=>{class r{constructor(t){this.fireCommonService=t,this.sitemapFileName="sitemap.xml"}uploadSitemap(t){var n=this;return(0,g.Z)(function*(){const s=lt(ct(n.fireCommonService.initOrGetFirebaseApp(),n.fireCommonService.firebaseConfig.app.storageBucket),n.sitemapFileName);try{return yield function Oi(r,o,t,n){return function gi(r,o,t=ze.RAW,n){r._throwIfRoot("uploadString");const i=Xn(t,o),s=Object.assign({},n);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),hr(r,i.data,s)}(r=(0,Ve.m9)(r),o,t,n)}(s,t),!0}catch(O){throw O}})()}sitemapExists(){var t=this;return(0,g.Z)(function*(){const i=lt(ct(t.fireCommonService.initOrGetFirebaseApp(),t.fireCommonService.firebaseConfig.app.storageBucket),t.sitemapFileName);try{return yield Wt(i)}catch(s){if("storage/object-not-found"!==s.code)throw s;return""}})()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(yr.N))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Qr=(()=>{class r{constructor(t,n,i,s){this.appConfigService=t,this.utilsSvc=n,this.httpClient=i,this.sitemapFireSvc=s,void 0!==typeof window&&(window.Buffer=window.Buffer||El.Buffer)}getSitemapResponse(t=!1){var n=this;return(0,g.Z)(function*(){if(t)return n.prepareSitemapResponse(Hr);const i=yield n.sitemapFireSvc.sitemapExists();let s="";if(i){const O=n.httpClient.get(i,{observe:"body",responseType:"text"});return new Promise((j,X)=>{O.pipe((0,Al.K)(ie=>(X(ie),(0,Tl._)(()=>ie)))).subscribe(ie=>{j(n.prepareSitemapResponse(ie))})})}return s=Hr,n.prepareSitemapResponse(s)})()}saveSitemap(t){var n=this;return(0,g.Z)(function*(){const i=n.jsonToXmlSitemap(t);return yield n.sitemapFireSvc.uploadSitemap(i)})()}addUrlsToSitemapJson(t,n){const i=this.utilsSvc.deepCopy(n);if(!t||!t.length)return i;const s=t.map(O=>this.utilsSvc.deepCopy(O));return s.forEach(O=>{const j=i.urlset.url.findIndex(X=>X.loc._text===O.loc._text);j>=0?(O.status=!1,i.urlset.url.splice(j,1)):O.status=!0}),i.urlset.url=[].concat(i.urlset.url,s),i}jsonToXmlSitemap(t){const n=JSON.stringify(t);return(0,qr.json2xml)(n,{compact:!0,spaces:4})}xmlToJsonSitemap(t=""){const n=t.replaceAll('\\"','"'),i=(0,qr.xml2json)(n,{compact:!0});return JSON.parse(i)}getLastUpdatedFromSitemap(t){const n=t?.urlset?.url||[];let i="";return n.length?(i=n[0].lastmod._text,n.forEach(s=>{new Date(s.lastmod._text)>new Date(i)&&(i=s.lastmod._text)}),i):new Date("1979-01-01").toISOString()}prepareSitemapResponse(t){const n=this.xmlToJsonSitemap(t),i={updated:this.getLastUpdatedFromSitemap(n)};return n.urlset?.url?.length||(n.urlset.url=[{loc:{_text:`${this.appConfigService.config.apiBaseUrl}`},lastmod:{_text:this.utilsSvc.currentDate},priority:{_text:"1.00"}},{loc:{_text:`${this.appConfigService.config.apiBaseUrl}/login`},lastmod:{_text:this.utilsSvc.currentDate},priority:{_text:"1.00"}},{loc:{_text:`${this.appConfigService.config.apiBaseUrl}/genre`},lastmod:{_text:this.utilsSvc.currentDate},priority:{_text:"1.00"}},{loc:{_text:`${this.appConfigService.config.apiBaseUrl}/stories`},lastmod:{_text:this.utilsSvc.currentDate},priority:{_text:"1.00"}}]),{sitemapInfo:i,sitemap:n}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(w._),e.LFG(a.F),e.LFG(Ol.eN),e.LFG(xl))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ml(r,o){if(1&r&&(e.TgZ(0,"h3"),e._uU(1,"Sitemap was last updated on: "),e.TgZ(2,"strong"),e._uU(3),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(3),e.Oqu(t.sitemapInfo.updated)}}function kl(r,o){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.xp6(1),e.lnq(" ",t.lastmod._text," | ",t.priority._text," | ",t.loc._text," ")}}function Il(r,o){if(1&r&&(e.TgZ(0,"ol"),e.YNc(1,kl,2,3,"li",14),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.sitemap.urlset.url)}}const Nn=function(){return["size-md"]};function Pl(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-collapsible",10),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.currentSitemapCollapsed=!i.currentSitemapCollapsed)}),e.TgZ(1,"anu-collapsible-header"),e._uU(2,"Current Sitemap"),e.qZA(),e.TgZ(3,"anu-collapsible-content"),e.YNc(4,Ml,4,1,"h3",11),e.YNc(5,Il,2,1,"ol",11),e.TgZ(6,"div",12)(7,"a",13),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.showXmlString(i,s.sitemap))}),e._uU(8,"XML"),e.qZA()()()()}if(2&r){const t=e.oxw();e.Q6J("collapsed",t.currentSitemapCollapsed)("hamBurgerClassNames",e.DdM(5,Nn))("isDropdownStyle",!0),e.xp6(4),e.Q6J("ngIf",t.sitemapInfo),e.xp6(1),e.Q6J("ngIf",null==t.sitemap||null==t.sitemap.urlset?null:t.sitemap.urlset.url)}}function Fl(r,o){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.xp6(1),e.lnq(" ",t.lastmod._text," | ",t.priority._text," | ",t.loc._text," ")}}function Rl(r,o){if(1&r&&(e.TgZ(0,"ol"),e.YNc(1,Fl,2,3,"li",14),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.newUrls)}}function Nl(r,o){1&r&&(e.TgZ(0,"p",17),e._uU(1,"No new urls available"),e.qZA())}function Ul(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-collapsible",10),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.checkNewUrlsCollapsed=!i.checkNewUrlsCollapsed)}),e.TgZ(1,"anu-collapsible-header",15),e._uU(2,"Sitemap new Urls"),e.qZA(),e.TgZ(3,"anu-collapsible-content"),e.YNc(4,Rl,2,1,"ol",11),e.YNc(5,Nl,2,0,"p",16),e.qZA()()}if(2&r){const t=e.oxw(2);e.Q6J("collapsed",t.checkNewUrlsCollapsed)("hamBurgerClassNames",e.DdM(5,Nn))("isDropdownStyle",!0),e.xp6(4),e.Q6J("ngIf",null==t.newUrls?null:t.newUrls.length),e.xp6(1),e.Q6J("ngIf",!(null!=t.newUrls&&t.newUrls.length))}}function Ll(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-card",3)(1,"anu-card-title")(2,"a",5),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.checkNewUrls(i))}),e._uU(3,"Check for new Urls"),e.qZA()(),e.TgZ(4,"anu-card-body"),e.YNc(5,Ul,6,6,"anu-collapsible",6),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.newUrls)}}function Bl(r,o){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.ekj("success",!0===t.status)("warning",!1===t.status),e.xp6(1),e.lnq(" ",t.lastmod._text," | ",t.priority._text," | ",t.loc._text," ")}}function Dl(r,o){if(1&r&&(e.TgZ(0,"ol"),e.YNc(1,Bl,2,7,"li",21),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.newSitemap.urlset.url)}}function Zl(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-collapsible",10),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.previewCollapsed=!i.previewCollapsed)}),e.TgZ(1,"anu-collapsible-header",15),e._uU(2,"New Sitemap (Ready to update)"),e.qZA(),e.TgZ(3,"anu-collapsible-content")(4,"div",2)(5,"span",18)(6,"small")(7,"strong"),e._uU(8,"LEGENDS:"),e.qZA()()(),e.TgZ(9,"span",18)(10,"small"),e._uU(11,"No change"),e.qZA()(),e.TgZ(12,"span",19)(13,"small"),e._uU(14,"Added"),e.qZA()(),e.TgZ(15,"span",20)(16,"small"),e._uU(17,"Updated"),e.qZA()()(),e.YNc(18,Dl,2,1,"ol",11),e.TgZ(19,"div",12)(20,"a",13),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.showXmlString(i,s.newSitemap))}),e._uU(21,"XML"),e.qZA()()()()}if(2&r){const t=e.oxw(2);e.Q6J("collapsed",t.previewCollapsed)("hamBurgerClassNames",e.DdM(4,Nn))("isDropdownStyle",!0),e.xp6(18),e.Q6J("ngIf",null==t.newSitemap||null==t.newSitemap.urlset?null:t.newSitemap.urlset.url)}}function jl(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-card-footer")(1,"a",22),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.saveSitemap(i))}),e._uU(2,"Save"),e.qZA()()}}function Jl(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-card",3)(1,"anu-card-title")(2,"a",5),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.previewSitemap(i))}),e._uU(3,"Preview sitemap.xml (Ready to update)"),e.qZA()(),e.TgZ(4,"anu-card-body"),e.YNc(5,Zl,22,5,"anu-collapsible",6),e.qZA(),e.YNc(6,jl,3,0,"anu-card-footer",11),e.qZA()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.newSitemap),e.xp6(1),e.Q6J("ngIf",t.newSitemap)}}let ql=(()=>{class r{constructor(t,n){this.utilsSvc=t,this.sitemapService=n,this.newUrls=[],this.createSitemapClicked=new e.vpe,this.loadSitemapClicked=new e.vpe,this.saveClicked=new e.vpe,this.previewClicked=new e.vpe,this.checkNewUrlsClicked=new e.vpe,this.currentSitemapCollapsed=!1,this.checkNewUrlsCollapsed=!1,this.previewCollapsed=!1,this.newUrlsStatus={},this.sitemapXmlStr="",this.showXmlModal=!1}loadSitemap(t){t.preventDefault(),this.currentSitemapCollapsed=!0,this.loadSitemapClicked.emit()}createSitemap(t){t.preventDefault(),this.currentSitemapCollapsed=!0,this.createSitemapClicked.emit()}checkNewUrls(t){t.preventDefault(),this.checkNewUrlsCollapsed=!0,this.checkNewUrlsClicked.emit()}previewSitemap(t){t.preventDefault(),this.previewCollapsed=!0,this.previewClicked.emit()}saveSitemap(t){t.preventDefault();const n=this.utilsSvc.deepCopy(this.newSitemap);n.urlset.url.forEach(i=>{delete i.status}),this.saveClicked.emit(n)}showXmlString(t,n){t.preventDefault(),this.sitemapXmlStr=this.sitemapService.jsonToXmlSitemap(n),this.showXmlModal=!0}xmlModalClosed(){this.showXmlModal=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.F),e.Y36(Qr))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-sitemap"]],inputs:{sitemap:"sitemap",sitemapInfo:"sitemapInfo",newUrls:"newUrls",newSitemap:"newSitemap"},outputs:{createSitemapClicked:"createSitemapClicked",loadSitemapClicked:"loadSitemapClicked",saveClicked:"saveClicked",previewClicked:"previewClicked",checkNewUrlsClicked:"checkNewUrlsClicked"},decls:16,vars:13,consts:[[1,"flex-container","center"],[1,"container"],[1,"row"],[1,"col-12","shadow","spacing"],[1,"row","stretch"],["href","#",1,"",3,"click"],["class","spacing-vertical",3,"collapsed","hamBurgerClassNames","isDropdownStyle","changed",4,"ngIf"],["class","col-12 shadow spacing",4,"ngIf"],[3,"cancelLabel","enableCancel","enableClose","enableOk","okLabel","opened","modalTitle","cancelClick"],[1,"col-12",3,"enableEdit","language","source"],[1,"spacing-vertical",3,"collapsed","hamBurgerClassNames","isDropdownStyle","changed"],[4,"ngIf"],[1,"row","right","spacing-vertical"],["href","#","title","View in xml",3,"click"],[4,"ngFor","ngForOf"],[1,"bg-secondary"],["class","warning",4,"ngIf"],[1,"warning"],[1,"spacing-half","spacing-around"],[1,"spacing-half","spacing-around","success"],[1,"spacing-half","spacing-around","warning"],[3,"success","warning",4,"ngFor","ngForOf"],["href","#",1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"anu-card",3)(4,"anu-card-title")(5,"div",4)(6,"a",5),e.NdJ("click",function(s){return n.loadSitemap(s)}),e._uU(7,"Load sitemap.xml"),e.qZA(),e.TgZ(8,"a",5),e.NdJ("click",function(s){return n.createSitemap(s)}),e._uU(9,"Create sitemap.xml"),e.qZA()()(),e.TgZ(10,"anu-card-body"),e.YNc(11,Pl,9,6,"anu-collapsible",6),e.qZA()(),e.YNc(12,Ll,6,1,"anu-card",7),e.YNc(13,Jl,7,2,"anu-card",7),e.qZA()()(),e.TgZ(14,"anu-modal",8),e.NdJ("cancelClick",function(){return n.xmlModalClosed()}),e._UZ(15,"anu-code-block",9),e.qZA()),2&t&&(e.xp6(11),e.Q6J("ngIf",n.sitemapInfo||n.sitemap),e.xp6(1),e.Q6J("ngIf",n.sitemap),e.xp6(1),e.Q6J("ngIf",null==n.newUrls?null:n.newUrls.length),e.xp6(1),e.Q6J("cancelLabel","Cancel")("enableCancel",!0)("enableClose",!0)("enableOk",!1)("okLabel","Ok")("opened",n.showXmlModal)("modalTitle","XML view of sitemap"),e.xp6(1),e.Q6J("enableEdit",!1)("language","xml")("source",n.sitemapXmlStr))},dependencies:[y.sg,y.O5,u.A,T.E,f.y,U.x,re,ye,we,sn.P,Qe.z]}),r})();function Hl(r,o){if(1&r&&e._UZ(0,"anu-error",9),2&r){const t=e.oxw();e.Q6J("code",t.errorCode)("message",t.errorMessage)}}let Ql=(()=>{class r{constructor(t,n,i,s){this.appSitemapSvc=t,this.sitemapSvc=n,this.utilsSvc=i,this.dashboardMetaService=s,this.pageMeta=null,this.sitemapInfo=null,this.sitemap=null,this.newSitemap=null,this.newUrls=[],this.spinnerMode=Cl.k.Spinner,this.loading=!1,this.errorMessage="",this.errorCode="",this.saveSuccess=!1,this.recreateSitemap=!1}ngOnInit(){this.pageMeta=this.dashboardMetaService.setDashboardPageMeta(z.sitemapPage)}loadSitemap(){this.loading=!0,this.recreateSitemap=!1,this.sitemapSvc.getSitemapResponse().then(t=>{this.sitemapInfo=t.sitemapInfo,this.sitemap=t.sitemap,this.loading=!1})}createSitemap(){this.loading=!0,this.sitemapSvc.getSitemapResponse(!0).then(t=>{this.sitemapInfo=t.sitemapInfo,this.sitemap=t.sitemap,this.loading=!1}),this.recreateSitemap=!0}checkNewUrls(){this.loading=!0,Promise.all([this.appSitemapSvc.generateCategoryUrls(this.sitemapInfo),this.appSitemapSvc.generateArticleUrls(this.sitemapInfo)]).then(([t,n])=>{this.newUrls=[...t,...n],this.loading=!1})}previewSitemap(){this.newSitemap=this.sitemapSvc.addUrlsToSitemapJson(this.newUrls,this.sitemap)}saveSitemap(t){this.setError(null),this.saveSuccess=!1,this.loading=!0,this.sitemapSvc.getSitemapResponse(this.recreateSitemap).then(n=>{this.sitemapInfo=n.sitemapInfo,this.sitemap=n.sitemap,Promise.all([this.appSitemapSvc.generateCategoryUrls(this.sitemapInfo),this.appSitemapSvc.generateArticleUrls(this.sitemapInfo)]).then(([i,s])=>{this.newUrls=[...i,...s],this.newSitemap=this.sitemapSvc.addUrlsToSitemapJson(this.newUrls,this.sitemap);const O=this.utilsSvc.deepCopy(this.newSitemap);O.urlset.url.forEach(j=>{delete j.status}),this.sitemapSvc.saveSitemap(O).then(j=>{this.sitemapInfo=null,this.sitemap=null,this.newSitemap=null,this.newUrls=[],this.loading=!1,this.saveSuccess=!0}).catch(j=>this.setError(j))}).catch(i=>this.setError(i))}).catch(n=>this.setError(n))}setError(t){this.errorCode=t?.code||t?.status||"",this.errorMessage=t?.message||t?.statusText||"",this.loading=!1}saveSuccessClosed(){this.saveSuccess=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(yl),e.Y36(Qr),e.Y36(a.F),e.Y36(l))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sitemap"]],decls:16,vars:21,consts:[[1,"flex-container","center","secondary-lighter-grad","spacing-around-vertical"],[1,"container","spacing-around-vertical"],[1,"flex-container","center"],[1,"container","relative"],[3,"sitemap","sitemapInfo","newUrls","newSitemap","loadSitemapClicked","previewClicked","createSitemapClicked","checkNewUrlsClicked","saveClicked"],[3,"fullscreen","mode","show","size","speed","static","theme"],[3,"code","message",4,"ngIf"],[3,"cancelLabel","enableCancel","enableClose","enableOk","okLabel","opened","modalTitle","cancelClick"],[1,"success"],[3,"code","message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Read from existing sitemap.xml, append new urls to it and write back updated sitemap.xml"),e.qZA()()(),e.TgZ(8,"div",2)(9,"div",3)(10,"anu-sitemap",4),e.NdJ("loadSitemapClicked",function(){return n.loadSitemap()})("previewClicked",function(){return n.previewSitemap()})("createSitemapClicked",function(){return n.createSitemap()})("checkNewUrlsClicked",function(){return n.checkNewUrls()})("saveClicked",function(s){return n.saveSitemap(s)}),e.qZA(),e._UZ(11,"anu-spinner",5),e.YNc(12,Hl,1,2,"anu-error",6),e.qZA()(),e.TgZ(13,"anu-modal",7),e.NdJ("cancelClick",function(){return n.saveSuccessClosed()}),e.TgZ(14,"p",8),e._uU(15,"Sitemap.xml saved successfully."),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(null==n.pageMeta?null:n.pageMeta.title),e.xp6(2),e.Oqu(null==n.pageMeta?null:n.pageMeta.description),e.xp6(5),e.Q6J("sitemap",n.sitemap)("sitemapInfo",n.sitemapInfo)("newUrls",n.newUrls)("newSitemap",n.newSitemap),e.xp6(1),e.Q6J("fullscreen",!1)("mode",n.spinnerMode)("show",n.loading)("size","md")("speed","normal")("static",!1)("theme","primary"),e.xp6(1),e.Q6J("ngIf",n.errorMessage),e.xp6(1),e.Q6J("cancelLabel","Cancel")("enableCancel",!1)("enableClose",!0)("enableOk",!0)("okLabel","Ok")("opened",n.saveSuccess)("modalTitle","Saving sitemap.xml - Success"))},dependencies:[y.O5,I.O,Qe.z,Ke.q,ql],styles:["[_nghost-%COMP%]{width:100%}"]}),r})();var Te=(()=>((Te=Te||{}).notstarted="notstarted",Te.inprogress="inprogress",Te.completed="completed",Te.failed="failed",Te.paused="paused",Te))();class Pt{constructor(o="",t=null,n=Te.notstarted,i=0,s=0){if(this.id="",this.status=Te.notstarted,this.startTime=0,this.completedTime=0,o)if("string"==typeof o)this.id=o,this.data=t,this.status=n,this.startTime=i,this.completedTime=s;else{const{id:O,data:j,status:X,startTime:ie,completedTime:ge}=o;this.id=O,this.data=j,this.status=X,this.startTime=ie,this.completedTime=ge}}get timeEllapsed(){return 0===this.startTime?0:Math.round((this.completedTime>0?this.completedTime-this.startTime:Date.now()-this.startTime)/1e3)}start(){this.status=Te.inprogress,this.startTime=Date.now()}complete(){this.status=Te.completed,this.completedTime=Date.now()}fail(){this.status=Te.failed,this.completedTime=Date.now()}}class Kr{constructor(){this.startTime=0,this.batchSize=0,this.minBatchTime=0,this.failedDelay=0,this.batchStartTime=0,this.interval=null,this.queue$=new Ge.X([]),this.currentBatch$=new Ge.X([]),this.status$=new Ge.X(Te.notstarted),this.timer$=new Ge.X(0)}get queueValue(){return this.queue$.value}get currentBatchValue(){return this.currentBatch$.value}get statusValue(){return this.status$.value}get timerValue(){return this.timer$.value}get queue(){return this.queue$.asObservable()}get currentBatch(){return this.currentBatch$.asObservable()}get status(){return this.status$.asObservable()}get timer(){return this.timer$.asObservable()}getUniqueFromString(o=""){const t=Math.random().toString(36).substring(2);return`${o}-${Date.now().toString(36)+t.substring(t.length/3)}`}find(o){return this.queue$.value.find(t=>t.id===o)}canAdd(o){const t=this.find(o?.id);return!(!o||!o.id||t||o.status!==Te.notstarted)}canRemove(o){const t=this.find(o?.id);return!!(o&&o.id&&t&&o.status===Te.notstarted)}canUpdate(o){const t=this.find(o?.id);return!!(o&&o.id&&t&&t.status!==Te.completed&&o.status!==Te.notstarted)}canClear(){return[Te.notstarted,Te.completed].includes(this.statusValue)}canStart(){return this.statusValue===Te.notstarted}canPause(){return this.statusValue===Te.inprogress}canResume(){return[Te.paused,Te.completed].includes(this.statusValue)}canNotifyCurrentItems(){return this.statusValue===Te.inprogress&&!this.queueValue.find(o=>o.status===Te.inprogress)}notifyQueueChange(o){const t=o.map(n=>new Pt(n));this.queue$.next(t)}notifyBatchAndQueue(o){const t=this.queueValue.map(n=>{const i=o.find(s=>s.id===n.id);return i&&i.start(),i||n});this.batchStartTime=Date.now(),this.currentBatch$.next(o),this.notifyQueueChange(t)}notifyStatusChange(o){this.status$.next(o),o===Te.inprogress&&this.notifyCurrentBatchChange()}notifyCurrentBatchChange(o=!1){if(o)this.currentBatch$.next([]);else if(this.canNotifyCurrentItems()){const t=this.getNextCurrentItems();if(t?.length)if(0===this.batchStartTime)this.notifyBatchAndQueue(t);else{const n=t.find(O=>O.status===Te.failed),i=Date.now()-this.batchStartTime;let s=this.minBatchTime-i;s=n&&s<this.failedDelay?this.failedDelay:s,s>0?setTimeout(()=>this.notifyBatchAndQueue(t),s):this.notifyBatchAndQueue(t)}else this.pause()}}getNextCurrentItems(){return this.queueValue.filter(t=>[Te.failed,Te.notstarted].includes(t.status)).slice(0,this.batchSize)}add(o){const t=o.filter(n=>this.canAdd(n));return this.notifyQueueChange([...this.queueValue,...t])}remove(o){const t=o.filter(i=>this.canRemove(i)).map(i=>i.id),n=this.queueValue.filter(i=>!t.includes(i.id));this.notifyQueueChange(n)}update(o){const t=o.filter(i=>this.canUpdate(i)).map(i=>i.id),n=this.queueValue.map(i=>t.includes(i.id)&&o.find(O=>O.id===i.id)||i);this.notifyQueueChange(n)}updateQueueBatch(o){const t=o.map(s=>s.id),n=this.currentBatchValue.map(s=>t.includes(s.id)&&o.find(j=>j.id===s.id)||s);this.update(o),!n.find(s=>s.status===Te.inprogress)&&this.notifyCurrentBatchChange()}start(o=1,t=0,n=0){this.canStart()&&(this.interval=setInterval(()=>this.timer$.next(this.startTime),1e3),this.startTime=Date.now(),this.batchSize=o,this.minBatchTime=1e3*t,this.failedDelay=1e3*n,this.notifyStatusChange(Te.inprogress))}pause(){this.canPause()&&this.notifyStatusChange(Te.paused)}resume(){this.canResume()&&this.notifyStatusChange(Te.inprogress)}clear(){this.canClear()&&(this.interval&&clearInterval(this.interval),this.interval=null,this.notifyQueueChange([]),this.notifyStatusChange(Te.paused))}}let nc=(()=>{class r{constructor(){this.articlesQ=new Kr}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function rc(r,o){1&r&&e.GkF(0)}const zr=function(r,o){return{itemKey:r,item:o}};function ac(r,o){if(1&r&&(e.TgZ(0,"div",7),e.YNc(1,rc,1,0,"ng-container",8),e.qZA()),2&r){const t=o.$implicit,n=e.oxw(),i=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(2,zr,t,n.config[t]))}}function ic(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"input",16),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw(3).item;return e.KtG(s.value=i)}),e.qZA()}if(2&r){const t=e.oxw(3),i=t.itemKey;e.Q6J("ngModel",t.item.value)("placeholder",i)}}function oc(r,o){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function sc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"select",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw(3).item;return e.KtG(s.value=i)}),e.YNc(1,oc,2,2,"option",18),e.qZA()}if(2&r){const t=e.oxw(3).item;e.Q6J("ngModel",t.value),e.xp6(1),e.Q6J("ngForOf",t.rangeValues)}}function lc(r,o){if(1&r&&(e.TgZ(0,"div",13)(1,"label"),e._uU(2),e.qZA(),e.YNc(3,ic,1,2,"input",14),e.YNc(4,sc,2,2,"select",15),e.qZA()),2&r){const t=e.oxw(2),n=t.itemKey,i=t.item;e.xp6(2),e.Oqu(n),e.xp6(1),e.Q6J("ngIf",!(null!=i.rangeValues&&i.rangeValues.length)),e.xp6(1),e.Q6J("ngIf",null==i.rangeValues?null:i.rangeValues.length)}}function cc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",22)(1,"span",23),e._uU(2),e.qZA(),e.TgZ(3,"small",24),e._uU(4),e.qZA(),e.TgZ(5,"input",25),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw(3).item;return e.KtG(s.value=i)}),e.qZA(),e.TgZ(6,"span",26),e._uU(7),e.qZA()()}if(2&r){const t=e.oxw(3).item;e.xp6(2),e.Oqu(t.min),e.xp6(2),e.Oqu(t.value),e.xp6(1),e.Q6J("step",t.step||1)("min",t.min)("max",t.max)("title",t.value)("ngModel",t.value),e.xp6(2),e.Oqu(t.max)}}function uc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw(3).item;return e.KtG(s.value=i)}),e.qZA()}if(2&r){const t=e.oxw(3).item;e.Q6J("ngModel",t.value)}}function dc(r,o){if(1&r&&(e.TgZ(0,"div",13)(1,"label"),e._uU(2),e.qZA(),e.YNc(3,cc,8,8,"div",20),e.YNc(4,uc,1,1,"input",21),e.qZA()),2&r){const t=e.oxw(2),n=t.itemKey,i=t.item;e.xp6(2),e.Oqu(n),e.xp6(1),e.Q6J("ngIf",i.min||i.max),e.xp6(1),e.Q6J("ngIf",!i.min&&!i.max)}}function fc(r,o){1&r&&e.GkF(0)}function hc(r,o){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,fc,1,0,"ng-container",8),e.qZA()),2&r){const t=o.$implicit,n=e.oxw(3).item;e.oxw();const i=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(2,zr,t,n.value[t]))}}const pc=function(){return["size-sm","primary-dark-grad","border-round","spacing-half","accent-deep-light"]};function mc(r,o){if(1&r&&(e.TgZ(0,"anu-collapsible",28)(1,"anu-collapsible-header",29)(2,"strong",30),e._uU(3),e.qZA()(),e.TgZ(4,"anu-collapsible-content",7),e.YNc(5,hc,2,5,"div",31),e.qZA()()),2&r){const t=e.oxw(2),n=t.itemKey,i=t.item,s=e.oxw();e.Q6J("collapsed",!1)("hamBurgerClassNames",e.DdM(5,pc))("isDropdownStyle",!1),e.xp6(3),e.Oqu(n),e.xp6(2),e.Q6J("ngForOf",s.getObjectKeys(i.value))}}function gc(r,o){if(1&r&&(e.ynx(0),e.YNc(1,lc,5,3,"div",11),e.YNc(2,dc,5,3,"div",11),e.YNc(3,mc,6,6,"anu-collapsible",12),e.BQk()),2&r){const t=e.oxw().item;e.xp6(1),e.Q6J("ngIf","string"===t.type),e.xp6(1),e.Q6J("ngIf","number"===t.type),e.xp6(1),e.Q6J("ngIf","Object"===t.type)}}function _c(r,o){1&r&&e._UZ(0,"anu-error",33)}function bc(r,o){if(1&r&&(e.YNc(0,gc,4,3,"ng-container",9),e.YNc(1,_c,1,0,"anu-error",10)),2&r){const t=o.item;e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function wc(r,o){if(1&r&&e._UZ(0,"anu-error",34),2&r){const t=e.oxw();e.Q6J("message",t.fromJsonErrorMsg)}}let vc=(()=>{class r{constructor(t,n,i){this.openaiConfigService=t,this.appConfigService=n,this.utilsService=i,this.config=null,this.showLoadFromJsonModal=!1,this.fromJsonConfigStr="",this.fromJsonErrorMsg="",this.openaiConfigService.config.subscribe(s=>{this.config=this.utilsService.deepCopy(s)})}updateClicked(t){t.preventDefault(),this.openaiConfigService.updateConfig(this.utilsService.deepCopy(this.config))}loadDefault(t){t.preventDefault(),this.config=this.openaiConfigService.mergeKeyConfigWithBaseConfig(this.utilsService.deepCopy(xr),this.appConfigService.openai)}loadFromJsonClicked(t){t.preventDefault(),this.fromJsonErrorMsg="",this.fromJsonConfigStr=JSON.stringify(this.config||{},null,"\t"),this.showLoadFromJsonModal=!0}loadFromJsonOkClicked(t){this.showLoadFromJsonModal=!1;try{this.config=JSON.parse(this.fromJsonConfigStr),this.showLoadFromJsonModal=!1}catch(n){this.fromJsonErrorMsg=n.message||n.text||n.toString()||"something is wrong with the json",setTimeout(()=>this.showLoadFromJsonModal=!0)}}loadFromJsonCancelClicked(t){this.showLoadFromJsonModal=!1}fromJsonConfigStrChanged(t){this.fromJsonConfigStr=t.source}getTypeOfKey(t){return typeof t}getObjectKeys(t){return"object"==typeof t&&t?Object.keys(t):[]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(tn),e.Y36(w._),e.Y36(a.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-openai-configuration"]],decls:13,vars:12,consts:[[1,"row","right"],[1,"btn","primary",3,"click"],["class","container",4,"ngFor","ngForOf"],["tree",""],[3,"cancelLabel","enableCancel","enableClose","enableOk","okLabel","opened","title","cancelClick","okClick"],[3,"enableEdit","language","source","changed"],["code","JSON_PARSE_ERROR",3,"message",4,"ngIf"],[1,"container"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["code","UNKNOWN","message","No Config Item available",4,"ngIf"],["class","row",4,"ngIf"],["class","container border-round spacing-around-vertical",3,"collapsed","hamBurgerClassNames","isDropdownStyle",4,"ngIf"],[1,"row"],["type","text",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","placeholder","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","row stretch range-container relative",4,"ngIf"],["type","number",3,"ngModel","ngModelChange",4,"ngIf"],[1,"row","stretch","range-container","relative"],[1,"range-min"],[1,"range-value"],["type","range",1,"container",3,"step","min","max","title","ngModel","ngModelChange"],[1,"range-max"],["type","number",3,"ngModel","ngModelChange"],[1,"container","border-round","spacing-around-vertical",3,"collapsed","hamBurgerClassNames","isDropdownStyle"],[1,""],[1,"accent-deep-light"],["class","container group-container",4,"ngFor","ngForOf"],[1,"container","group-container"],["code","UNKNOWN","message","No Config Item available"],["code","JSON_PARSE_ERROR",3,"message"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"a",1),e.NdJ("click",function(s){return n.loadFromJsonClicked(s)}),e._uU(2,"Load From Json"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(s){return n.loadDefault(s)}),e._uU(4,"Load Default"),e.qZA(),e.TgZ(5,"a",1),e.NdJ("click",function(s){return n.updateClicked(s)}),e._uU(6,"Update"),e.qZA()(),e.YNc(7,ac,2,5,"div",2),e.YNc(8,bc,2,2,"ng-template",null,3,e.W1O),e.TgZ(10,"anu-modal",4),e.NdJ("cancelClick",function(s){return n.loadFromJsonCancelClicked(s)})("okClick",function(s){return n.loadFromJsonOkClicked(s)}),e.TgZ(11,"anu-code-block",5),e.NdJ("changed",function(s){return n.fromJsonConfigStrChanged(s)}),e.qZA(),e.YNc(12,wc,1,1,"anu-error",6),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngForOf",n.getObjectKeys(n.config)),e.xp6(3),e.Q6J("cancelLabel","Cancel")("enableCancel",!0)("enableClose",!0)("enableOk",!0)("okLabel","Ok")("opened",n.showLoadFromJsonModal)("title","Load Configuration from Json"),e.xp6(1),e.Q6J("enableEdit",!0)("language","json")("source",n.fromJsonConfigStr),e.xp6(1),e.Q6J("ngIf",n.fromJsonErrorMsg))},dependencies:[y.sg,y.O5,y.tP,$.YN,$.Kr,$.Fj,$.wV,$.eT,$.EJ,$.JJ,$.On,re,ye,we,Ke.q,Qe.z,sn.P],styles:["[_nghost-%COMP%]   anu-collapsible[_ngcontent-%COMP%]{border-left:1px solid var(--anu-primary-dark)}[_nghost-%COMP%]   .group-container[_ngcontent-%COMP%]{padding:var(--anu-spacing);padding-right:0}[_nghost-%COMP%]   .range-container[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:2.5rem;height:2.2rem;align-items:flex-start}[_nghost-%COMP%]   .range-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;top:-.4rem}[_nghost-%COMP%]   .range-container[_ngcontent-%COMP%] > span.range-min[_ngcontent-%COMP%]{left:0}[_nghost-%COMP%]   .range-container[_ngcontent-%COMP%] > span.range-max[_ngcontent-%COMP%]{right:0}[_nghost-%COMP%]   .range-container[_ngcontent-%COMP%]   .range-value[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:0;z-index:-1}"]}),r})();const Cc=["*"];let yc=(()=>{class r{constructor(){this.queue=null,this.startClick=new e.vpe,this.qItems=[],this.qStatus=Te.notstarted,this.totalCount=0,this.completedCount=0,this.notstartedCount=0,this.failedCount=0,this.inprogressCount=0,this.queueSubscription=null,this.statusSubscription=null,this.timerSubscription=null,this.timeEllapsed=0}ngOnInit(){this.subscribeQueue()}ngOnChanges(t){this.subscribeQueue()}ngOnDestroy(){this.queueSubscription&&this.queueSubscription.unsubscribe(),this.statusSubscription&&this.statusSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}subscribeQueue(){this.queue&&(this.queueSubscription&&this.queueSubscription.unsubscribe(),this.statusSubscription&&this.statusSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe(),this.queue?.queue?.subscribe(t=>{this.qItems=t,this.refreshQueueCounters()}),this.queue?.status?.subscribe(t=>this.qStatus=t),this.queue?.timer?.subscribe(t=>this.timeEllapsed=t?Math.round((Date.now()-t)/1e3):0))}refreshQueueCounters(){this.totalCount=this.qItems?.length||0,this.completedCount=0,this.notstartedCount=0,this.failedCount=0,this.inprogressCount=0,this.qItems.map(t=>{switch(t.status){case Te.notstarted:this.notstartedCount++;break;case Te.inprogress:this.inprogressCount++;break;case Te.completed:this.completedCount++;break;case Te.failed:this.failedCount++}})}startClicked(t){switch(this.qStatus){case Te.notstarted:this.startClick.emit(t);break;case Te.inprogress:this.queue?.pause();break;case Te.paused:this.queue?.resume();break;default:console.log("Queue is complted or stopped already Or may be not initialized yet.")}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-queue-status"]],inputs:{queue:"queue"},outputs:{startClick:"startClick"},features:[e.TTD],ngContentSelectors:Cc,decls:16,vars:9,consts:[["title","Total",1,"text-center","accent-deep-light","spacing-around-half","queue_badge"],["title","notstarted",1,"text-center","accent-deep-light","spacing-around-half","queue_badge","notstarted"],["title","completed",1,"text-center","accent-deep-light","spacing-around-half","queue_badge","completed"],["title","inprogress",1,"text-center","accent-deep-light","spacing-around-half","queue_badge","inprogress"],["title","failed",1,"text-center","accent-deep-light","spacing-around-half","queue_badge","failed"],[1,"text-center","accent-deep-light","spacing-around-half","queue_badge",3,"ngClass","title"],["href","javascript:void(0)",3,"click"],["title","timer",1,"text-center","accent-deep-light","spacing-around-half","queue_badge","timer"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e._uU(5),e.qZA(),e.TgZ(6,"div",3),e._uU(7),e.qZA(),e.TgZ(8,"div",4),e._uU(9),e.qZA(),e.TgZ(10,"div",5)(11,"a",6),e.NdJ("click",function(s){return n.startClicked(s)}),e._uU(12),e.qZA()(),e.TgZ(13,"div",7),e._uU(14),e.qZA(),e.Hsn(15)),2&t&&(e.xp6(1),e.hij(" ",n.totalCount,""),e.xp6(2),e.hij(" ",n.notstartedCount,""),e.xp6(2),e.hij(" ",n.completedCount,""),e.xp6(2),e.hij(" ",n.inprogressCount,""),e.xp6(2),e.Oqu(n.failedCount),e.xp6(1),e.Q6J("ngClass",n.qStatus)("title",n.qStatus),e.xp6(2),e.Oqu("inprogress"===n.qStatus?"\u23f8":"\u23f5"),e.xp6(2),e.hij("",n.timeEllapsed,"s"))},dependencies:[y.mk],styles:["[_nghost-%COMP%]   .queue_badge[_ngcontent-%COMP%]{border-radius:50%;width:2em;height:2em;line-height:2em;background-color:#a200d780}[_nghost-%COMP%]   .queue_badge.notstarted[_ngcontent-%COMP%]{background-color:#7c7c7ca6}[_nghost-%COMP%]   .queue_badge.completed[_ngcontent-%COMP%]{background-color:#1979008c}[_nghost-%COMP%]   .queue_badge.inprogress[_ngcontent-%COMP%]{background-color:#00ee0c80}[_nghost-%COMP%]   .queue_badge.failed[_ngcontent-%COMP%]{background-color:#eb000080}[_nghost-%COMP%]   .queue_badge.paused[_ngcontent-%COMP%]{background-color:#0ebbff88}[_nghost-%COMP%]   .queue_badge.timer[_ngcontent-%COMP%]{border-radius:.5rem;width:4em}"]}),r})();function Ac(r,o){1&r&&e._UZ(0,"li",17),2&r&&e.Q6J("innerHTML",o.$implicit,e.oJD)}const Yr=function(){return["size-sm"]};function Tc(r,o){if(1&r&&(e.TgZ(0,"anu-collapsible",15)(1,"anu-collapsible-header"),e._uU(2," Queue Messagees "),e.qZA(),e.TgZ(3,"anu-collapsible-content",3)(4,"ol"),e.YNc(5,Ac,1,1,"li",16),e.qZA()()()),2&r){const t=e.oxw();e.Q6J("collapsed",!1)("hamBurgerClassNames",e.DdM(4,Yr))("isDropdownStyle",!0),e.xp6(5),e.Q6J("ngForOf",t.errors)}}function Ec(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw();return e.KtG(s.saveArticle(i))}),e.TgZ(1,"strong"),e._uU(2,"Save"),e.qZA()()}}function Sc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"label"),e._uU(2,"Heading"),e.qZA(),e.TgZ(3,"input",33),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.data.heading=i)}),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("readonly","notstarted"!==t.status)("ngModel",t.data.heading)}}function Oc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw().index,O=e.oxw();return e.KtG(O.updatePromptInQueue(s,i))}),e.TgZ(1,"strong"),e._uU(2,"Update"),e.qZA()()}}function xc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw().index,O=e.oxw();return e.KtG(O.removePromptFromQueue(s,i))}),e.TgZ(1,"strong"),e._uU(2,"X"),e.qZA()()}}function Mc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw().index,O=e.oxw();return e.KtG(O.showQueueItemResultModal(s,i))}),e._uU(1,"\u26f2"),e.qZA()}}const kc=function(r,o,t){return{error:r,success:o,"warning relative":t}};function Ic(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-card",27)(1,"anu-card-title",28)(2,"h3",29),e._uU(3),e.qZA()(),e.TgZ(4,"anu-card-body",30),e.YNc(5,Sc,4,2,"div",31),e.TgZ(6,"div",32)(7,"label"),e._uU(8,"Prompt"),e.qZA(),e.TgZ(9,"input",33),e.NdJ("ngModelChange",function(i){const O=e.CHM(t).$implicit;return e.KtG(O.data.prompt.prompt=i)}),e.qZA()(),e._UZ(10,"anu-spinner",34),e.qZA(),e.TgZ(11,"anu-card-footer",35)(12,"div",36)(13,"div",37)(14,"strong"),e._uU(15),e.qZA()(),e.TgZ(16,"div",38),e._uU(17),e.qZA(),e.TgZ(18,"div",38),e.YNc(19,Oc,3,0,"a",23),e.qZA(),e.TgZ(20,"div",38),e.YNc(21,xc,3,0,"a",39),e.YNc(22,Mc,2,0,"a",23),e.qZA()()()()}if(2&r){const t=o.$implicit;e.xp6(3),e.Oqu(t.id),e.xp6(2),e.Q6J("ngIf","content"===t.data.prompt.promptType),e.xp6(4),e.Q6J("readonly","notstarted"!==t.status)("ngModel",t.data.prompt.prompt),e.xp6(1),e.Q6J("show","inprogress"===t.status),e.xp6(3),e.Q6J("ngClass",e.kEZ(11,kc,"failed"===t.status,"completed"===t.status,"inprogress"===t.status)),e.xp6(2),e.Oqu(t.status),e.xp6(2),e.hij("",t.timeEllapsed,"s"),e.xp6(2),e.Q6J("ngIf","notstarted"===t.status),e.xp6(2),e.Q6J("ngIf","notstarted"===t.status),e.xp6(1),e.Q6J("ngIf","completed"===t.status)}}function Pc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"anu-card",27)(1,"anu-card-body",30)(2,"a",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.addPromptInQueue(i))}),e.TgZ(3,"strong"),e._uU(4,"Add Prompt"),e.qZA()()()()}}function Fc(r,o){if(1&r&&(e.TgZ(0,"anu-collapsible",18)(1,"anu-collapsible-header",19)(2,"h2"),e._uU(3),e.qZA()(),e.TgZ(4,"anu-collapsible-content",20)(5,"div",21)(6,"div"),e._UZ(7,"anu-queue-status",22),e.qZA(),e.YNc(8,Ec,3,0,"a",23),e.qZA(),e.TgZ(9,"div",3),e.YNc(10,Ic,23,15,"anu-card",24),e.YNc(11,Pc,5,0,"anu-card",25),e.qZA()()()),2&r){const t=o.$implicit,n=o.index,i=e.oxw();e.Q6J("collapsed",!1)("hamBurgerClassNames",e.DdM(9,Yr))("isDropdownStyle",!0),e.xp6(3),e.AsE("(",n+1,"): ",t.id,""),e.xp6(4),e.Q6J("queue",null==t?null:t.data),e.xp6(1),e.Q6J("ngIf",!1===i.articleSaveStatus[t.id]),e.xp6(2),e.Q6J("ngForOf",t.data.queueValue),e.xp6(1),e.Q6J("ngIf","completed"!==t.status)}}let Rc=(()=>{class r{constructor(t,n,i,s,O,j,X,ie,ge,be){this.aiArticlesService=t,this.utilsService=n,this.openaiService=i,this.openaiConfigService=s,this.articleEditorService=O,this.fireArticlesHttpService=j,this.appConfigService=X,this.html2json=ie,this.fireStorageImageService=ge,this.fireAuthService=be,this.toggleBulkArticlesModal=!1,this.bulkArticlesPromptsText="",this.toggleOpenaiConfigModal=!1,this.historyPrompts=[],this.currentMdText="",this.currentMdConvertedText="",this.articlesBatch=null,this.promptsBatch=null,this.articlesBatchSubscription=null,this.promptBatchSubscription=null,this.promptStatusSubscription=null,this.errors=[],this.articleSaveStatus={},this.openaiConfigService.config.subscribe(Se=>{const Ee={apiKey:Se?.apiKey?.value||"",organization:Se?.headers?.value["OpenAI-Organization"].value||""};Ee?.apiKey&&this.openaiService.initOpenai(Ee)}),this.articlesBatchSubscription&&this.articlesBatchSubscription.unsubscribe(),this.articlesBatchSubscription=this.aiArticlesService.articlesQ.currentBatch.subscribe(Se=>{this.onArticleSBatchChange(Se)})}ngOnInit(){this.openaiConfigService.initOpenai(this.appConfigService.openai.apiKey,this.appConfigService.openai.organization)}ngOnDestroy(){this.articlesBatchSubscription&&this.articlesBatchSubscription.unsubscribe(),this.promptBatchSubscription&&this.promptBatchSubscription.unsubscribe(),this.promptStatusSubscription&&this.promptStatusSubscription.unsubscribe()}onArticleSBatchChange(t){t?.length&&t.forEach(n=>{const i=n.data;i.start(3,65,25),this.promptBatchSubscription&&this.promptBatchSubscription.unsubscribe(),this.promptStatusSubscription&&this.promptStatusSubscription.unsubscribe(),this.promptBatchSubscription=i.currentBatch.subscribe(s=>{this.processArtPrompts(n,i,s)}),this.promptStatusSubscription=i.status.subscribe(s=>{[Te.paused,Te.completed].includes(s)&&!i.queueValue.find(O=>O.status!==Te.completed)&&!0!==this.articleSaveStatus[n.id]&&this.saveArticle(n)})})}generateAdditionalPrompts(t,n){const i=n.data;if(![Ae.questions,Ae.subtopics].includes(i.prompt.promptType))return;const O=this.articleEditorService.readKeywordsFromEditorElement(this.html2json.md2json(i.prompt.message.mdText))?.map(j=>new Pt({id:j,status:Te.notstarted,startTime:0,completedTime:0,data:{heading:j,prompt:{prompt:j,promptType:Ae.content,message:{}}}}));O?.length&&t.add(O)}processArtPrompts(t,n,i){const s=i.map(O=>{const j=O.data;return this.pushStatusMsg("Prompt Started...","warning",t.id,O.id),j.prompt.promptType===Ae.image?this.openaiService.getImagetResponse(j.prompt.prompt,1,ot._1024x1024):this.openaiService.getChatResponse([j.prompt.prompt])});Promise.allSettled(s).then(O=>{O.forEach((j,X)=>{const ie=i[X];if("fulfilled"===j.status){const ge=ie.data;ge.prompt.message.mdText=ge.prompt.promptType===Ae.image?j.value[0]:j.value,ie.complete(),this.pushStatusMsg("Prompt DONE","success",t.id,ie.id),this.generateAdditionalPrompts(n,ie)}else ie.fail(),this.pushStatusMsg("Prompt Failed","error",t.id,ie.id)}),n.updateQueueBatch(i)})}onGenerateBulkArticleQueues(){this.toggleBulkArticlesModal=!1,this.bulkArticlesPromptsText.trim()&&(this.bulkArticlesPromptsText.split("|||").forEach(n=>{(n=n.trim())&&this.initAndAddNewArticleprompts({prompt:n,promptType:Ae.content,message:{mdText:"",htmlText:"",jsonText:""}})}),this.bulkArticlesPromptsText="")}onNewPrompt(t){const n=t&&t.length&&t[t.length-1]||null;n&&this.initAndAddNewArticleprompts(n)}createArticlePrompt(t,n=Ae.content){if(!t)return null;const i=new Pt;i.id=t.prompt;const s={prompt:this.utilsService.deepCopy(t),heading:t.prompt};switch(n){case Ae.description:i.id="description",s.prompt.promptType=Ae.description,s.prompt.prompt=`Please give meta description for ${t.prompt}`,s.heading="NA";break;case Ae.keywords:i.id="keywords",s.prompt.promptType=Ae.keywords,s.prompt.prompt=`List good meta keywords for ${t.prompt}`,s.heading="NA";break;case Ae.subtopics:i.id="subtopics",s.prompt.promptType=Ae.subtopics,s.prompt.prompt=`List 2 good closely related subtopic titles only, for ${t.prompt}`,s.heading="NA";break;case Ae.questions:i.id="questions",s.prompt.promptType=Ae.questions,s.prompt.prompt=`List 2 good related questions titles ony, for ${t.prompt}`,s.heading="NA";break;case Ae.image:i.id="IMAGE",s.prompt.promptType=Ae.image,s.prompt.prompt=t.prompt,s.heading="NA";break;default:s.prompt.promptType=Ae.content}return i.data=s,i}initAndAddNewArticleprompts(t){if(!t)return;const n=this.createArticlePrompt(t),i=this.createArticlePrompt(t,Ae.subtopics),s=this.createArticlePrompt(t,Ae.questions),O=this.createArticlePrompt(t,Ae.description),j=this.createArticlePrompt(t,Ae.keywords),X=this.createArticlePrompt(t,Ae.image),ie=new Kr;ie.add([n,i,s,j,O,X]);const ge=new Pt;ge.id=t.prompt,ge.data=ie,this.aiArticlesService.articlesQ.add([ge])}updatePromptInQueue(t,n){this.aiArticlesService.articlesQ.queueValue[t].data.update([n])}removePromptFromQueue(t,n){this.aiArticlesService.articlesQ.queueValue[t].data.remove([n])}addPromptInQueue(t){const n=this.aiArticlesService.articlesQ.queueValue[t].data,i=new Pt({id:this.utilsService.getUniqueFromString(`article-prompt-${t}`),data:{prompt:{prompt:"",message:{},promptType:Ae.content},heading:""},status:Te.notstarted,startTime:0,completedTime:0});n.add([i])}showQueueItemResultModal(t,n){this.currentMdText=n.data.prompt?.message?.mdText||"",this.currentMdConvertedText=this.currentMdText}startArticlesQueue(t){this.aiArticlesService.articlesQ.start(1,65,25),this.errors=[]}saveArticle(t){var n=this;return(0,g.Z)(function*(){const i=n.articleEditorService.createInitializedArticle(t.id);let s="";t.data.queueValue.forEach((ie,ge)=>{const be=ie.data;if(be.prompt.promptType===Ae.image)s=be.prompt.message.mdText;else{const Se=n.articleEditorService.cleanAndFormatEditorEl(n.html2json.md2json(be.prompt.message.mdText));if(Se)if(0===ge)i.body=Se;else switch(be.prompt.promptType){case Ae.keywords:i.metaInfo.keywords=n.articleEditorService.readKeywordsFromEditorElement(Se).join(", "),i.metaInfo["article:tag"]=i.metaInfo.keywords;break;case Ae.description:i.metaInfo.description=n.articleEditorService.readDescriptionFromEditorElement(Se);break;case Ae.questions:case Ae.subtopics:break;default:i.body.children=[].concat(i.body.children,n.articleEditorService.generateArticleSubheading(be.heading||be.prompt.prompt||""),Se.children)}}});const j=yield n.fireStorageImageService.uploadImage(`${i.id}.jpg`,s,!0,n.fireAuthService.getCurrentUserId(),!0).catch(ie=>(n.pushStatusMsg("Saving Article Image failed","error",t.id),null));j&&(i.image.src=`getImage?imageId=${j.fullPath}`||"",i.metaInfo.image=i.image.src),n.pushStatusMsg("Saving Article Image DONE","success",t.id),(yield n.fireArticlesHttpService.addArticle(i).catch(ie=>(n.pushStatusMsg("Saving Article failed","error",t.id),n.articleSaveStatus[t.id]=!1,null)))&&(t.complete(),n.aiArticlesService.articlesQ.updateQueueBatch([t]),n.pushStatusMsg("Saving Article DONE","success",t.id),n.articleSaveStatus[t.id]=!0)})()}pushStatusMsg(t,n,i="",s=""){this.errors.push(`\n    <div>${i}   |   ${s}</div>\n    <p class="${n}">${t}</p>\n    `)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(nc),e.Y36(a.F),e.Y36(It),e.Y36(tn),e.Y36(Nr),e.Y36(rn.h),e.Y36(w._),e.Y36(Fn),e.Y36(xn),e.Y36(_.i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["anu-ai-articles"]],decls:25,vars:19,consts:[[1,"row","right"],["href","javascript:void(0)",1,"primary",3,"click"],[1,"spacing-horizontal"],[1,"row"],[1,"container",3,"prompts","selectedPromptText","showHistory","showPrompts","goClicked"],[1,"row","spacing-around-vertical",3,"queue","startClick"],["class","col-12 spacing-around-vertical shadow",3,"collapsed","hamBurgerClassNames","isDropdownStyle",4,"ngIf"],["class","container shadow spacing-around-vertical border-round",3,"collapsed","hamBurgerClassNames","isDropdownStyle",4,"ngFor","ngForOf"],["modalTitle","Bulk Articles Prompts",3,"enableCancel","enableOk","opened","okClick","cancelClick"],["placeholder","Article titles separated by 3 pipe symbols |||",3,"ngModel","ngModelChange"],["modalTitle","Openai Configuration","cancelLabel","Go Back",3,"enableCancel","enableOk","opened","cancelClick"],["modalTitle","Queue Item Result Preview","cancelLabel","Go Back",3,"enableCancel","enableOk","opened","cancelClick"],[1,"row","spacing-around-vertical"],[1,"btn",3,"click"],[3,"enableEdit","language","source"],[1,"col-12","spacing-around-vertical","shadow",3,"collapsed","hamBurgerClassNames","isDropdownStyle"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"container","shadow","spacing-around-vertical","border-round",3,"collapsed","hamBurgerClassNames","isDropdownStyle"],[1,"spacing"],[1,"container"],[1,"row","stretch"],[1,"row",3,"queue"],["class","success","href","javascript:void(0)",3,"click",4,"ngIf"],["class","col-sm-12 col-md-6 col-lg-6 border border-round overflow-hidden prompt-item spacing-around-vertical",4,"ngFor","ngForOf"],["class","col-sm-12 col-md-6 col-lg-6 border border-round overflow-hidden prompt-item spacing-around-vertical",4,"ngIf"],["href","javascript:void(0)",1,"success",3,"click"],[1,"col-sm-12","col-md-6","col-lg-6","border","border-round","overflow-hidden","prompt-item","spacing-around-vertical"],[1,"primary-darker-grad","spacing-half"],[1,"accent-deep-light"],[1,"container","relative","spacing-half"],["class","col-12",4,"ngIf"],[1,"col-12"],["type","text",3,"readonly","ngModel","ngModelChange"],[3,"show"],[1,"primary-lightest-grad"],[1,"row","stretch","spacing"],[1,"",3,"ngClass"],[1,""],["class","error","href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"error",3,"click"],["href","javascript:void(0)",1,"btn","primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"a",1),e.NdJ("click",function(){return n.toggleOpenaiConfigModal=!0}),e._uU(2,"Settings"),e.qZA(),e.TgZ(3,"span",2),e._uU(4,"|"),e.qZA(),e.TgZ(5,"a",1),e.NdJ("click",function(){return n.toggleBulkArticlesModal=!0}),e._uU(6,"Bulk Articles"),e.qZA()(),e.TgZ(7,"div",3)(8,"anu-openai-form",4),e.NdJ("goClicked",function(s){return n.onNewPrompt(s)}),e.qZA()(),e.TgZ(9,"anu-queue-status",5),e.NdJ("startClick",function(s){return n.startArticlesQueue(s)}),e.qZA(),e.YNc(10,Tc,6,5,"anu-collapsible",6),e.YNc(11,Fc,12,10,"anu-collapsible",7),e.TgZ(12,"anu-modal",8),e.NdJ("okClick",function(){return n.onGenerateBulkArticleQueues()})("cancelClick",function(){return n.toggleBulkArticlesModal=!1}),e.TgZ(13,"textarea",9),e.NdJ("ngModelChange",function(s){return n.bulkArticlesPromptsText=s}),e.qZA()(),e.TgZ(14,"anu-modal",10),e.NdJ("cancelClick",function(){return n.toggleOpenaiConfigModal=!1}),e._UZ(15,"anu-openai-configuration"),e.qZA(),e.TgZ(16,"anu-modal",11),e.NdJ("cancelClick",function(){return n.currentMdConvertedText=n.currentMdText=""}),e.TgZ(17,"div",12)(18,"a",13),e.NdJ("click",function(){return n.currentMdConvertedText=n.currentMdText}),e._uU(19,"Markdown"),e.qZA(),e.TgZ(20,"a",13),e.NdJ("click",function(){return n.currentMdConvertedText=n.html2json.md2jsonText(n.currentMdText)}),e._uU(21,"JSON"),e.qZA(),e.TgZ(22,"a",13),e.NdJ("click",function(){return n.currentMdConvertedText=n.html2json.md2html(n.currentMdText)}),e._uU(23,"HTML"),e.qZA()(),e._UZ(24,"anu-code-block",14),e.qZA()),2&t&&(e.xp6(8),e.Q6J("prompts",n.historyPrompts)("showHistory",!1)("showPrompts",!1),e.xp6(1),e.Q6J("queue",n.aiArticlesService.articlesQ),e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.length),e.xp6(1),e.Q6J("ngForOf",n.aiArticlesService.articlesQ.queueValue),e.xp6(1),e.Q6J("enableCancel",!0)("enableOk",!0)("opened",n.toggleBulkArticlesModal),e.xp6(1),e.Q6J("ngModel",n.bulkArticlesPromptsText),e.xp6(1),e.Q6J("enableCancel",!0)("enableOk",!1)("opened",n.toggleOpenaiConfigModal),e.xp6(2),e.Q6J("enableCancel",!0)("enableOk",!1)("opened",!!n.currentMdText),e.xp6(8),e.Q6J("enableEdit",!1)("language","markup")("source",n.currentMdConvertedText))},dependencies:[y.mk,y.sg,y.O5,$.Fj,$.JJ,$.On,Dr,vc,I.O,re,ye,we,Qe.z,sn.P,yc,u.A,T.E,f.y,U.x],styles:["[_nghost-%COMP%]   .prompt-item[_ngcontent-%COMP%]{overflow:hidden}"]}),r})();const Uc=[{path:"",component:Ko,runGuardsAndResolvers:"always",canActivate:[c.u]},{path:"manage-categories",component:Ht,runGuardsAndResolvers:"always",canActivate:[E],resolve:{manageCategories:wl},children:[{path:":categoryId",component:So,runGuardsAndResolvers:"always",canActivate:[E]}]},{path:"manage-stories",component:_l,runGuardsAndResolvers:"always",canActivate:[b],resolve:{manageStories:vl},children:[{path:":storyId",component:il,runGuardsAndResolvers:"always",canActivate:[b]}]},{path:"openai",component:(()=>{class r{constructor(t,n,i){this.route=t,this.router=n,this.dashboardMetaService=i,this.pageMeta=null,this.loading=!0,this.routeStartEvent=this.router.events.pipe((0,A.h)(s=>s instanceof v.OD)).subscribe(()=>{this.loading=!0,this.error=null}),this.routeEndEvent=this.router.events.pipe((0,A.h)(s=>s instanceof v.m2)).subscribe(()=>{this.loading=!1})}ngOnInit(){this.pageMeta=this.dashboardMetaService.setDashboardPageMeta(z.openaiPage)}ngOnDestroy(){this.routeEndEvent.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(v.gz),e.Y36(v.F0),e.Y36(l))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-openai-page"]],decls:5,vars:1,consts:[[1,"flex-container","primary-light-grad","spacing-around-vertical"],[1,"flex-container","spacing-around-vertical"],[1,"container"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.qZA()(),e.TgZ(3,"div",1),e._UZ(4,"anu-ai-articles",2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(null==n.pageMeta?null:n.pageMeta.title))},dependencies:[Rc],styles:["[_nghost-%COMP%]{width:100%}"]}),r})(),runGuardsAndResolvers:"always",canActivate:[E]},{path:"manage-sitemap",component:Ql,runGuardsAndResolvers:"always",canActivate:[E]},{path:"**",redirectTo:"",pathMatch:"full"}];let Lc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[v.Bz.forChild(Uc),v.Bz]}),r})();var Un=M(8129),Ln=M(3050),Bn=M(6713),Bc=M(3406),$r=M(1661),Dc=M(5262),bt=M(8496),cn=M(7929),Zc=M(8348),Wr=M(2453),Dn=M(9773),Zn=M(6304);let un=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,$.u5,cn.d,Dn.F,Ln.T,bt.z,Zn.H]}),r})(),jn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,$.u5,Ln.T,cn.d,Zc.A,Wr.R,un]}),r})(),jc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,$.u5]}),r})(),Xr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,$.u5,Dc.V,bt.z,jn,jc,Zn.H]}),r})();var ea=M(561);let dn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez]}),r})(),fn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez]}),r})(),Jc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,$.u5,Bn.P,Xr,D.d,jn,bt.z,ea.E,dn,fn,$r.A]}),r})();var ta=M(1575);let qc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,$.u5,Bn.P,Xr,D.d,jn,bt.z,ea.E,Un.R,dn,fn,un,ta.l]}),r})(),Hc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,Un.R,v.Bz]}),r})(),Qc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez]}),r})(),Kc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,$.u5,un,Dn.F,cn.d,bt.z,Zn.H,Qc,D.d]}),r})(),Gc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,$.u5,dn,fn]}),r})(),Vc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,Lc,$.u5,Bn.P,D.d,Bc.F,$r.A,Jc,Un.R,qc,Hc,Dn.F,bt.z,fn,dn,cn.d,Gc,Kc,un,Ln.T,Wr.R,ta.l]}),r})()},9919:(te,G)=>{"use strict";G.byteLength=function e(P){var H=m(P),Y=H[1];return 3*(H[0]+Y)/4-Y},G.toByteArray=function E(P){var H,a,q=m(P),Y=q[0],z=q[1],J=new D(function _(P,H,q){return 3*(H+q)/4-q}(0,Y,z)),Z=0,w=z>0?Y-4:Y;for(a=0;a<w;a+=4)H=y[P.charCodeAt(a)]<<18|y[P.charCodeAt(a+1)]<<12|y[P.charCodeAt(a+2)]<<6|y[P.charCodeAt(a+3)],J[Z++]=H>>16&255,J[Z++]=H>>8&255,J[Z++]=255&H;return 2===z&&(H=y[P.charCodeAt(a)]<<2|y[P.charCodeAt(a+1)]>>4,J[Z++]=255&H),1===z&&(H=y[P.charCodeAt(a)]<<10|y[P.charCodeAt(a+1)]<<4|y[P.charCodeAt(a+2)]>>2,J[Z++]=H>>8&255,J[Z++]=255&H),J},G.fromByteArray=function A(P){for(var H,q=P.length,Y=q%3,z=[],J=16383,Z=0,w=q-Y;Z<w;Z+=J)z.push(C(P,Z,Z+J>w?w:Z+J));return 1===Y?z.push(M[(H=P[q-1])>>2]+M[H<<4&63]+"=="):2===Y&&z.push(M[(H=(P[q-2]<<8)+P[q-1])>>10]+M[H>>4&63]+M[H<<2&63]+"="),z.join("")};for(var M=[],y=[],D=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0;c<64;++c)M[c]=v[c],y[v.charCodeAt(c)]=c;function m(P){var H=P.length;if(H%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var q=P.indexOf("=");return-1===q&&(q=H),[q,q===H?0:4-q%4]}function b(P){return M[P>>18&63]+M[P>>12&63]+M[P>>6&63]+M[63&P]}function C(P,H,q){for(var z=[],J=H;J<q;J+=3)z.push(b((P[J]<<16&16711680)+(P[J+1]<<8&65280)+(255&P[J+2])));return z.join("")}y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63},9007:(te,G,M)=>{"use strict";var y=M(9919),D=M(2601),v="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;G.Buffer=e,G.SlowBuffer=function J(S){return+S!=S&&(S=0),e.alloc(+S)},G.INSPECT_MAX_BYTES=50;var c=2147483647;function m(S){if(S>c)throw new RangeError('The value "'+S+'" is invalid for option "size"');var d=new Uint8Array(S);return Object.setPrototypeOf(d,e.prototype),d}function e(S,d,p){if("number"==typeof S){if("string"==typeof d)throw new TypeError('The "string" argument must be of type string. Received type number');return C(S)}return _(S,d,p)}function _(S,d,p){if("string"==typeof S)return function A(S,d){if(("string"!=typeof d||""===d)&&(d="utf8"),!e.isEncoding(d))throw new TypeError("Unknown encoding: "+d);var p=0|Z(S,d),L=m(p),V=L.write(S,d);return V!==p&&(L=L.slice(0,V)),L}(S,d);if(ArrayBuffer.isView(S))return function H(S){if(I(S,Uint8Array)){var d=new Uint8Array(S);return q(d.buffer,d.byteOffset,d.byteLength)}return P(S)}(S);if(null==S)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(I(S,ArrayBuffer)||S&&I(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(I(S,SharedArrayBuffer)||S&&I(S.buffer,SharedArrayBuffer)))return q(S,d,p);if("number"==typeof S)throw new TypeError('The "value" argument must not be of type number. Received type number');var L=S.valueOf&&S.valueOf();if(null!=L&&L!==S)return e.from(L,d,p);var V=function Y(S){if(e.isBuffer(S)){var d=0|z(S.length),p=m(d);return 0===p.length||S.copy(p,0,0,d),p}return void 0!==S.length?"number"!=typeof S.length||N(S.length)?m(0):P(S):"Buffer"===S.type&&Array.isArray(S.data)?P(S.data):void 0}(S);if(V)return V;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof S[Symbol.toPrimitive])return e.from(S[Symbol.toPrimitive]("string"),d,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}function E(S){if("number"!=typeof S)throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function C(S){return E(S),m(S<0?0:0|z(S))}function P(S){for(var d=S.length<0?0:0|z(S.length),p=m(d),L=0;L<d;L+=1)p[L]=255&S[L];return p}function q(S,d,p){if(d<0||S.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<d+(p||0))throw new RangeError('"length" is outside of buffer bounds');var L;return L=void 0===d&&void 0===p?new Uint8Array(S):void 0===p?new Uint8Array(S,d):new Uint8Array(S,d,p),Object.setPrototypeOf(L,e.prototype),L}function z(S){if(S>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|S}function Z(S,d){if(e.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||I(S,ArrayBuffer))return S.byteLength;if("string"!=typeof S)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);var p=S.length,L=arguments.length>2&&!0===arguments[2];if(!L&&0===p)return 0;for(var V=!1;;)switch(d){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return h(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return ce(S).length;default:if(V)return L?-1:h(S).length;d=(""+d).toLowerCase(),V=!0}}function w(S,d,p){var L=!1;if((void 0===d||d<0)&&(d=0),d>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(d>>>=0))return"";for(S||(S="utf8");;)switch(S){case"hex":return pe(this,d,p);case"utf8":case"utf-8":return le(this,d,p);case"ascii":return B(this,d,p);case"latin1":case"binary":return ue(this,d,p);case"base64":return ne(this,d,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,d,p);default:if(L)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),L=!0}}function a(S,d,p){var L=S[d];S[d]=S[p],S[p]=L}function l(S,d,p,L,V){if(0===S.length)return-1;if("string"==typeof p?(L=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),N(p=+p)&&(p=V?0:S.length-1),p<0&&(p=S.length+p),p>=S.length){if(V)return-1;p=S.length-1}else if(p<0){if(!V)return-1;p=0}if("string"==typeof d&&(d=e.from(d,L)),e.isBuffer(d))return 0===d.length?-1:u(S,d,p,L,V);if("number"==typeof d)return d&=255,"function"==typeof Uint8Array.prototype.indexOf?V?Uint8Array.prototype.indexOf.call(S,d,p):Uint8Array.prototype.lastIndexOf.call(S,d,p):u(S,[d],p,L,V);throw new TypeError("val must be string, number or Buffer")}function u(S,d,p,L,V){var we,re=1,fe=S.length,ye=d.length;if(void 0!==L&&("ucs2"===(L=String(L).toLowerCase())||"ucs-2"===L||"utf16le"===L||"utf-16le"===L)){if(S.length<2||d.length<2)return-1;re=2,fe/=2,ye/=2,p/=2}function Oe(Je,Be){return 1===re?Je[Be]:Je.readUInt16BE(Be*re)}if(V){var xe=-1;for(we=p;we<fe;we++)if(Oe(S,we)===Oe(d,-1===xe?0:we-xe)){if(-1===xe&&(xe=we),we-xe+1===ye)return xe*re}else-1!==xe&&(we-=we-xe),xe=-1}else for(p+ye>fe&&(p=fe-ye),we=p;we>=0;we--){for(var Me=!0,Ue=0;Ue<ye;Ue++)if(Oe(S,we+Ue)!==Oe(d,Ue)){Me=!1;break}if(Me)return we}return-1}function T(S,d,p,L){p=Number(p)||0;var V=S.length-p;L?(L=Number(L))>V&&(L=V):L=V;var re=d.length;L>re/2&&(L=re/2);for(var fe=0;fe<L;++fe){var ye=parseInt(d.substr(2*fe,2),16);if(N(ye))return fe;S[p+fe]=ye}return fe}function f(S,d,p,L){return he(h(d,S.length-p),S,p,L)}function U(S,d,p,L){return he(function F(S){for(var d=[],p=0;p<S.length;++p)d.push(255&S.charCodeAt(p));return d}(d),S,p,L)}function k(S,d,p,L){return he(ce(d),S,p,L)}function Q(S,d,p,L){return he(function R(S,d){for(var p,L,re=[],fe=0;fe<S.length&&!((d-=2)<0);++fe)L=(p=S.charCodeAt(fe))>>8,re.push(p%256),re.push(L);return re}(d,S.length-p),S,p,L)}function ne(S,d,p){return y.fromByteArray(0===d&&p===S.length?S:S.slice(d,p))}function le(S,d,p){p=Math.min(S.length,p);for(var L=[],V=d;V<p;){var Oe,we,xe,Me,re=S[V],fe=null,ye=re>239?4:re>223?3:re>191?2:1;if(V+ye<=p)switch(ye){case 1:re<128&&(fe=re);break;case 2:128==(192&(Oe=S[V+1]))&&(Me=(31&re)<<6|63&Oe)>127&&(fe=Me);break;case 3:we=S[V+2],128==(192&(Oe=S[V+1]))&&128==(192&we)&&(Me=(15&re)<<12|(63&Oe)<<6|63&we)>2047&&(Me<55296||Me>57343)&&(fe=Me);break;case 4:we=S[V+2],xe=S[V+3],128==(192&(Oe=S[V+1]))&&128==(192&we)&&128==(192&xe)&&(Me=(15&re)<<18|(63&Oe)<<12|(63&we)<<6|63&xe)>65535&&Me<1114112&&(fe=Me)}null===fe?(fe=65533,ye=1):fe>65535&&(L.push((fe-=65536)>>>10&1023|55296),fe=56320|1023&fe),L.push(fe),V+=ye}return function de(S){var d=S.length;if(d<=oe)return String.fromCharCode.apply(String,S);for(var p="",L=0;L<d;)p+=String.fromCharCode.apply(String,S.slice(L,L+=oe));return p}(L)}G.kMaxLength=c,!(e.TYPED_ARRAY_SUPPORT=function g(){try{var S=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(S,d),42===S.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),e.poolSize=8192,e.from=function(S,d,p){return _(S,d,p)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array),e.alloc=function(S,d,p){return function b(S,d,p){return E(S),S<=0?m(S):void 0!==d?"string"==typeof p?m(S).fill(d,p):m(S).fill(d):m(S)}(S,d,p)},e.allocUnsafe=function(S){return C(S)},e.allocUnsafeSlow=function(S){return C(S)},e.isBuffer=function(d){return null!=d&&!0===d._isBuffer&&d!==e.prototype},e.compare=function(d,p){if(I(d,Uint8Array)&&(d=e.from(d,d.offset,d.byteLength)),I(p,Uint8Array)&&(p=e.from(p,p.offset,p.byteLength)),!e.isBuffer(d)||!e.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===p)return 0;for(var L=d.length,V=p.length,re=0,fe=Math.min(L,V);re<fe;++re)if(d[re]!==p[re]){L=d[re],V=p[re];break}return L<V?-1:V<L?1:0},e.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(d,p){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(0===d.length)return e.alloc(0);var L;if(void 0===p)for(p=0,L=0;L<d.length;++L)p+=d[L].length;var V=e.allocUnsafe(p),re=0;for(L=0;L<d.length;++L){var fe=d[L];if(I(fe,Uint8Array))re+fe.length>V.length?e.from(fe).copy(V,re):Uint8Array.prototype.set.call(V,fe,re);else{if(!e.isBuffer(fe))throw new TypeError('"list" argument must be an Array of Buffers');fe.copy(V,re)}re+=fe.length}return V},e.byteLength=Z,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var p=0;p<d;p+=2)a(this,p,p+1);return this},e.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var p=0;p<d;p+=4)a(this,p,p+3),a(this,p+1,p+2);return this},e.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var p=0;p<d;p+=8)a(this,p,p+7),a(this,p+1,p+6),a(this,p+2,p+5),a(this,p+3,p+4);return this},e.prototype.toLocaleString=e.prototype.toString=function(){var d=this.length;return 0===d?"":0===arguments.length?le(this,0,d):w.apply(this,arguments)},e.prototype.equals=function(d){if(!e.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||0===e.compare(this,d)},e.prototype.inspect=function(){var d="",p=G.INSPECT_MAX_BYTES;return d=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(d+=" ... "),"<Buffer "+d+">"},v&&(e.prototype[v]=e.prototype.inspect),e.prototype.compare=function(d,p,L,V,re){if(I(d,Uint8Array)&&(d=e.from(d,d.offset,d.byteLength)),!e.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(void 0===p&&(p=0),void 0===L&&(L=d?d.length:0),void 0===V&&(V=0),void 0===re&&(re=this.length),p<0||L>d.length||V<0||re>this.length)throw new RangeError("out of range index");if(V>=re&&p>=L)return 0;if(V>=re)return-1;if(p>=L)return 1;if(this===d)return 0;for(var fe=(re>>>=0)-(V>>>=0),ye=(L>>>=0)-(p>>>=0),Oe=Math.min(fe,ye),we=this.slice(V,re),xe=d.slice(p,L),Me=0;Me<Oe;++Me)if(we[Me]!==xe[Me]){fe=we[Me],ye=xe[Me];break}return fe<ye?-1:ye<fe?1:0},e.prototype.includes=function(d,p,L){return-1!==this.indexOf(d,p,L)},e.prototype.indexOf=function(d,p,L){return l(this,d,p,L,!0)},e.prototype.lastIndexOf=function(d,p,L){return l(this,d,p,L,!1)},e.prototype.write=function(d,p,L,V){if(void 0===p)V="utf8",L=this.length,p=0;else if(void 0===L&&"string"==typeof p)V=p,L=this.length,p=0;else{if(!isFinite(p))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");p>>>=0,isFinite(L)?(L>>>=0,void 0===V&&(V="utf8")):(V=L,L=void 0)}var re=this.length-p;if((void 0===L||L>re)&&(L=re),d.length>0&&(L<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var fe=!1;;)switch(V){case"hex":return T(this,d,p,L);case"utf8":case"utf-8":return f(this,d,p,L);case"ascii":case"latin1":case"binary":return U(this,d,p,L);case"base64":return k(this,d,p,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,d,p,L);default:if(fe)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),fe=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function B(S,d,p){var L="";p=Math.min(S.length,p);for(var V=d;V<p;++V)L+=String.fromCharCode(127&S[V]);return L}function ue(S,d,p){var L="";p=Math.min(S.length,p);for(var V=d;V<p;++V)L+=String.fromCharCode(S[V]);return L}function pe(S,d,p){var L=S.length;(!d||d<0)&&(d=0),(!p||p<0||p>L)&&(p=L);for(var V="",re=d;re<p;++re)V+=W[S[re]];return V}function _e(S,d,p){for(var L=S.slice(d,p),V="",re=0;re<L.length-1;re+=2)V+=String.fromCharCode(L[re]+256*L[re+1]);return V}function ee(S,d,p){if(S%1!=0||S<0)throw new RangeError("offset is not uint");if(S+d>p)throw new RangeError("Trying to access beyond buffer length")}function K(S,d,p,L,V,re){if(!e.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>V||d<re)throw new RangeError('"value" argument is out of bounds');if(p+L>S.length)throw new RangeError("Index out of range")}function ae(S,d,p,L,V,re){if(p+L>S.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function se(S,d,p,L,V){return d=+d,p>>>=0,V||ae(S,0,p,4),D.write(S,d,p,L,23,4),p+4}function me(S,d,p,L,V){return d=+d,p>>>=0,V||ae(S,0,p,8),D.write(S,d,p,L,52,8),p+8}e.prototype.slice=function(d,p){var L=this.length;(d=~~d)<0?(d+=L)<0&&(d=0):d>L&&(d=L),(p=void 0===p?L:~~p)<0?(p+=L)<0&&(p=0):p>L&&(p=L),p<d&&(p=d);var V=this.subarray(d,p);return Object.setPrototypeOf(V,e.prototype),V},e.prototype.readUintLE=e.prototype.readUIntLE=function(d,p,L){d>>>=0,p>>>=0,L||ee(d,p,this.length);for(var V=this[d],re=1,fe=0;++fe<p&&(re*=256);)V+=this[d+fe]*re;return V},e.prototype.readUintBE=e.prototype.readUIntBE=function(d,p,L){d>>>=0,p>>>=0,L||ee(d,p,this.length);for(var V=this[d+--p],re=1;p>0&&(re*=256);)V+=this[d+--p]*re;return V},e.prototype.readUint8=e.prototype.readUInt8=function(d,p){return d>>>=0,p||ee(d,1,this.length),this[d]},e.prototype.readUint16LE=e.prototype.readUInt16LE=function(d,p){return d>>>=0,p||ee(d,2,this.length),this[d]|this[d+1]<<8},e.prototype.readUint16BE=e.prototype.readUInt16BE=function(d,p){return d>>>=0,p||ee(d,2,this.length),this[d]<<8|this[d+1]},e.prototype.readUint32LE=e.prototype.readUInt32LE=function(d,p){return d>>>=0,p||ee(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},e.prototype.readUint32BE=e.prototype.readUInt32BE=function(d,p){return d>>>=0,p||ee(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},e.prototype.readIntLE=function(d,p,L){d>>>=0,p>>>=0,L||ee(d,p,this.length);for(var V=this[d],re=1,fe=0;++fe<p&&(re*=256);)V+=this[d+fe]*re;return V>=(re*=128)&&(V-=Math.pow(2,8*p)),V},e.prototype.readIntBE=function(d,p,L){d>>>=0,p>>>=0,L||ee(d,p,this.length);for(var V=p,re=1,fe=this[d+--V];V>0&&(re*=256);)fe+=this[d+--V]*re;return fe>=(re*=128)&&(fe-=Math.pow(2,8*p)),fe},e.prototype.readInt8=function(d,p){return d>>>=0,p||ee(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},e.prototype.readInt16LE=function(d,p){d>>>=0,p||ee(d,2,this.length);var L=this[d]|this[d+1]<<8;return 32768&L?4294901760|L:L},e.prototype.readInt16BE=function(d,p){d>>>=0,p||ee(d,2,this.length);var L=this[d+1]|this[d]<<8;return 32768&L?4294901760|L:L},e.prototype.readInt32LE=function(d,p){return d>>>=0,p||ee(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},e.prototype.readInt32BE=function(d,p){return d>>>=0,p||ee(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},e.prototype.readFloatLE=function(d,p){return d>>>=0,p||ee(d,4,this.length),D.read(this,d,!0,23,4)},e.prototype.readFloatBE=function(d,p){return d>>>=0,p||ee(d,4,this.length),D.read(this,d,!1,23,4)},e.prototype.readDoubleLE=function(d,p){return d>>>=0,p||ee(d,8,this.length),D.read(this,d,!0,52,8)},e.prototype.readDoubleBE=function(d,p){return d>>>=0,p||ee(d,8,this.length),D.read(this,d,!1,52,8)},e.prototype.writeUintLE=e.prototype.writeUIntLE=function(d,p,L,V){d=+d,p>>>=0,L>>>=0,V||K(this,d,p,L,Math.pow(2,8*L)-1,0);var fe=1,ye=0;for(this[p]=255&d;++ye<L&&(fe*=256);)this[p+ye]=d/fe&255;return p+L},e.prototype.writeUintBE=e.prototype.writeUIntBE=function(d,p,L,V){d=+d,p>>>=0,L>>>=0,V||K(this,d,p,L,Math.pow(2,8*L)-1,0);var fe=L-1,ye=1;for(this[p+fe]=255&d;--fe>=0&&(ye*=256);)this[p+fe]=d/ye&255;return p+L},e.prototype.writeUint8=e.prototype.writeUInt8=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,1,255,0),this[p]=255&d,p+1},e.prototype.writeUint16LE=e.prototype.writeUInt16LE=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,2,65535,0),this[p]=255&d,this[p+1]=d>>>8,p+2},e.prototype.writeUint16BE=e.prototype.writeUInt16BE=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,2,65535,0),this[p]=d>>>8,this[p+1]=255&d,p+2},e.prototype.writeUint32LE=e.prototype.writeUInt32LE=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,4,4294967295,0),this[p+3]=d>>>24,this[p+2]=d>>>16,this[p+1]=d>>>8,this[p]=255&d,p+4},e.prototype.writeUint32BE=e.prototype.writeUInt32BE=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,4,4294967295,0),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=255&d,p+4},e.prototype.writeIntLE=function(d,p,L,V){if(d=+d,p>>>=0,!V){var re=Math.pow(2,8*L-1);K(this,d,p,L,re-1,-re)}var fe=0,ye=1,Oe=0;for(this[p]=255&d;++fe<L&&(ye*=256);)d<0&&0===Oe&&0!==this[p+fe-1]&&(Oe=1),this[p+fe]=(d/ye>>0)-Oe&255;return p+L},e.prototype.writeIntBE=function(d,p,L,V){if(d=+d,p>>>=0,!V){var re=Math.pow(2,8*L-1);K(this,d,p,L,re-1,-re)}var fe=L-1,ye=1,Oe=0;for(this[p+fe]=255&d;--fe>=0&&(ye*=256);)d<0&&0===Oe&&0!==this[p+fe+1]&&(Oe=1),this[p+fe]=(d/ye>>0)-Oe&255;return p+L},e.prototype.writeInt8=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,1,127,-128),d<0&&(d=255+d+1),this[p]=255&d,p+1},e.prototype.writeInt16LE=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,2,32767,-32768),this[p]=255&d,this[p+1]=d>>>8,p+2},e.prototype.writeInt16BE=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,2,32767,-32768),this[p]=d>>>8,this[p+1]=255&d,p+2},e.prototype.writeInt32LE=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,4,2147483647,-2147483648),this[p]=255&d,this[p+1]=d>>>8,this[p+2]=d>>>16,this[p+3]=d>>>24,p+4},e.prototype.writeInt32BE=function(d,p,L){return d=+d,p>>>=0,L||K(this,d,p,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=255&d,p+4},e.prototype.writeFloatLE=function(d,p,L){return se(this,d,p,!0,L)},e.prototype.writeFloatBE=function(d,p,L){return se(this,d,p,!1,L)},e.prototype.writeDoubleLE=function(d,p,L){return me(this,d,p,!0,L)},e.prototype.writeDoubleBE=function(d,p,L){return me(this,d,p,!1,L)},e.prototype.copy=function(d,p,L,V){if(!e.isBuffer(d))throw new TypeError("argument should be a Buffer");if(L||(L=0),!V&&0!==V&&(V=this.length),p>=d.length&&(p=d.length),p||(p=0),V>0&&V<L&&(V=L),V===L||0===d.length||0===this.length)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),d.length-p<V-L&&(V=d.length-p+L);var re=V-L;return this===d&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(p,L,V):Uint8Array.prototype.set.call(d,this.subarray(L,V),p),re},e.prototype.fill=function(d,p,L,V){if("string"==typeof d){if("string"==typeof p?(V=p,p=0,L=this.length):"string"==typeof L&&(V=L,L=this.length),void 0!==V&&"string"!=typeof V)throw new TypeError("encoding must be a string");if("string"==typeof V&&!e.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(1===d.length){var re=d.charCodeAt(0);("utf8"===V&&re<128||"latin1"===V)&&(d=re)}}else"number"==typeof d?d&=255:"boolean"==typeof d&&(d=Number(d));if(p<0||this.length<p||this.length<L)throw new RangeError("Out of range index");if(L<=p)return this;var fe;if(p>>>=0,L=void 0===L?this.length:L>>>0,d||(d=0),"number"==typeof d)for(fe=p;fe<L;++fe)this[fe]=d;else{var ye=e.isBuffer(d)?d:e.from(d,V),Oe=ye.length;if(0===Oe)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(fe=0;fe<L-p;++fe)this[fe+p]=ye[fe%Oe]}return this};var $=/[^+/0-9A-Za-z-_]/g;function h(S,d){d=d||1/0;for(var p,L=S.length,V=null,re=[],fe=0;fe<L;++fe){if((p=S.charCodeAt(fe))>55295&&p<57344){if(!V){if(p>56319){(d-=3)>-1&&re.push(239,191,189);continue}if(fe+1===L){(d-=3)>-1&&re.push(239,191,189);continue}V=p;continue}if(p<56320){(d-=3)>-1&&re.push(239,191,189),V=p;continue}p=65536+(V-55296<<10|p-56320)}else V&&(d-=3)>-1&&re.push(239,191,189);if(V=null,p<128){if((d-=1)<0)break;re.push(p)}else if(p<2048){if((d-=2)<0)break;re.push(p>>6|192,63&p|128)}else if(p<65536){if((d-=3)<0)break;re.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((d-=4)<0)break;re.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return re}function ce(S){return y.toByteArray(function x(S){if((S=(S=S.split("=")[0]).trim().replace($,"")).length<2)return"";for(;S.length%4!=0;)S+="=";return S}(S))}function he(S,d,p,L){for(var V=0;V<L&&!(V+p>=d.length||V>=S.length);++V)d[V+p]=S[V];return V}function I(S,d){return S instanceof d||null!=S&&null!=S.constructor&&null!=S.constructor.name&&S.constructor.name===d.name}function N(S){return S!=S}var W=function(){for(var S="0123456789abcdef",d=new Array(256),p=0;p<16;++p)for(var L=16*p,V=0;V<16;++V)d[L+V]=S[p]+S[V];return d}()},4315:function(te){te.exports=function(){"use strict";function G(ee,K){var ae=Object.keys(ee);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(ee);K&&(se=se.filter(function(me){return Object.getOwnPropertyDescriptor(ee,me).enumerable})),ae.push.apply(ae,se)}return ae}function M(ee){for(var K=1;K<arguments.length;K++){var ae=null!=arguments[K]?arguments[K]:{};K%2?G(Object(ae),!0).forEach(function(se){c(ee,se,ae[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ae)):G(Object(ae)).forEach(function(se){Object.defineProperty(ee,se,Object.getOwnPropertyDescriptor(ae,se))})}return ee}function D(ee,K){for(var ae=0;ae<K.length;ae++){var se=K[ae];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ee,e(se.key),se)}}function c(ee,K,ae){return(K=e(K))in ee?Object.defineProperty(ee,K,{value:ae,enumerable:!0,configurable:!0,writable:!0}):ee[K]=ae,ee}function g(){return g=Object.assign?Object.assign.bind():function(ee){for(var K=1;K<arguments.length;K++){var ae=arguments[K];for(var se in ae)Object.prototype.hasOwnProperty.call(ae,se)&&(ee[se]=ae[se])}return ee},g.apply(this,arguments)}function e(ee){var K=function m(ee,K){if("object"!=typeof ee||null===ee)return ee;var ae=ee[Symbol.toPrimitive];if(void 0!==ae){var se=ae.call(ee,K||"default");if("object"!=typeof se)return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===K?String:Number)(ee)}(ee,"string");return"symbol"==typeof K?K:String(K)}var ee,K,ae,se,me,$,x,h,_={exports:{}};ee=_,typeof window>"u"||(K=window,ae=K.HTMLCanvasElement&&K.HTMLCanvasElement.prototype,se=K.Blob&&function(){try{return!!new Blob}catch{return!1}}(),me=se&&K.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch{return!1}}(),$=K.BlobBuilder||K.WebKitBlobBuilder||K.MozBlobBuilder||K.MSBlobBuilder,x=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,h=(se||$)&&K.atob&&K.ArrayBuffer&&K.Uint8Array&&function(F){var R,ce,he,I,N,W,S,d,p;if(!(R=F.match(x)))throw new Error("invalid data URI");for(ce=R[2]?R[1]:"text/plain"+(R[3]||";charset=US-ASCII"),he=!!R[4],I=F.slice(R[0].length),N=he?atob(I):decodeURIComponent(I),W=new ArrayBuffer(N.length),S=new Uint8Array(W),d=0;d<N.length;d+=1)S[d]=N.charCodeAt(d);return se?new Blob([me?S:W],{type:ce}):((p=new $).append(W),p.getBlob(ce))},K.HTMLCanvasElement&&!ae.toBlob&&(ae.mozGetAsFile?ae.toBlob=function(F,R,ce){var he=this;setTimeout(function(){F(ce&&ae.toDataURL&&h?h(he.toDataURL(R,ce)):he.mozGetAsFile("blob",R))})}:ae.toDataURL&&h&&(ae.toBlob=ae.msToBlob?function(F,R,ce){var he=this;setTimeout(function(){F((R&&"image/png"!==R||ce)&&ae.toDataURL&&h?h(he.toDataURL(R,ce)):he.msToBlob(R))})}:function(F,R,ce){var he=this;setTimeout(function(){F(h(he.toDataURL(R,ce)))})})),ee.exports?ee.exports=h:K.dataURLtoBlob=h);var E=_.exports,C={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},P=typeof window<"u"&&typeof window.document<"u"?window:{},H=function(K){return K>0&&K<1/0},q=Array.prototype.slice;function Y(ee){return Array.from?Array.from(ee):q.call(ee)}var z=/^image\/.+$/;function J(ee){return z.test(ee)}var w=String.fromCharCode;var l=P.btoa;function u(ee,K){for(var ae=[],me=new Uint8Array(ee);me.length>0;)ae.push(w.apply(null,Y(me.subarray(0,8192)))),me=me.subarray(8192);return"data:".concat(K,";base64,").concat(l(ae.join("")))}function T(ee){var ae,K=new DataView(ee);try{var se,me,$;if(255===K.getUint8(0)&&216===K.getUint8(1))for(var x=K.byteLength,h=2;h+1<x;){if(255===K.getUint8(h)&&225===K.getUint8(h+1)){me=h;break}h+=1}if(me){var R=me+10;if("Exif"===function a(ee,K,ae){var me,se="";for(ae+=K,me=K;me<ae;me+=1)se+=w(ee.getUint8(me));return se}(K,me+4,4)){var ce=K.getUint16(R);if(((se=18761===ce)||19789===ce)&&42===K.getUint16(R+2,se)){var he=K.getUint32(R+4,se);he>=8&&($=R+he)}}}if($){var N,W,I=K.getUint16($,se);for(W=0;W<I;W+=1)if(274===K.getUint16(N=$+12*W+2,se)){ae=K.getUint16(N+=8,se),K.setUint16(N,1,se);break}}}catch{ae=1}return ae}var U=/\.\d*(?:0|9){12}\d*$/;function k(ee){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return U.test(ee)?Math.round(ee*K)/K:ee}function Q(ee){var K=ee.aspectRatio,ae=ee.height,se=ee.width,me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",$=H(se),x=H(ae);if($&&x){var h=ae*K;("contain"===me||"none"===me)&&h>se||"cover"===me&&h<se?ae=se/K:se=ae*K}else $?ae=se/K:x&&(se=ae*K);return{width:se,height:ae}}var oe=P.ArrayBuffer,de=P.FileReader,B=P.URL||P.webkitURL,ue=/\.\w+$/,pe=P.Compressor,_e=function(){function ee(K,ae){(function y(ee,K){if(!(ee instanceof K))throw new TypeError("Cannot call a class as a function")})(this,ee),this.file=K,this.exif=[],this.image=new Image,this.options=M(M({},C),ae),this.aborted=!1,this.result=null,this.init()}return function v(ee,K,ae){return K&&D(ee.prototype,K),ae&&D(ee,ae),Object.defineProperty(ee,"prototype",{writable:!1}),ee}(ee,[{key:"init",value:function(){var ae=this,se=this.file,me=this.options;if(function(K){return!(typeof Blob>"u")&&(K instanceof Blob||"[object Blob]"===Object.prototype.toString.call(K))}(se)){var $=se.type;if(J($))if(B&&de){oe||(me.checkOrientation=!1,me.retainExif=!1);var x="image/jpeg"===$,h=x&&me.checkOrientation,F=x&&me.retainExif;if(!B||h||F){var R=new de;this.reader=R,R.onload=function(ce){var I=ce.target.result,N={},W=1;h&&(W=T(I))>1&&g(N,function f(ee){var K=0,ae=1,se=1;switch(ee){case 2:ae=-1;break;case 3:K=-180;break;case 4:se=-1;break;case 5:K=90,se=-1;break;case 6:K=90;break;case 7:K=90,ae=-1;break;case 8:K=-90}return{rotate:K,scaleX:ae,scaleY:se}}(W)),F&&(ae.exif=function ne(ee){for(var K=Y(new Uint8Array(ee)),ae=K.length,se=[],me=0;me+3<ae;){var $=K[me],x=K[me+1];if(255===$&&218===x)break;if(255===$&&216===x)me+=2;else{var F=me+(256*K[me+2]+K[me+3])+2,R=K.slice(me,F);se.push(R),me=F}}return se.reduce(function(ce,he){return 255===he[0]&&225===he[1]?ce.concat(he):ce},[])}(I)),N.url=h||F?!B||W>1?u(I,$):B.createObjectURL(se):I,ae.load(N)},R.onabort=function(){ae.fail(new Error("Aborted to read the image with FileReader."))},R.onerror=function(){ae.fail(new Error("Failed to read the image with FileReader."))},R.onloadend=function(){ae.reader=null},h||F?R.readAsArrayBuffer(se):R.readAsDataURL(se)}else this.load({url:B.createObjectURL(se)})}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(ae){var se=this,me=this.file,$=this.image;$.onload=function(){se.draw(M(M({},ae),{},{naturalWidth:$.naturalWidth,naturalHeight:$.naturalHeight}))},$.onabort=function(){se.fail(new Error("Aborted to load the image."))},$.onerror=function(){se.fail(new Error("Failed to load the image."))},P.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(P.navigator.userAgent)&&($.crossOrigin="anonymous"),$.alt=me.name,$.src=ae.url}},{key:"draw",value:function(ae){var se=this,me=ae.naturalWidth,$=ae.naturalHeight,x=ae.rotate,h=void 0===x?0:x,F=ae.scaleX,R=void 0===F?1:F,ce=ae.scaleY,he=void 0===ce?1:ce,I=this.file,N=this.image,W=this.options,S=document.createElement("canvas"),d=S.getContext("2d"),p=Math.abs(h)%180==90,L=("contain"===W.resize||"cover"===W.resize)&&H(W.width)&&H(W.height),V=Math.max(W.maxWidth,0)||1/0,re=Math.max(W.maxHeight,0)||1/0,fe=Math.max(W.minWidth,0)||0,ye=Math.max(W.minHeight,0)||0,Oe=me/$,we=W.width,xe=W.height;if(p){var Me=[re,V];V=Me[0],re=Me[1];var Ue=[ye,fe];fe=Ue[0],ye=Ue[1];var Je=[xe,we];we=Je[0],xe=Je[1]}L&&(Oe=we/xe);var Be=Q({aspectRatio:Oe,width:V,height:re},"contain");V=Be.width,re=Be.height;var Rt=Q({aspectRatio:Oe,width:fe,height:ye},"cover");if(fe=Rt.width,ye=Rt.height,L){var Nt=Q({aspectRatio:Oe,width:we,height:xe},W.resize);we=Nt.width,xe=Nt.height}else{var Ut=Q({aspectRatio:Oe,width:we,height:xe}),Lt=Ut.width;we=void 0===Lt?me:Lt;var Ct=Ut.height;xe=void 0===Ct?$:Ct}var Ke=-(we=Math.floor(k(Math.min(Math.max(we,fe),V))))/2,hn=-(xe=Math.floor(k(Math.min(Math.max(xe,ye),re))))/2,pn=we,mn=xe,dt=[];if(L){var yt,ft,Zt=Q({aspectRatio:Oe,width:me,height:$},{contain:"cover",cover:"contain"}[W.resize]);dt.push((me-(yt=Zt.width))/2,($-(ft=Zt.height))/2,yt,ft)}if(dt.push(Ke,hn,pn,mn),p){var jt=[xe,we];we=jt[0],xe=jt[1]}S.width=we,S.height=xe,J(W.mimeType)||(W.mimeType=I.type);var Jt="transparent";I.size>W.convertSize&&W.convertTypes.indexOf(W.mimeType)>=0&&(W.mimeType="image/jpeg");var qt="image/jpeg"===W.mimeType;if(qt&&(Jt="#fff"),d.fillStyle=Jt,d.fillRect(0,0,we,xe),W.beforeDraw&&W.beforeDraw.call(this,d,S),!this.aborted&&(d.save(),d.translate(we/2,xe/2),d.rotate(h*Math.PI/180),d.scale(R,he),d.drawImage.apply(d,[N].concat(dt)),d.restore(),W.drew&&W.drew.call(this,d,S),!this.aborted)){var Ht=function(rt){if(!se.aborted){var Qt=function(it){return se.done({naturalWidth:me,naturalHeight:$,result:it})};if(rt&&qt&&W.retainExif&&se.exif&&se.exif.length>0){var Kt=function(it){return Qt(E(u(function le(ee,K){var ae=Y(new Uint8Array(ee));if(255!==ae[2]||224!==ae[3])return ee;var me=[255,216].concat(K,ae.slice(4+(256*ae[4]+ae[5])));return new Uint8Array(me)}(it,se.exif),W.mimeType)))};if(rt.arrayBuffer)rt.arrayBuffer().then(Kt).catch(function(){se.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var at=new de;se.reader=at,at.onload=function(Tt){Kt(Tt.target.result)},at.onabort=function(){se.fail(new Error("Aborted to read the compressed image with FileReader."))},at.onerror=function(){se.fail(new Error("Failed to read the compressed image with FileReader."))},at.onloadend=function(){se.reader=null},at.readAsArrayBuffer(rt)}}else Qt(rt)}};S.toBlob?S.toBlob(Ht,W.mimeType,W.quality):Ht(E(S.toDataURL(W.mimeType,W.quality)))}}},{key:"done",value:function(ae){var se=ae.naturalWidth,me=ae.naturalHeight,$=ae.result,x=this.file,h=this.image,F=this.options;if(B&&0===h.src.indexOf("blob:")&&B.revokeObjectURL(h.src),$)if(F.strict&&!F.retainExif&&$.size>x.size&&F.mimeType===x.type&&!(F.width>se||F.height>me||F.minWidth>se||F.minHeight>me||F.maxWidth<se||F.maxHeight<me))$=x;else{var R=new Date;$.lastModified=R.getTime(),$.lastModifiedDate=R,$.name=x.name,$.name&&$.type!==x.type&&($.name=$.name.replace(ue,function Z(ee){var K=J(ee)?ee.substr(6):"";return"jpeg"===K&&(K="jpg"),".".concat(K)}($.type)))}else $=x;this.result=$,F.success&&F.success.call(this,$)}},{key:"fail",value:function(ae){var se=this.options;if(!se.error)throw ae;se.error.call(this,ae)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=pe,ee}},{key:"setDefaults",value:function(ae){g(C,ae)}}]),ee}();return _e}()},2016:te=>{"use strict";var y,G="object"==typeof Reflect?Reflect:null,M=G&&"function"==typeof G.apply?G.apply:function(w,a,l){return Function.prototype.apply.call(w,a,l)};y=G&&"function"==typeof G.ownKeys?G.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var v=Number.isNaN||function(w){return w!=w};function c(){c.init.call(this)}te.exports=c,te.exports.once=function Y(Z,w){return new Promise(function(a,l){function u(f){Z.removeListener(w,T),l(f)}function T(){"function"==typeof Z.removeListener&&Z.removeListener("error",u),a([].slice.call(arguments))}J(Z,w,T,{once:!0}),"error"!==w&&function z(Z,w,a){"function"==typeof Z.on&&J(Z,"error",w,a)}(Z,u,{once:!0})})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var g=10;function m(Z){if("function"!=typeof Z)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Z)}function e(Z){return void 0===Z._maxListeners?c.defaultMaxListeners:Z._maxListeners}function _(Z,w,a,l){var u,T,f;if(m(a),void 0===(T=Z._events)?(T=Z._events=Object.create(null),Z._eventsCount=0):(void 0!==T.newListener&&(Z.emit("newListener",w,a.listener?a.listener:a),T=Z._events),f=T[w]),void 0===f)f=T[w]=a,++Z._eventsCount;else if("function"==typeof f?f=T[w]=l?[a,f]:[f,a]:l?f.unshift(a):f.push(a),(u=e(Z))>0&&f.length>u&&!f.warned){f.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=Z,U.type=w,U.count=f.length,function D(Z){console&&console.warn&&console.warn(Z)}(U)}return Z}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(Z,w,a){var l={fired:!1,wrapFn:void 0,target:Z,type:w,listener:a},u=E.bind(l);return u.listener=a,l.wrapFn=u,u}function C(Z,w,a){var l=Z._events;if(void 0===l)return[];var u=l[w];return void 0===u?[]:"function"==typeof u?a?[u.listener||u]:[u]:a?function q(Z){for(var w=new Array(Z.length),a=0;a<w.length;++a)w[a]=Z[a].listener||Z[a];return w}(u):P(u,u.length)}function A(Z){var w=this._events;if(void 0!==w){var a=w[Z];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function P(Z,w){for(var a=new Array(w),l=0;l<w;++l)a[l]=Z[l];return a}function J(Z,w,a,l){if("function"==typeof Z.on)l.once?Z.once(w,a):Z.on(w,a);else{if("function"!=typeof Z.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Z);Z.addEventListener(w,function u(T){l.once&&Z.removeEventListener(w,u),a(T)})}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(Z){if("number"!=typeof Z||Z<0||v(Z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Z+".");g=Z}}),c.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(w){if("number"!=typeof w||w<0||v(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},c.prototype.getMaxListeners=function(){return e(this)},c.prototype.emit=function(w){for(var a=[],l=1;l<arguments.length;l++)a.push(arguments[l]);var u="error"===w,T=this._events;if(void 0!==T)u=u&&void 0===T.error;else if(!u)return!1;if(u){var f;if(a.length>0&&(f=a[0]),f instanceof Error)throw f;var U=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw U.context=f,U}var k=T[w];if(void 0===k)return!1;if("function"==typeof k)M(k,this,a);else{var Q=k.length,ne=P(k,Q);for(l=0;l<Q;++l)M(ne[l],this,a)}return!0},c.prototype.on=c.prototype.addListener=function(w,a){return _(this,w,a,!1)},c.prototype.prependListener=function(w,a){return _(this,w,a,!0)},c.prototype.once=function(w,a){return m(a),this.on(w,b(this,w,a)),this},c.prototype.prependOnceListener=function(w,a){return m(a),this.prependListener(w,b(this,w,a)),this},c.prototype.off=c.prototype.removeListener=function(w,a){var l,u,T,f,U;if(m(a),void 0===(u=this._events))return this;if(void 0===(l=u[w]))return this;if(l===a||l.listener===a)0==--this._eventsCount?this._events=Object.create(null):(delete u[w],u.removeListener&&this.emit("removeListener",w,l.listener||a));else if("function"!=typeof l){for(T=-1,f=l.length-1;f>=0;f--)if(l[f]===a||l[f].listener===a){U=l[f].listener,T=f;break}if(T<0)return this;0===T?l.shift():function H(Z,w){for(;w+1<Z.length;w++)Z[w]=Z[w+1];Z.pop()}(l,T),1===l.length&&(u[w]=l[0]),void 0!==u.removeListener&&this.emit("removeListener",w,U||a)}return this},c.prototype.removeAllListeners=function(w){var a,l,u;if(void 0===(l=this._events))return this;if(void 0===l.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==l[w]&&(0==--this._eventsCount?this._events=Object.create(null):delete l[w]),this;if(0===arguments.length){var f,T=Object.keys(l);for(u=0;u<T.length;++u)"removeListener"!==(f=T[u])&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(a=l[w]))this.removeListener(w,a);else if(void 0!==a)for(u=a.length-1;u>=0;u--)this.removeListener(w,a[u]);return this},c.prototype.listeners=function(w){return C(this,w,!0)},c.prototype.rawListeners=function(w){return C(this,w,!1)},c.listenerCount=function(Z,w){return"function"==typeof Z.listenerCount?Z.listenerCount(w):A.call(Z,w)},c.prototype.listenerCount=A,c.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]}},71:te=>{te.exports="object"==typeof self?self.FormData:window.FormData},2601:(te,G)=>{G.read=function(M,y,D,v,c){var g,m,e=8*c-v-1,_=(1<<e)-1,E=_>>1,b=-7,C=D?c-1:0,A=D?-1:1,P=M[y+C];for(C+=A,g=P&(1<<-b)-1,P>>=-b,b+=e;b>0;g=256*g+M[y+C],C+=A,b-=8);for(m=g&(1<<-b)-1,g>>=-b,b+=v;b>0;m=256*m+M[y+C],C+=A,b-=8);if(0===g)g=1-E;else{if(g===_)return m?NaN:1/0*(P?-1:1);m+=Math.pow(2,v),g-=E}return(P?-1:1)*m*Math.pow(2,g-v)},G.write=function(M,y,D,v,c,g){var m,e,_,E=8*g-c-1,b=(1<<E)-1,C=b>>1,A=23===c?Math.pow(2,-24)-Math.pow(2,-77):0,P=v?0:g-1,H=v?1:-1,q=y<0||0===y&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(e=isNaN(y)?1:0,m=b):(m=Math.floor(Math.log(y)/Math.LN2),y*(_=Math.pow(2,-m))<1&&(m--,_*=2),(y+=m+C>=1?A/_:A*Math.pow(2,1-C))*_>=2&&(m++,_/=2),m+C>=b?(e=0,m=b):m+C>=1?(e=(y*_-1)*Math.pow(2,c),m+=C):(e=y*Math.pow(2,C-1)*Math.pow(2,c),m=0));c>=8;M[D+P]=255&e,P+=H,e/=256,c-=8);for(m=m<<c|e,E+=c;E>0;M[D+P]=255&m,P+=H,m/=256,E-=8);M[D+P-H]|=128*q}},6698:te=>{te.exports="function"==typeof Object.create?function(M,y){y&&(M.super_=y,M.prototype=Object.create(y.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}))}:function(M,y){if(y){M.super_=y;var D=function(){};D.prototype=y.prototype,M.prototype=new D,M.prototype.constructor=M}}},7728:function(te,G,M){"use strict";var y=this&&this.__awaiter||function(m,e,_,E){return new(_||(_=Promise))(function(C,A){function P(Y){try{q(E.next(Y))}catch(z){A(z)}}function H(Y){try{q(E.throw(Y))}catch(z){A(z)}}function q(Y){Y.done?C(Y.value):function b(C){return C instanceof _?C:new _(function(A){A(C)})}(Y.value).then(P,H)}q((E=E.apply(m,e||[])).next())})};Object.defineProperty(G,"__esModule",{value:!0}),G.OpenAIApi=G.OpenAIApiFactory=G.OpenAIApiFp=G.OpenAIApiAxiosParamCreator=G.CreateImageRequestResponseFormatEnum=G.CreateImageRequestSizeEnum=G.ChatCompletionResponseMessageRoleEnum=G.ChatCompletionRequestMessageRoleEnum=void 0;const D=M(5295),v=M(800),c=M(3078);G.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},G.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},G.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},G.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},G.OpenAIApiAxiosParamCreator=function(m){return{cancelFineTune:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("cancelFineTune","fineTuneId",e);const E="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(e))),b=new URL(E,v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_);v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},{}),q),_.headers),{url:v.toPathString(b),options:A}}),createAnswer:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createAnswer","createAnswerRequest",e);const b=new URL("/answers",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createChatCompletion:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createChatCompletion","createChatCompletionRequest",e);const b=new URL("/chat/completions",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createClassification:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createClassification","createClassificationRequest",e);const b=new URL("/classifications",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createCompletion:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createCompletion","createCompletionRequest",e);const b=new URL("/completions",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createEdit:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createEdit","createEditRequest",e);const b=new URL("/edits",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createEmbedding:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createEmbedding","createEmbeddingRequest",e);const b=new URL("/embeddings",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createFile:(e,_,E={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createFile","file",e),v.assertParamExists("createFile","purpose",_);const C=new URL("/files",v.DUMMY_BASE_URL);let A;m&&(A=m.baseOptions);const P=Object.assign(Object.assign({method:"POST"},A),E),H={},Y=new(m&&m.formDataCtor||FormData);void 0!==e&&Y.append("file",e),void 0!==_&&Y.append("purpose",_),H["Content-Type"]="multipart/form-data",v.setSearchParams(C,{});let z=A&&A.headers?A.headers:{};return P.headers=Object.assign(Object.assign(Object.assign(Object.assign({},H),Y.getHeaders()),z),E.headers),P.data=Y,{url:v.toPathString(C),options:P}}),createFineTune:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createFineTune","createFineTuneRequest",e);const b=new URL("/fine-tunes",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createImage:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createImage","createImageRequest",e);const b=new URL("/images/generations",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createImageEdit:(e,_,E,b,C,A,P,H={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createImageEdit","image",e),v.assertParamExists("createImageEdit","prompt",_);const Y=new URL("/images/edits",v.DUMMY_BASE_URL);let z;m&&(z=m.baseOptions);const J=Object.assign(Object.assign({method:"POST"},z),H),Z={},a=new(m&&m.formDataCtor||FormData);void 0!==e&&a.append("image",e),void 0!==E&&a.append("mask",E),void 0!==_&&a.append("prompt",_),void 0!==b&&a.append("n",b),void 0!==C&&a.append("size",C),void 0!==A&&a.append("response_format",A),void 0!==P&&a.append("user",P),Z["Content-Type"]="multipart/form-data",v.setSearchParams(Y,{});let l=z&&z.headers?z.headers:{};return J.headers=Object.assign(Object.assign(Object.assign(Object.assign({},Z),a.getHeaders()),l),H.headers),J.data=a,{url:v.toPathString(Y),options:J}}),createImageVariation:(e,_,E,b,C,A={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createImageVariation","image",e);const H=new URL("/images/variations",v.DUMMY_BASE_URL);let q;m&&(q=m.baseOptions);const Y=Object.assign(Object.assign({method:"POST"},q),A),z={},Z=new(m&&m.formDataCtor||FormData);void 0!==e&&Z.append("image",e),void 0!==_&&Z.append("n",_),void 0!==E&&Z.append("size",E),void 0!==b&&Z.append("response_format",b),void 0!==C&&Z.append("user",C),z["Content-Type"]="multipart/form-data",v.setSearchParams(H,{});let w=q&&q.headers?q.headers:{};return Y.headers=Object.assign(Object.assign(Object.assign(Object.assign({},z),Z.getHeaders()),w),A.headers),Y.data=Z,{url:v.toPathString(H),options:Y}}),createModeration:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createModeration","createModerationRequest",e);const b=new URL("/moderations",v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"POST"},C),_),P={"Content-Type":"application/json"};v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},P),q),_.headers),A.data=v.serializeDataIfNeeded(e,A,m),{url:v.toPathString(b),options:A}}),createSearch:(e,_,E={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createSearch","engineId",e),v.assertParamExists("createSearch","createSearchRequest",_);const b="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(e))),C=new URL(b,v.DUMMY_BASE_URL);let A;m&&(A=m.baseOptions);const P=Object.assign(Object.assign({method:"POST"},A),E),H={"Content-Type":"application/json"};v.setSearchParams(C,{});let Y=A&&A.headers?A.headers:{};return P.headers=Object.assign(Object.assign(Object.assign({},H),Y),E.headers),P.data=v.serializeDataIfNeeded(_,P,m),{url:v.toPathString(C),options:P}}),createTranscription:(e,_,E,b,C,A,P={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createTranscription","file",e),v.assertParamExists("createTranscription","model",_);const q=new URL("/audio/transcriptions",v.DUMMY_BASE_URL);let Y;m&&(Y=m.baseOptions);const z=Object.assign(Object.assign({method:"POST"},Y),P),J={},w=new(m&&m.formDataCtor||FormData);void 0!==e&&w.append("file",e),void 0!==_&&w.append("model",_),void 0!==E&&w.append("prompt",E),void 0!==b&&w.append("response_format",b),void 0!==C&&w.append("temperature",C),void 0!==A&&w.append("language",A),J["Content-Type"]="multipart/form-data",v.setSearchParams(q,{});let a=Y&&Y.headers?Y.headers:{};return z.headers=Object.assign(Object.assign(Object.assign(Object.assign({},J),w.getHeaders()),a),P.headers),z.data=w,{url:v.toPathString(q),options:z}}),createTranslation:(e,_,E,b,C,A={})=>y(this,void 0,void 0,function*(){v.assertParamExists("createTranslation","file",e),v.assertParamExists("createTranslation","model",_);const H=new URL("/audio/translations",v.DUMMY_BASE_URL);let q;m&&(q=m.baseOptions);const Y=Object.assign(Object.assign({method:"POST"},q),A),z={},Z=new(m&&m.formDataCtor||FormData);void 0!==e&&Z.append("file",e),void 0!==_&&Z.append("model",_),void 0!==E&&Z.append("prompt",E),void 0!==b&&Z.append("response_format",b),void 0!==C&&Z.append("temperature",C),z["Content-Type"]="multipart/form-data",v.setSearchParams(H,{});let w=q&&q.headers?q.headers:{};return Y.headers=Object.assign(Object.assign(Object.assign(Object.assign({},z),Z.getHeaders()),w),A.headers),Y.data=Z,{url:v.toPathString(H),options:Y}}),deleteFile:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("deleteFile","fileId",e);const E="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(e))),b=new URL(E,v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"DELETE"},C),_);v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},{}),q),_.headers),{url:v.toPathString(b),options:A}}),deleteModel:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("deleteModel","model",e);const E="/models/{model}".replace("{model}",encodeURIComponent(String(e))),b=new URL(E,v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"DELETE"},C),_);v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},{}),q),_.headers),{url:v.toPathString(b),options:A}}),downloadFile:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("downloadFile","fileId",e);const E="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(e))),b=new URL(E,v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"GET"},C),_);v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},{}),q),_.headers),{url:v.toPathString(b),options:A}}),listEngines:(e={})=>y(this,void 0,void 0,function*(){const E=new URL("/engines",v.DUMMY_BASE_URL);let b;m&&(b=m.baseOptions);const C=Object.assign(Object.assign({method:"GET"},b),e);v.setSearchParams(E,{});let H=b&&b.headers?b.headers:{};return C.headers=Object.assign(Object.assign(Object.assign({},{}),H),e.headers),{url:v.toPathString(E),options:C}}),listFiles:(e={})=>y(this,void 0,void 0,function*(){const E=new URL("/files",v.DUMMY_BASE_URL);let b;m&&(b=m.baseOptions);const C=Object.assign(Object.assign({method:"GET"},b),e);v.setSearchParams(E,{});let H=b&&b.headers?b.headers:{};return C.headers=Object.assign(Object.assign(Object.assign({},{}),H),e.headers),{url:v.toPathString(E),options:C}}),listFineTuneEvents:(e,_,E={})=>y(this,void 0,void 0,function*(){v.assertParamExists("listFineTuneEvents","fineTuneId",e);const b="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(e))),C=new URL(b,v.DUMMY_BASE_URL);let A;m&&(A=m.baseOptions);const P=Object.assign(Object.assign({method:"GET"},A),E),q={};void 0!==_&&(q.stream=_),v.setSearchParams(C,q);let Y=A&&A.headers?A.headers:{};return P.headers=Object.assign(Object.assign(Object.assign({},{}),Y),E.headers),{url:v.toPathString(C),options:P}}),listFineTunes:(e={})=>y(this,void 0,void 0,function*(){const E=new URL("/fine-tunes",v.DUMMY_BASE_URL);let b;m&&(b=m.baseOptions);const C=Object.assign(Object.assign({method:"GET"},b),e);v.setSearchParams(E,{});let H=b&&b.headers?b.headers:{};return C.headers=Object.assign(Object.assign(Object.assign({},{}),H),e.headers),{url:v.toPathString(E),options:C}}),listModels:(e={})=>y(this,void 0,void 0,function*(){const E=new URL("/models",v.DUMMY_BASE_URL);let b;m&&(b=m.baseOptions);const C=Object.assign(Object.assign({method:"GET"},b),e);v.setSearchParams(E,{});let H=b&&b.headers?b.headers:{};return C.headers=Object.assign(Object.assign(Object.assign({},{}),H),e.headers),{url:v.toPathString(E),options:C}}),retrieveEngine:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("retrieveEngine","engineId",e);const E="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(e))),b=new URL(E,v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"GET"},C),_);v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},{}),q),_.headers),{url:v.toPathString(b),options:A}}),retrieveFile:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("retrieveFile","fileId",e);const E="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(e))),b=new URL(E,v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"GET"},C),_);v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},{}),q),_.headers),{url:v.toPathString(b),options:A}}),retrieveFineTune:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("retrieveFineTune","fineTuneId",e);const E="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(e))),b=new URL(E,v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"GET"},C),_);v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},{}),q),_.headers),{url:v.toPathString(b),options:A}}),retrieveModel:(e,_={})=>y(this,void 0,void 0,function*(){v.assertParamExists("retrieveModel","model",e);const E="/models/{model}".replace("{model}",encodeURIComponent(String(e))),b=new URL(E,v.DUMMY_BASE_URL);let C;m&&(C=m.baseOptions);const A=Object.assign(Object.assign({method:"GET"},C),_);v.setSearchParams(b,{});let q=C&&C.headers?C.headers:{};return A.headers=Object.assign(Object.assign(Object.assign({},{}),q),_.headers),{url:v.toPathString(b),options:A}})}},G.OpenAIApiFp=function(m){const e=G.OpenAIApiAxiosParamCreator(m);return{cancelFineTune(_,E){return y(this,void 0,void 0,function*(){const b=yield e.cancelFineTune(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createAnswer(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createAnswer(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createChatCompletion(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createChatCompletion(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createClassification(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createClassification(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createCompletion(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createCompletion(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createEdit(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createEdit(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createEmbedding(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createEmbedding(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createFile(_,E,b){return y(this,void 0,void 0,function*(){const C=yield e.createFile(_,E,b);return v.createRequestFunction(C,D.default,c.BASE_PATH,m)})},createFineTune(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createFineTune(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createImage(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createImage(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createImageEdit(_,E,b,C,A,P,H,q){return y(this,void 0,void 0,function*(){const Y=yield e.createImageEdit(_,E,b,C,A,P,H,q);return v.createRequestFunction(Y,D.default,c.BASE_PATH,m)})},createImageVariation(_,E,b,C,A,P){return y(this,void 0,void 0,function*(){const H=yield e.createImageVariation(_,E,b,C,A,P);return v.createRequestFunction(H,D.default,c.BASE_PATH,m)})},createModeration(_,E){return y(this,void 0,void 0,function*(){const b=yield e.createModeration(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},createSearch(_,E,b){return y(this,void 0,void 0,function*(){const C=yield e.createSearch(_,E,b);return v.createRequestFunction(C,D.default,c.BASE_PATH,m)})},createTranscription(_,E,b,C,A,P,H){return y(this,void 0,void 0,function*(){const q=yield e.createTranscription(_,E,b,C,A,P,H);return v.createRequestFunction(q,D.default,c.BASE_PATH,m)})},createTranslation(_,E,b,C,A,P){return y(this,void 0,void 0,function*(){const H=yield e.createTranslation(_,E,b,C,A,P);return v.createRequestFunction(H,D.default,c.BASE_PATH,m)})},deleteFile(_,E){return y(this,void 0,void 0,function*(){const b=yield e.deleteFile(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},deleteModel(_,E){return y(this,void 0,void 0,function*(){const b=yield e.deleteModel(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},downloadFile(_,E){return y(this,void 0,void 0,function*(){const b=yield e.downloadFile(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},listEngines(_){return y(this,void 0,void 0,function*(){const E=yield e.listEngines(_);return v.createRequestFunction(E,D.default,c.BASE_PATH,m)})},listFiles(_){return y(this,void 0,void 0,function*(){const E=yield e.listFiles(_);return v.createRequestFunction(E,D.default,c.BASE_PATH,m)})},listFineTuneEvents(_,E,b){return y(this,void 0,void 0,function*(){const C=yield e.listFineTuneEvents(_,E,b);return v.createRequestFunction(C,D.default,c.BASE_PATH,m)})},listFineTunes(_){return y(this,void 0,void 0,function*(){const E=yield e.listFineTunes(_);return v.createRequestFunction(E,D.default,c.BASE_PATH,m)})},listModels(_){return y(this,void 0,void 0,function*(){const E=yield e.listModels(_);return v.createRequestFunction(E,D.default,c.BASE_PATH,m)})},retrieveEngine(_,E){return y(this,void 0,void 0,function*(){const b=yield e.retrieveEngine(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},retrieveFile(_,E){return y(this,void 0,void 0,function*(){const b=yield e.retrieveFile(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},retrieveFineTune(_,E){return y(this,void 0,void 0,function*(){const b=yield e.retrieveFineTune(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})},retrieveModel(_,E){return y(this,void 0,void 0,function*(){const b=yield e.retrieveModel(_,E);return v.createRequestFunction(b,D.default,c.BASE_PATH,m)})}}},G.OpenAIApiFactory=function(m,e,_){const E=G.OpenAIApiFp(m);return{cancelFineTune:(b,C)=>E.cancelFineTune(b,C).then(A=>A(_,e)),createAnswer:(b,C)=>E.createAnswer(b,C).then(A=>A(_,e)),createChatCompletion:(b,C)=>E.createChatCompletion(b,C).then(A=>A(_,e)),createClassification:(b,C)=>E.createClassification(b,C).then(A=>A(_,e)),createCompletion:(b,C)=>E.createCompletion(b,C).then(A=>A(_,e)),createEdit:(b,C)=>E.createEdit(b,C).then(A=>A(_,e)),createEmbedding:(b,C)=>E.createEmbedding(b,C).then(A=>A(_,e)),createFile:(b,C,A)=>E.createFile(b,C,A).then(P=>P(_,e)),createFineTune:(b,C)=>E.createFineTune(b,C).then(A=>A(_,e)),createImage:(b,C)=>E.createImage(b,C).then(A=>A(_,e)),createImageEdit:(b,C,A,P,H,q,Y,z)=>E.createImageEdit(b,C,A,P,H,q,Y,z).then(J=>J(_,e)),createImageVariation:(b,C,A,P,H,q)=>E.createImageVariation(b,C,A,P,H,q).then(Y=>Y(_,e)),createModeration:(b,C)=>E.createModeration(b,C).then(A=>A(_,e)),createSearch:(b,C,A)=>E.createSearch(b,C,A).then(P=>P(_,e)),createTranscription:(b,C,A,P,H,q,Y)=>E.createTranscription(b,C,A,P,H,q,Y).then(z=>z(_,e)),createTranslation:(b,C,A,P,H,q)=>E.createTranslation(b,C,A,P,H,q).then(Y=>Y(_,e)),deleteFile:(b,C)=>E.deleteFile(b,C).then(A=>A(_,e)),deleteModel:(b,C)=>E.deleteModel(b,C).then(A=>A(_,e)),downloadFile:(b,C)=>E.downloadFile(b,C).then(A=>A(_,e)),listEngines:b=>E.listEngines(b).then(C=>C(_,e)),listFiles:b=>E.listFiles(b).then(C=>C(_,e)),listFineTuneEvents:(b,C,A)=>E.listFineTuneEvents(b,C,A).then(P=>P(_,e)),listFineTunes:b=>E.listFineTunes(b).then(C=>C(_,e)),listModels:b=>E.listModels(b).then(C=>C(_,e)),retrieveEngine:(b,C)=>E.retrieveEngine(b,C).then(A=>A(_,e)),retrieveFile:(b,C)=>E.retrieveFile(b,C).then(A=>A(_,e)),retrieveFineTune:(b,C)=>E.retrieveFineTune(b,C).then(A=>A(_,e)),retrieveModel:(b,C)=>E.retrieveModel(b,C).then(A=>A(_,e))}},G.OpenAIApi=class g extends c.BaseAPI{cancelFineTune(e,_){return G.OpenAIApiFp(this.configuration).cancelFineTune(e,_).then(E=>E(this.axios,this.basePath))}createAnswer(e,_){return G.OpenAIApiFp(this.configuration).createAnswer(e,_).then(E=>E(this.axios,this.basePath))}createChatCompletion(e,_){return G.OpenAIApiFp(this.configuration).createChatCompletion(e,_).then(E=>E(this.axios,this.basePath))}createClassification(e,_){return G.OpenAIApiFp(this.configuration).createClassification(e,_).then(E=>E(this.axios,this.basePath))}createCompletion(e,_){return G.OpenAIApiFp(this.configuration).createCompletion(e,_).then(E=>E(this.axios,this.basePath))}createEdit(e,_){return G.OpenAIApiFp(this.configuration).createEdit(e,_).then(E=>E(this.axios,this.basePath))}createEmbedding(e,_){return G.OpenAIApiFp(this.configuration).createEmbedding(e,_).then(E=>E(this.axios,this.basePath))}createFile(e,_,E){return G.OpenAIApiFp(this.configuration).createFile(e,_,E).then(b=>b(this.axios,this.basePath))}createFineTune(e,_){return G.OpenAIApiFp(this.configuration).createFineTune(e,_).then(E=>E(this.axios,this.basePath))}createImage(e,_){return G.OpenAIApiFp(this.configuration).createImage(e,_).then(E=>E(this.axios,this.basePath))}createImageEdit(e,_,E,b,C,A,P,H){return G.OpenAIApiFp(this.configuration).createImageEdit(e,_,E,b,C,A,P,H).then(q=>q(this.axios,this.basePath))}createImageVariation(e,_,E,b,C,A){return G.OpenAIApiFp(this.configuration).createImageVariation(e,_,E,b,C,A).then(P=>P(this.axios,this.basePath))}createModeration(e,_){return G.OpenAIApiFp(this.configuration).createModeration(e,_).then(E=>E(this.axios,this.basePath))}createSearch(e,_,E){return G.OpenAIApiFp(this.configuration).createSearch(e,_,E).then(b=>b(this.axios,this.basePath))}createTranscription(e,_,E,b,C,A,P){return G.OpenAIApiFp(this.configuration).createTranscription(e,_,E,b,C,A,P).then(H=>H(this.axios,this.basePath))}createTranslation(e,_,E,b,C,A){return G.OpenAIApiFp(this.configuration).createTranslation(e,_,E,b,C,A).then(P=>P(this.axios,this.basePath))}deleteFile(e,_){return G.OpenAIApiFp(this.configuration).deleteFile(e,_).then(E=>E(this.axios,this.basePath))}deleteModel(e,_){return G.OpenAIApiFp(this.configuration).deleteModel(e,_).then(E=>E(this.axios,this.basePath))}downloadFile(e,_){return G.OpenAIApiFp(this.configuration).downloadFile(e,_).then(E=>E(this.axios,this.basePath))}listEngines(e){return G.OpenAIApiFp(this.configuration).listEngines(e).then(_=>_(this.axios,this.basePath))}listFiles(e){return G.OpenAIApiFp(this.configuration).listFiles(e).then(_=>_(this.axios,this.basePath))}listFineTuneEvents(e,_,E){return G.OpenAIApiFp(this.configuration).listFineTuneEvents(e,_,E).then(b=>b(this.axios,this.basePath))}listFineTunes(e){return G.OpenAIApiFp(this.configuration).listFineTunes(e).then(_=>_(this.axios,this.basePath))}listModels(e){return G.OpenAIApiFp(this.configuration).listModels(e).then(_=>_(this.axios,this.basePath))}retrieveEngine(e,_){return G.OpenAIApiFp(this.configuration).retrieveEngine(e,_).then(E=>E(this.axios,this.basePath))}retrieveFile(e,_){return G.OpenAIApiFp(this.configuration).retrieveFile(e,_).then(E=>E(this.axios,this.basePath))}retrieveFineTune(e,_){return G.OpenAIApiFp(this.configuration).retrieveFineTune(e,_).then(E=>E(this.axios,this.basePath))}retrieveModel(e,_){return G.OpenAIApiFp(this.configuration).retrieveModel(e,_).then(E=>E(this.axios,this.basePath))}}},3078:(te,G,M)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.RequiredError=G.BaseAPI=G.COLLECTION_FORMATS=G.BASE_PATH=void 0;const y=M(5295);G.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),G.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"},G.BaseAPI=class D{constructor(g,m=G.BASE_PATH,e=y.default){this.basePath=m,this.axios=e,g&&(this.configuration=g,this.basePath=g.basePath||this.basePath)}};class v extends Error{constructor(g,m){super(m),this.field=g,this.name="RequiredError"}}G.RequiredError=v},800:function(te,G,M){"use strict";var y=this&&this.__awaiter||function(c,g,m,e){return new(m||(m=Promise))(function(E,b){function C(H){try{P(e.next(H))}catch(q){b(q)}}function A(H){try{P(e.throw(H))}catch(q){b(q)}}function P(H){H.done?E(H.value):function _(E){return E instanceof m?E:new m(function(b){b(E)})}(H.value).then(C,A)}P((e=e.apply(c,g||[])).next())})};Object.defineProperty(G,"__esModule",{value:!0}),G.createRequestFunction=G.toPathString=G.serializeDataIfNeeded=G.setSearchParams=G.setOAuthToObject=G.setBearerAuthToObject=G.setBasicAuthToObject=G.setApiKeyToObject=G.assertParamExists=G.DUMMY_BASE_URL=void 0;const D=M(3078);function v(c,g,m=""){null!=g&&("object"==typeof g?Array.isArray(g)?g.forEach(e=>v(c,e,m)):Object.keys(g).forEach(e=>v(c,g[e],`${m}${""!==m?".":""}${e}`)):c.has(m)?c.append(m,g):c.set(m,g))}G.DUMMY_BASE_URL="https://example.com",G.assertParamExists=function(c,g,m){if(null==m)throw new D.RequiredError(g,`Required parameter ${g} was null or undefined when calling ${c}.`)},G.setApiKeyToObject=function(c,g,m){return y(this,void 0,void 0,function*(){if(m&&m.apiKey){const e="function"==typeof m.apiKey?yield m.apiKey(g):yield m.apiKey;c[g]=e}})},G.setBasicAuthToObject=function(c,g){g&&(g.username||g.password)&&(c.auth={username:g.username,password:g.password})},G.setBearerAuthToObject=function(c,g){return y(this,void 0,void 0,function*(){if(g&&g.accessToken){const m="function"==typeof g.accessToken?yield g.accessToken():yield g.accessToken;c.Authorization="Bearer "+m}})},G.setOAuthToObject=function(c,g,m,e){return y(this,void 0,void 0,function*(){if(e&&e.accessToken){const _="function"==typeof e.accessToken?yield e.accessToken(g,m):yield e.accessToken;c.Authorization="Bearer "+_}})},G.setSearchParams=function(c,...g){const m=new URLSearchParams(c.search);v(m,g),c.search=m.toString()},G.serializeDataIfNeeded=function(c,g,m){const e="string"!=typeof c;return(e&&m&&m.isJsonMime?m.isJsonMime(g.headers["Content-Type"]):e)?JSON.stringify(void 0!==c?c:{}):c||""},G.toPathString=function(c){return c.pathname+c.search+c.hash},G.createRequestFunction=function(c,g,m,e){return(_=g,E=m)=>{const b=Object.assign(Object.assign({},c.options),{url:(e?.basePath||E)+c.url});return _.request(b)}}},4556:(te,G,M)=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0}),G.Configuration=void 0;const y=M(2811);G.Configuration=class D{constructor(c={}){this.apiKey=c.apiKey,this.organization=c.organization,this.username=c.username,this.password=c.password,this.accessToken=c.accessToken,this.basePath=c.basePath,this.baseOptions=c.baseOptions,this.formDataCtor=c.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${y.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=M(71))}isJsonMime(c){const g=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==c&&(g.test(c)||"application/json-patch+json"===c.toLowerCase())}}},8526:function(te,G,M){"use strict";var y=this&&this.__createBinding||(Object.create?function(v,c,g,m){void 0===m&&(m=g),Object.defineProperty(v,m,{enumerable:!0,get:function(){return c[g]}})}:function(v,c,g,m){void 0===m&&(m=g),v[m]=c[g]}),D=this&&this.__exportStar||function(v,c){for(var g in v)"default"!==g&&!c.hasOwnProperty(g)&&y(c,v,g)};Object.defineProperty(G,"__esModule",{value:!0}),D(M(7728),G),D(M(4556),G)},5295:(te,G,M)=>{te.exports=M(1992)},1533:(te,G,M)=>{"use strict";var y=M(887),D=M(7362),v=M(5030),c=M(2799),g=M(1624),m=M(527),e=M(8599),_=M(7469),E=M(653),b=M(4062);te.exports=function(A){return new Promise(function(H,q){var Z,Y=A.data,z=A.headers,J=A.responseType;function w(){A.cancelToken&&A.cancelToken.unsubscribe(Z),A.signal&&A.signal.removeEventListener("abort",Z)}y.isFormData(Y)&&delete z["Content-Type"];var a=new XMLHttpRequest;if(A.auth){var l=A.auth.username||"",u=A.auth.password?unescape(encodeURIComponent(A.auth.password)):"";z.Authorization="Basic "+btoa(l+":"+u)}var T=g(A.baseURL,A.url);function f(){if(a){var k="getAllResponseHeaders"in a?m(a.getAllResponseHeaders()):null;D(function(oe){H(oe),w()},function(oe){q(oe),w()},{data:J&&"text"!==J&&"json"!==J?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:k,config:A,request:a}),a=null}}if(a.open(A.method.toUpperCase(),c(T,A.params,A.paramsSerializer),!0),a.timeout=A.timeout,"onloadend"in a?a.onloadend=f:a.onreadystatechange=function(){!a||4!==a.readyState||0===a.status&&(!a.responseURL||0!==a.responseURL.indexOf("file:"))||setTimeout(f)},a.onabort=function(){a&&(q(_("Request aborted",A,"ECONNABORTED",a)),a=null)},a.onerror=function(){q(_("Network Error",A,null,a)),a=null},a.ontimeout=function(){var Q=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";A.timeoutErrorMessage&&(Q=A.timeoutErrorMessage),q(_(Q,A,(A.transitional||E).clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",a)),a=null},y.isStandardBrowserEnv()){var U=(A.withCredentials||e(T))&&A.xsrfCookieName?v.read(A.xsrfCookieName):void 0;U&&(z[A.xsrfHeaderName]=U)}"setRequestHeader"in a&&y.forEach(z,function(Q,ne){typeof Y>"u"&&"content-type"===ne.toLowerCase()?delete z[ne]:a.setRequestHeader(ne,Q)}),y.isUndefined(A.withCredentials)||(a.withCredentials=!!A.withCredentials),J&&"json"!==J&&(a.responseType=A.responseType),"function"==typeof A.onDownloadProgress&&a.addEventListener("progress",A.onDownloadProgress),"function"==typeof A.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",A.onUploadProgress),(A.cancelToken||A.signal)&&(Z=function(k){a&&(q(!k||k&&k.type?new b("canceled"):k),a.abort(),a=null)},A.cancelToken&&A.cancelToken.subscribe(Z),A.signal&&(A.signal.aborted?Z():A.signal.addEventListener("abort",Z))),Y||(Y=null),a.send(Y)})}},1992:(te,G,M)=>{"use strict";var y=M(887),D=M(5423),v=M(9458),c=M(9475),e=function m(_){var E=new v(_),b=D(v.prototype.request,E);return y.extend(b,v.prototype,E),y.extend(b,E),b.create=function(A){return m(c(_,A))},b}(M(331));e.Axios=v,e.Cancel=M(4062),e.CancelToken=M(9148),e.isCancel=M(1870),e.VERSION=M(3665).version,e.all=function(E){return Promise.all(E)},e.spread=M(7572),e.isAxiosError=M(381),te.exports=e,te.exports.default=e},4062:te=>{"use strict";function G(M){this.message=M}G.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},G.prototype.__CANCEL__=!0,te.exports=G},9148:(te,G,M)=>{"use strict";var y=M(4062);function D(v){if("function"!=typeof v)throw new TypeError("executor must be a function.");var c;this.promise=new Promise(function(e){c=e});var g=this;this.promise.then(function(m){if(g._listeners){var e,_=g._listeners.length;for(e=0;e<_;e++)g._listeners[e](m);g._listeners=null}}),this.promise.then=function(m){var e,_=new Promise(function(E){g.subscribe(E),e=E}).then(m);return _.cancel=function(){g.unsubscribe(e)},_},v(function(e){g.reason||(g.reason=new y(e),c(g.reason))})}D.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},D.prototype.subscribe=function(c){this.reason?c(this.reason):this._listeners?this._listeners.push(c):this._listeners=[c]},D.prototype.unsubscribe=function(c){if(this._listeners){var g=this._listeners.indexOf(c);-1!==g&&this._listeners.splice(g,1)}},D.source=function(){var c;return{token:new D(function(e){c=e}),cancel:c}},te.exports=D},1870:te=>{"use strict";te.exports=function(M){return!(!M||!M.__CANCEL__)}},9458:(te,G,M)=>{"use strict";var y=M(887),D=M(2799),v=M(1414),c=M(295),g=M(9475),m=M(2899),e=m.validators;function _(E){this.defaults=E,this.interceptors={request:new v,response:new v}}_.prototype.request=function(b,C){"string"==typeof b?(C=C||{}).url=b:C=b||{},(C=g(this.defaults,C)).method=C.method?C.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var A=C.transitional;void 0!==A&&m.assertOptions(A,{silentJSONParsing:e.transitional(e.boolean),forcedJSONParsing:e.transitional(e.boolean),clarifyTimeoutError:e.transitional(e.boolean)},!1);var P=[],H=!0;this.interceptors.request.forEach(function(l){"function"==typeof l.runWhen&&!1===l.runWhen(C)||(H=H&&l.synchronous,P.unshift(l.fulfilled,l.rejected))});var Y,q=[];if(this.interceptors.response.forEach(function(l){q.push(l.fulfilled,l.rejected)}),!H){var z=[c,void 0];for(Array.prototype.unshift.apply(z,P),z=z.concat(q),Y=Promise.resolve(C);z.length;)Y=Y.then(z.shift(),z.shift());return Y}for(var J=C;P.length;){var Z=P.shift(),w=P.shift();try{J=Z(J)}catch(a){w(a);break}}try{Y=c(J)}catch(a){return Promise.reject(a)}for(;q.length;)Y=Y.then(q.shift(),q.shift());return Y},_.prototype.getUri=function(b){return b=g(this.defaults,b),D(b.url,b.params,b.paramsSerializer).replace(/^\?/,"")},y.forEach(["delete","get","head","options"],function(b){_.prototype[b]=function(C,A){return this.request(g(A||{},{method:b,url:C,data:(A||{}).data}))}}),y.forEach(["post","put","patch"],function(b){_.prototype[b]=function(C,A,P){return this.request(g(P||{},{method:b,url:C,data:A}))}}),te.exports=_},1414:(te,G,M)=>{"use strict";var y=M(887);function D(){this.handlers=[]}D.prototype.use=function(c,g,m){return this.handlers.push({fulfilled:c,rejected:g,synchronous:!!m&&m.synchronous,runWhen:m?m.runWhen:null}),this.handlers.length-1},D.prototype.eject=function(c){this.handlers[c]&&(this.handlers[c]=null)},D.prototype.forEach=function(c){y.forEach(this.handlers,function(m){null!==m&&c(m)})},te.exports=D},1624:(te,G,M)=>{"use strict";var y=M(7901),D=M(9615);te.exports=function(c,g){return c&&!y(g)?D(c,g):g}},7469:(te,G,M)=>{"use strict";var y=M(5310);te.exports=function(v,c,g,m,e){var _=new Error(v);return y(_,c,g,m,e)}},295:(te,G,M)=>{"use strict";var y=M(887),D=M(5953),v=M(1870),c=M(331),g=M(4062);function m(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new g("canceled")}te.exports=function(_){return m(_),_.headers=_.headers||{},_.data=D.call(_,_.data,_.headers,_.transformRequest),_.headers=y.merge(_.headers.common||{},_.headers[_.method]||{},_.headers),y.forEach(["delete","get","head","post","put","patch","common"],function(C){delete _.headers[C]}),(_.adapter||c.adapter)(_).then(function(C){return m(_),C.data=D.call(_,C.data,C.headers,_.transformResponse),C},function(C){return v(C)||(m(_),C&&C.response&&(C.response.data=D.call(_,C.response.data,C.response.headers,_.transformResponse))),Promise.reject(C)})}},5310:te=>{"use strict";te.exports=function(M,y,D,v,c){return M.config=y,D&&(M.code=D),M.request=v,M.response=c,M.isAxiosError=!0,M.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},M}},9475:(te,G,M)=>{"use strict";var y=M(887);te.exports=function(v,c){c=c||{};var g={};function m(A,P){return y.isPlainObject(A)&&y.isPlainObject(P)?y.merge(A,P):y.isPlainObject(P)?y.merge({},P):y.isArray(P)?P.slice():P}function e(A){return y.isUndefined(c[A])?y.isUndefined(v[A])?void 0:m(void 0,v[A]):m(v[A],c[A])}function _(A){if(!y.isUndefined(c[A]))return m(void 0,c[A])}function E(A){return y.isUndefined(c[A])?y.isUndefined(v[A])?void 0:m(void 0,v[A]):m(void 0,c[A])}function b(A){return A in c?m(v[A],c[A]):A in v?m(void 0,v[A]):void 0}var C={url:_,method:_,data:_,baseURL:E,transformRequest:E,transformResponse:E,paramsSerializer:E,timeout:E,timeoutMessage:E,withCredentials:E,adapter:E,responseType:E,xsrfCookieName:E,xsrfHeaderName:E,onUploadProgress:E,onDownloadProgress:E,decompress:E,maxContentLength:E,maxBodyLength:E,transport:E,httpAgent:E,httpsAgent:E,cancelToken:E,socketPath:E,responseEncoding:E,validateStatus:b};return y.forEach(Object.keys(v).concat(Object.keys(c)),function(P){var H=C[P]||e,q=H(P);y.isUndefined(q)&&H!==b||(g[P]=q)}),g}},7362:(te,G,M)=>{"use strict";var y=M(7469);te.exports=function(v,c,g){var m=g.config.validateStatus;g.status&&m&&!m(g.status)?c(y("Request failed with status code "+g.status,g.config,null,g.request,g)):v(g)}},5953:(te,G,M)=>{"use strict";var y=M(887),D=M(331);te.exports=function(c,g,m){var e=this||D;return y.forEach(m,function(E){c=E.call(e,c,g)}),c}},331:(te,G,M)=>{"use strict";var y=M(887),D=M(9448),v=M(5310),c=M(653),g={"Content-Type":"application/x-www-form-urlencoded"};function m(b,C){!y.isUndefined(b)&&y.isUndefined(b["Content-Type"])&&(b["Content-Type"]=C)}var E={transitional:c,adapter:function e(){var b;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&"[object process]"===Object.prototype.toString.call(process))&&(b=M(1533)),b}(),transformRequest:[function(C,A){return D(A,"Accept"),D(A,"Content-Type"),y.isFormData(C)||y.isArrayBuffer(C)||y.isBuffer(C)||y.isStream(C)||y.isFile(C)||y.isBlob(C)?C:y.isArrayBufferView(C)?C.buffer:y.isURLSearchParams(C)?(m(A,"application/x-www-form-urlencoded;charset=utf-8"),C.toString()):y.isObject(C)||A&&"application/json"===A["Content-Type"]?(m(A,"application/json"),function _(b,C,A){if(y.isString(b))try{return(C||JSON.parse)(b),y.trim(b)}catch(P){if("SyntaxError"!==P.name)throw P}return(A||JSON.stringify)(b)}(C)):C}],transformResponse:[function(C){var A=this.transitional||E.transitional,q=!(A&&A.silentJSONParsing)&&"json"===this.responseType;if(q||A&&A.forcedJSONParsing&&y.isString(C)&&C.length)try{return JSON.parse(C)}catch(Y){if(q)throw"SyntaxError"===Y.name?v(Y,this,"E_JSON_PARSE"):Y}return C}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(C){return C>=200&&C<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};y.forEach(["delete","get","head"],function(C){E.headers[C]={}}),y.forEach(["post","put","patch"],function(C){E.headers[C]=y.merge(g)}),te.exports=E},653:te=>{"use strict";te.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},3665:te=>{te.exports={version:"0.26.1"}},5423:te=>{"use strict";te.exports=function(M,y){return function(){for(var v=new Array(arguments.length),c=0;c<v.length;c++)v[c]=arguments[c];return M.apply(y,v)}}},2799:(te,G,M)=>{"use strict";var y=M(887);function D(v){return encodeURIComponent(v).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}te.exports=function(c,g,m){if(!g)return c;var e;if(m)e=m(g);else if(y.isURLSearchParams(g))e=g.toString();else{var _=[];y.forEach(g,function(C,A){null===C||typeof C>"u"||(y.isArray(C)?A+="[]":C=[C],y.forEach(C,function(H){y.isDate(H)?H=H.toISOString():y.isObject(H)&&(H=JSON.stringify(H)),_.push(D(A)+"="+D(H))}))}),e=_.join("&")}if(e){var E=c.indexOf("#");-1!==E&&(c=c.slice(0,E)),c+=(-1===c.indexOf("?")?"?":"&")+e}return c}},9615:te=>{"use strict";te.exports=function(M,y){return y?M.replace(/\/+$/,"")+"/"+y.replace(/^\/+/,""):M}},5030:(te,G,M)=>{"use strict";var y=M(887);te.exports=y.isStandardBrowserEnv()?{write:function(c,g,m,e,_,E){var b=[];b.push(c+"="+encodeURIComponent(g)),y.isNumber(m)&&b.push("expires="+new Date(m).toGMTString()),y.isString(e)&&b.push("path="+e),y.isString(_)&&b.push("domain="+_),!0===E&&b.push("secure"),document.cookie=b.join("; ")},read:function(c){var g=document.cookie.match(new RegExp("(^|;\\s*)("+c+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove:function(c){this.write(c,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},7901:te=>{"use strict";te.exports=function(M){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(M)}},381:(te,G,M)=>{"use strict";var y=M(887);te.exports=function(v){return y.isObject(v)&&!0===v.isAxiosError}},8599:(te,G,M)=>{"use strict";var y=M(887);te.exports=y.isStandardBrowserEnv()?function(){var g,v=/(msie|trident)/i.test(navigator.userAgent),c=document.createElement("a");function m(e){var _=e;return v&&(c.setAttribute("href",_),_=c.href),c.setAttribute("href",_),{href:c.href,protocol:c.protocol?c.protocol.replace(/:$/,""):"",host:c.host,search:c.search?c.search.replace(/^\?/,""):"",hash:c.hash?c.hash.replace(/^#/,""):"",hostname:c.hostname,port:c.port,pathname:"/"===c.pathname.charAt(0)?c.pathname:"/"+c.pathname}}return g=m(window.location.href),function(_){var E=y.isString(_)?m(_):_;return E.protocol===g.protocol&&E.host===g.host}}():function(){return!0}},9448:(te,G,M)=>{"use strict";var y=M(887);te.exports=function(v,c){y.forEach(v,function(m,e){e!==c&&e.toUpperCase()===c.toUpperCase()&&(v[c]=m,delete v[e])})}},527:(te,G,M)=>{"use strict";var y=M(887),D=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];te.exports=function(c){var m,e,_,g={};return c&&y.forEach(c.split("\n"),function(b){if(_=b.indexOf(":"),m=y.trim(b.substr(0,_)).toLowerCase(),e=y.trim(b.substr(_+1)),m){if(g[m]&&D.indexOf(m)>=0)return;g[m]="set-cookie"===m?(g[m]?g[m]:[]).concat([e]):g[m]?g[m]+", "+e:e}}),g}},7572:te=>{"use strict";te.exports=function(M){return function(D){return M.apply(null,D)}}},2899:(te,G,M)=>{"use strict";var y=M(3665).version,D={};["object","boolean","number","function","string","symbol"].forEach(function(g,m){D[g]=function(_){return typeof _===g||"a"+(m<1?"n ":" ")+g}});var v={};D.transitional=function(m,e,_){function E(b,C){return"[Axios v"+y+"] Transitional option '"+b+"'"+C+(_?". "+_:"")}return function(b,C,A){if(!1===m)throw new Error(E(C," has been removed"+(e?" in "+e:"")));return e&&!v[C]&&(v[C]=!0,console.warn(E(C," has been deprecated since v"+e+" and will be removed in the near future"))),!m||m(b,C,A)}},te.exports={assertOptions:function c(g,m,e){if("object"!=typeof g)throw new TypeError("options must be an object");for(var _=Object.keys(g),E=_.length;E-- >0;){var b=_[E],C=m[b];if(C){var A=g[b],P=void 0===A||C(A,b,g);if(!0!==P)throw new TypeError("option "+b+" must be "+P)}else if(!0!==e)throw Error("Unknown option "+b)}},validators:D}},887:(te,G,M)=>{"use strict";var y=M(5423),D=Object.prototype.toString;function v(f){return Array.isArray(f)}function c(f){return typeof f>"u"}function m(f){return"[object ArrayBuffer]"===D.call(f)}function C(f){return null!==f&&"object"==typeof f}function A(f){if("[object Object]"!==D.call(f))return!1;var U=Object.getPrototypeOf(f);return null===U||U===Object.prototype}function Y(f){return"[object Function]"===D.call(f)}function a(f,U){if(!(null===f||typeof f>"u"))if("object"!=typeof f&&(f=[f]),v(f))for(var k=0,Q=f.length;k<Q;k++)U.call(null,f[k],k,f);else for(var ne in f)Object.prototype.hasOwnProperty.call(f,ne)&&U.call(null,f[ne],ne,f)}te.exports={isArray:v,isArrayBuffer:m,isBuffer:function g(f){return null!==f&&!c(f)&&null!==f.constructor&&!c(f.constructor)&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)},isFormData:function e(f){return"[object FormData]"===D.call(f)},isArrayBufferView:function _(f){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(f):f&&f.buffer&&m(f.buffer)},isString:function E(f){return"string"==typeof f},isNumber:function b(f){return"number"==typeof f},isObject:C,isPlainObject:A,isUndefined:c,isDate:function P(f){return"[object Date]"===D.call(f)},isFile:function H(f){return"[object File]"===D.call(f)},isBlob:function q(f){return"[object Blob]"===D.call(f)},isFunction:Y,isStream:function z(f){return C(f)&&Y(f.pipe)},isURLSearchParams:function J(f){return"[object URLSearchParams]"===D.call(f)},isStandardBrowserEnv:function w(){return(!(typeof navigator<"u")||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&typeof window<"u"&&typeof document<"u"},forEach:a,merge:function l(){var f={};function U(ne,le){f[le]=A(f[le])&&A(ne)?l(f[le],ne):A(ne)?l({},ne):v(ne)?ne.slice():ne}for(var k=0,Q=arguments.length;k<Q;k++)a(arguments[k],U);return f},extend:function u(f,U,k){return a(U,function(ne,le){f[le]=k&&"function"==typeof ne?y(ne,k):ne}),f},trim:function Z(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")},stripBOM:function T(f){return 65279===f.charCodeAt(0)&&(f=f.slice(1)),f}}},7218:te=>{"use strict";var M={};function y(m,e,_){_||(_=Error);var b=function(C){function A(P,H,q){return C.call(this,function E(C,A,P){return"string"==typeof e?e:e(C,A,P)}(P,H,q))||this}return function G(m,e){m.prototype=Object.create(e.prototype),m.prototype.constructor=m,m.__proto__=e}(A,C),A}(_);b.prototype.name=_.name,b.prototype.code=m,M[m]=b}function D(m,e){if(Array.isArray(m)){var _=m.length;return m=m.map(function(E){return String(E)}),_>2?"one of ".concat(e," ").concat(m.slice(0,_-1).join(", "),", or ")+m[_-1]:2===_?"one of ".concat(e," ").concat(m[0]," or ").concat(m[1]):"of ".concat(e," ").concat(m[0])}return"of ".concat(e," ").concat(String(m))}y("ERR_INVALID_OPT_VALUE",function(m,e){return'The value "'+e+'" is invalid for option "'+m+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(m,e,_){var E,b;if("string"==typeof e&&function v(m,e,_){return m.substr(!_||_<0?0:+_,e.length)===e}(e,"not ")?(E="must not be",e=e.replace(/^not /,"")):E="must be",function c(m,e,_){return(void 0===_||_>m.length)&&(_=m.length),m.substring(_-e.length,_)===e}(m," argument"))b="The ".concat(m," ").concat(E," ").concat(D(e,"type"));else{var C=function g(m,e,_){return"number"!=typeof _&&(_=0),!(_+e.length>m.length)&&-1!==m.indexOf(e,_)}(m,".")?"property":"argument";b='The "'.concat(m,'" ').concat(C," ").concat(E," ").concat(D(e,"type"))}return b+". Received type ".concat(typeof _)},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(m){return"The "+m+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(m){return"Cannot call "+m+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(m){return"Unknown encoding: "+m},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),te.exports.q=M},247:(te,G,M)=>{"use strict";var y=Object.keys||function(b){var C=[];for(var A in b)C.push(A);return C};te.exports=e;var D=M(309),v=M(6563);M(6698)(e,D);for(var c=y(v.prototype),g=0;g<c.length;g++){var m=c[g];e.prototype[m]||(e.prototype[m]=v.prototype[m])}function e(b){if(!(this instanceof e))return new e(b);D.call(this,b),v.call(this,b),this.allowHalfOpen=!0,b&&(!1===b.readable&&(this.readable=!1),!1===b.writable&&(this.writable=!1),!1===b.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",_)))}function _(){this._writableState.ended||process.nextTick(E,this)}function E(b){b.end()}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(C){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=C,this._writableState.destroyed=C)}})},5096:(te,G,M)=>{"use strict";te.exports=D;var y=M(6307);function D(v){if(!(this instanceof D))return new D(v);y.call(this,v)}M(6698)(D,y),D.prototype._transform=function(v,c,g){g(null,v)}},309:(te,G,M)=>{"use strict";var y;te.exports=k,k.ReadableState=U,M(2016);var b,v=function(N,W){return N.listeners(W).length},c=M(8240),g=M(9007).Buffer,m=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},E=M(4616);b=E&&E.debuglog?E.debuglog("stream"):function(){};var w,a,l,C=M(2960),A=M(5601),H=M(8782).getHighWaterMark,q=M(7218).q,Y=q.ERR_INVALID_ARG_TYPE,z=q.ERR_STREAM_PUSH_AFTER_EOF,J=q.ERR_METHOD_NOT_IMPLEMENTED,Z=q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;M(6698)(k,c);var u=A.errorOrDestroy,T=["error","close","destroy","pause","resume"];function U(I,N,W){y=y||M(247),"boolean"!=typeof W&&(W=N instanceof y),this.objectMode=!!(I=I||{}).objectMode,W&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=H(this,I,"readableHighWaterMark",W),this.buffer=new C,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==I.emitClose,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(w||(w=M(2024).s),this.decoder=new w(I.encoding),this.encoding=I.encoding)}function k(I){if(y=y||M(247),!(this instanceof k))return new k(I);this._readableState=new U(I,this,this instanceof y),this.readable=!0,I&&("function"==typeof I.read&&(this._read=I.read),"function"==typeof I.destroy&&(this._destroy=I.destroy)),c.call(this)}function Q(I,N,W,S,d){b("readableAddChunk",N);var L,p=I._readableState;if(null===N)p.reading=!1,function ue(I,N){if(b("onEofChunk"),!N.ended){if(N.decoder){var W=N.decoder.end();W&&W.length&&(N.buffer.push(W),N.length+=N.objectMode?1:W.length)}N.ended=!0,N.sync?pe(I):(N.needReadable=!1,N.emittedReadable||(N.emittedReadable=!0,_e(I)))}}(I,p);else if(d||(L=function le(I,N){var W;return!function _(I){return g.isBuffer(I)||I instanceof m}(N)&&"string"!=typeof N&&void 0!==N&&!I.objectMode&&(W=new Y("chunk",["string","Buffer","Uint8Array"],N)),W}(p,N)),L)u(I,L);else if(p.objectMode||N&&N.length>0)if("string"!=typeof N&&!p.objectMode&&Object.getPrototypeOf(N)!==g.prototype&&(N=function e(I){return g.from(I)}(N)),S)p.endEmitted?u(I,new Z):ne(I,p,N,!0);else if(p.ended)u(I,new z);else{if(p.destroyed)return!1;p.reading=!1,p.decoder&&!W?(N=p.decoder.write(N),p.objectMode||0!==N.length?ne(I,p,N,!1):ee(I,p)):ne(I,p,N,!1)}else S||(p.reading=!1,ee(I,p));return!p.ended&&(p.length<p.highWaterMark||0===p.length)}function ne(I,N,W,S){N.flowing&&0===N.length&&!N.sync?(N.awaitDrain=0,I.emit("data",W)):(N.length+=N.objectMode?1:W.length,S?N.buffer.unshift(W):N.buffer.push(W),N.needReadable&&pe(I)),ee(I,N)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),k.prototype.destroy=A.destroy,k.prototype._undestroy=A.undestroy,k.prototype._destroy=function(I,N){N(I)},k.prototype.push=function(I,N){var S,W=this._readableState;return W.objectMode?S=!0:"string"==typeof I&&((N=N||W.defaultEncoding)!==W.encoding&&(I=g.from(I,N),N=""),S=!0),Q(this,I,N,!1,S)},k.prototype.unshift=function(I){return Q(this,I,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(I){w||(w=M(2024).s);var N=new w(I);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,S="";null!==W;)S+=N.write(W.data),W=W.next;return this._readableState.buffer.clear(),""!==S&&this._readableState.buffer.push(S),this._readableState.length=S.length,this};var oe=1073741824;function B(I,N){return I<=0||0===N.length&&N.ended?0:N.objectMode?1:I!=I?N.flowing&&N.length?N.buffer.head.data.length:N.length:(I>N.highWaterMark&&(N.highWaterMark=function de(I){return I>=oe?I=oe:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}(I)),I<=N.length?I:N.ended?N.length:(N.needReadable=!0,0))}function pe(I){var N=I._readableState;b("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(b("emitReadable",N.flowing),N.emittedReadable=!0,process.nextTick(_e,I))}function _e(I){var N=I._readableState;b("emitReadable_",N.destroyed,N.length,N.ended),!N.destroyed&&(N.length||N.ended)&&(I.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,h(I)}function ee(I,N){N.readingMore||(N.readingMore=!0,process.nextTick(K,I,N))}function K(I,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&0===N.length);){var W=N.length;if(b("maybeReadMore read 0"),I.read(0),W===N.length)break}N.readingMore=!1}function se(I){var N=I._readableState;N.readableListening=I.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:I.listenerCount("data")>0&&I.resume()}function me(I){b("readable nexttick read 0"),I.read(0)}function x(I,N){b("resume",N.reading),N.reading||I.read(0),N.resumeScheduled=!1,I.emit("resume"),h(I),N.flowing&&!N.reading&&I.read(0)}function h(I){var N=I._readableState;for(b("flow",N.flowing);N.flowing&&null!==I.read(););}function F(I,N){return 0===N.length?null:(N.objectMode?W=N.buffer.shift():!I||I>=N.length?(W=N.decoder?N.buffer.join(""):1===N.buffer.length?N.buffer.first():N.buffer.concat(N.length),N.buffer.clear()):W=N.buffer.consume(I,N.decoder),W);var W}function R(I){var N=I._readableState;b("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,process.nextTick(ce,N,I))}function ce(I,N){if(b("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&0===I.length&&(I.endEmitted=!0,N.readable=!1,N.emit("end"),I.autoDestroy)){var W=N._writableState;(!W||W.autoDestroy&&W.finished)&&N.destroy()}}function he(I,N){for(var W=0,S=I.length;W<S;W++)if(I[W]===N)return W;return-1}k.prototype.read=function(I){b("read",I),I=parseInt(I,10);var N=this._readableState,W=I;if(0!==I&&(N.emittedReadable=!1),0===I&&N.needReadable&&((0!==N.highWaterMark?N.length>=N.highWaterMark:N.length>0)||N.ended))return b("read: emitReadable",N.length,N.ended),0===N.length&&N.ended?R(this):pe(this),null;if(0===(I=B(I,N))&&N.ended)return 0===N.length&&R(this),null;var d,S=N.needReadable;return b("need readable",S),(0===N.length||N.length-I<N.highWaterMark)&&b("length less than watermark",S=!0),N.ended||N.reading?b("reading or ended",S=!1):S&&(b("do read"),N.reading=!0,N.sync=!0,0===N.length&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(I=B(W,N))),null===(d=I>0?F(I,N):null)?(N.needReadable=N.length<=N.highWaterMark,I=0):(N.length-=I,N.awaitDrain=0),0===N.length&&(N.ended||(N.needReadable=!0),W!==I&&N.ended&&R(this)),null!==d&&this.emit("data",d),d},k.prototype._read=function(I){u(this,new J("_read()"))},k.prototype.pipe=function(I,N){var W=this,S=this._readableState;switch(S.pipesCount){case 0:S.pipes=I;break;case 1:S.pipes=[S.pipes,I];break;default:S.pipes.push(I)}S.pipesCount+=1,b("pipe count=%d opts=%j",S.pipesCount,N);var p=N&&!1===N.end||I===process.stdout||I===process.stderr?Ue:V;function V(){b("onend"),I.end()}S.endEmitted?process.nextTick(p):W.once("end",p),I.on("unpipe",function L(Je,Be){b("onunpipe"),Je===W&&Be&&!1===Be.hasUnpiped&&(Be.hasUnpiped=!0,function ye(){b("cleanup"),I.removeListener("close",xe),I.removeListener("finish",Me),I.removeListener("drain",re),I.removeListener("error",we),I.removeListener("unpipe",L),W.removeListener("end",V),W.removeListener("end",Ue),W.removeListener("data",Oe),fe=!0,S.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&re()}())});var re=function ae(I){return function(){var W=I._readableState;b("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,0===W.awaitDrain&&v(I,"data")&&(W.flowing=!0,h(I))}}(W);I.on("drain",re);var fe=!1;function Oe(Je){b("ondata");var Be=I.write(Je);b("dest.write",Be),!1===Be&&((1===S.pipesCount&&S.pipes===I||S.pipesCount>1&&-1!==he(S.pipes,I))&&!fe&&(b("false write response, pause",S.awaitDrain),S.awaitDrain++),W.pause())}function we(Je){b("onerror",Je),Ue(),I.removeListener("error",we),0===v(I,"error")&&u(I,Je)}function xe(){I.removeListener("finish",Me),Ue()}function Me(){b("onfinish"),I.removeListener("close",xe),Ue()}function Ue(){b("unpipe"),W.unpipe(I)}return W.on("data",Oe),function f(I,N,W){if("function"==typeof I.prependListener)return I.prependListener(N,W);I._events&&I._events[N]?Array.isArray(I._events[N])?I._events[N].unshift(W):I._events[N]=[W,I._events[N]]:I.on(N,W)}(I,"error",we),I.once("close",xe),I.once("finish",Me),I.emit("pipe",W),S.flowing||(b("pipe resume"),W.resume()),I},k.prototype.unpipe=function(I){var N=this._readableState,W={hasUnpiped:!1};if(0===N.pipesCount)return this;if(1===N.pipesCount)return I&&I!==N.pipes||(I||(I=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,I&&I.emit("unpipe",this,W)),this;if(!I){var S=N.pipes,d=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var p=0;p<d;p++)S[p].emit("unpipe",this,{hasUnpiped:!1});return this}var L=he(N.pipes,I);return-1===L||(N.pipes.splice(L,1),N.pipesCount-=1,1===N.pipesCount&&(N.pipes=N.pipes[0]),I.emit("unpipe",this,W)),this},k.prototype.addListener=k.prototype.on=function(I,N){var W=c.prototype.on.call(this,I,N),S=this._readableState;return"data"===I?(S.readableListening=this.listenerCount("readable")>0,!1!==S.flowing&&this.resume()):"readable"===I&&!S.endEmitted&&!S.readableListening&&(S.readableListening=S.needReadable=!0,S.flowing=!1,S.emittedReadable=!1,b("on readable",S.length,S.reading),S.length?pe(this):S.reading||process.nextTick(me,this)),W},k.prototype.removeListener=function(I,N){var W=c.prototype.removeListener.call(this,I,N);return"readable"===I&&process.nextTick(se,this),W},k.prototype.removeAllListeners=function(I){var N=c.prototype.removeAllListeners.apply(this,arguments);return("readable"===I||void 0===I)&&process.nextTick(se,this),N},k.prototype.resume=function(){var I=this._readableState;return I.flowing||(b("resume"),I.flowing=!I.readableListening,function $(I,N){N.resumeScheduled||(N.resumeScheduled=!0,process.nextTick(x,I,N))}(this,I)),I.paused=!1,this},k.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(I){var N=this,W=this._readableState,S=!1;for(var d in I.on("end",function(){if(b("wrapped end"),W.decoder&&!W.ended){var L=W.decoder.end();L&&L.length&&N.push(L)}N.push(null)}),I.on("data",function(L){b("wrapped data"),W.decoder&&(L=W.decoder.write(L)),W.objectMode&&null==L||!(W.objectMode||L&&L.length)||N.push(L)||(S=!0,I.pause())}),I)void 0===this[d]&&"function"==typeof I[d]&&(this[d]=function(V){return function(){return I[V].apply(I,arguments)}}(d));for(var p=0;p<T.length;p++)I.on(T[p],this.emit.bind(this,T[p]));return this._read=function(L){b("wrapped _read",L),S&&(S=!1,I.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===a&&(a=M(8637)),a(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),k._fromList=F,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(I,N){return void 0===l&&(l=M(3335)),l(k,I,N)})},6307:(te,G,M)=>{"use strict";te.exports=_;var y=M(7218).q,D=y.ERR_METHOD_NOT_IMPLEMENTED,v=y.ERR_MULTIPLE_CALLBACK,c=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,g=y.ERR_TRANSFORM_WITH_LENGTH_0,m=M(247);function e(C,A){var P=this._transformState;P.transforming=!1;var H=P.writecb;if(null===H)return this.emit("error",new v);P.writechunk=null,P.writecb=null,null!=A&&this.push(A),H(C);var q=this._readableState;q.reading=!1,(q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}function _(C){if(!(this instanceof _))return new _(C);m.call(this,C),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,C&&("function"==typeof C.transform&&(this._transform=C.transform),"function"==typeof C.flush&&(this._flush=C.flush)),this.on("prefinish",E)}function E(){var C=this;"function"!=typeof this._flush||this._readableState.destroyed?b(this,null,null):this._flush(function(A,P){b(C,A,P)})}function b(C,A,P){if(A)return C.emit("error",A);if(null!=P&&C.push(P),C._writableState.length)throw new g;if(C._transformState.transforming)throw new c;return C.push(null)}M(6698)(_,m),_.prototype.push=function(C,A){return this._transformState.needTransform=!1,m.prototype.push.call(this,C,A)},_.prototype._transform=function(C,A,P){P(new D("_transform()"))},_.prototype._write=function(C,A,P){var H=this._transformState;if(H.writecb=P,H.writechunk=C,H.writeencoding=A,!H.transforming){var q=this._readableState;(H.needTransform||q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}},_.prototype._read=function(C){var A=this._transformState;null===A.writechunk||A.transforming?A.needTransform=!0:(A.transforming=!0,this._transform(A.writechunk,A.writeencoding,A.afterTransform))},_.prototype._destroy=function(C,A){m.prototype._destroy.call(this,C,function(P){A(P)})}},6563:(te,G,M)=>{"use strict";function D(h){var F=this;this.next=null,this.entry=null,this.finish=function(){!function x(h,F,R){var ce=h.entry;for(h.entry=null;ce;){var he=ce.callback;F.pendingcb--,he(R),ce=ce.next}F.corkedRequestsFree.next=h}(F,h)}}var v;te.exports=U,U.WritableState=T;var f,c={deprecate:M(496)},g=M(8240),m=M(9007).Buffer,e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b=M(5601),A=M(8782).getHighWaterMark,P=M(7218).q,H=P.ERR_INVALID_ARG_TYPE,q=P.ERR_METHOD_NOT_IMPLEMENTED,Y=P.ERR_MULTIPLE_CALLBACK,z=P.ERR_STREAM_CANNOT_PIPE,J=P.ERR_STREAM_DESTROYED,Z=P.ERR_STREAM_NULL_VALUES,w=P.ERR_STREAM_WRITE_AFTER_END,a=P.ERR_UNKNOWN_ENCODING,l=b.errorOrDestroy;function u(){}function T(h,F,R){v=v||M(247),"boolean"!=typeof R&&(R=F instanceof v),this.objectMode=!!(h=h||{}).objectMode,R&&(this.objectMode=this.objectMode||!!h.writableObjectMode),this.highWaterMark=A(this,h,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===h.decodeStrings),this.defaultEncoding=h.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){!function ue(h,F){var R=h._writableState,ce=R.sync,he=R.writecb;if("function"!=typeof he)throw new Y;if(function B(h){h.writing=!1,h.writecb=null,h.length-=h.writelen,h.writelen=0}(R),F)!function de(h,F,R,ce,he){--F.pendingcb,R?(process.nextTick(he,ce),process.nextTick(me,h,F),h._writableState.errorEmitted=!0,l(h,ce)):(he(ce),h._writableState.errorEmitted=!0,l(h,ce),me(h,F))}(h,R,ce,F,he);else{var I=K(R)||h.destroyed;!I&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&ee(h,R),ce?process.nextTick(pe,h,R,I,he):pe(h,R,I,he)}}(F,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==h.emitClose,this.autoDestroy=!!h.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new D(this)}function U(h){var F=this instanceof(v=v||M(247));if(!F&&!f.call(U,this))return new U(h);this._writableState=new T(h,this,F),this.writable=!0,h&&("function"==typeof h.write&&(this._write=h.write),"function"==typeof h.writev&&(this._writev=h.writev),"function"==typeof h.destroy&&(this._destroy=h.destroy),"function"==typeof h.final&&(this._final=h.final)),g.call(this)}function oe(h,F,R,ce,he,I,N){F.writelen=ce,F.writecb=N,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new J("write")):R?h._writev(he,F.onwrite):h._write(he,I,F.onwrite),F.sync=!1}function pe(h,F,R,ce){R||function _e(h,F){0===F.length&&F.needDrain&&(F.needDrain=!1,h.emit("drain"))}(h,F),F.pendingcb--,ce(),me(h,F)}function ee(h,F){F.bufferProcessing=!0;var R=F.bufferedRequest;if(h._writev&&R&&R.next){var he=new Array(F.bufferedRequestCount),I=F.corkedRequestsFree;I.entry=R;for(var N=0,W=!0;R;)he[N]=R,R.isBuf||(W=!1),R=R.next,N+=1;he.allBuffers=W,oe(h,F,!0,F.length,he,"",I.finish),F.pendingcb++,F.lastBufferedRequest=null,I.next?(F.corkedRequestsFree=I.next,I.next=null):F.corkedRequestsFree=new D(F),F.bufferedRequestCount=0}else{for(;R;){var S=R.chunk;if(oe(h,F,!1,F.objectMode?1:S.length,S,R.encoding,R.callback),R=R.next,F.bufferedRequestCount--,F.writing)break}null===R&&(F.lastBufferedRequest=null)}F.bufferedRequest=R,F.bufferProcessing=!1}function K(h){return h.ending&&0===h.length&&null===h.bufferedRequest&&!h.finished&&!h.writing}function ae(h,F){h._final(function(R){F.pendingcb--,R&&l(h,R),F.prefinished=!0,h.emit("prefinish"),me(h,F)})}function me(h,F){var R=K(F);if(R&&(function se(h,F){!F.prefinished&&!F.finalCalled&&("function"!=typeof h._final||F.destroyed?(F.prefinished=!0,h.emit("prefinish")):(F.pendingcb++,F.finalCalled=!0,process.nextTick(ae,h,F)))}(h,F),0===F.pendingcb&&(F.finished=!0,h.emit("finish"),F.autoDestroy))){var ce=h._readableState;(!ce||ce.autoDestroy&&ce.endEmitted)&&h.destroy()}return R}M(6698)(U,g),T.prototype.getBuffer=function(){for(var F=this.bufferedRequest,R=[];F;)R.push(F),F=F.next;return R},function(){try{Object.defineProperty(T.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(F){return!!f.call(this,F)||this===U&&F&&F._writableState instanceof T}})):f=function(F){return F instanceof this},U.prototype.pipe=function(){l(this,new z)},U.prototype.write=function(h,F,R){var ce=this._writableState,he=!1,I=!ce.objectMode&&function E(h){return m.isBuffer(h)||h instanceof e}(h);return I&&!m.isBuffer(h)&&(h=function _(h){return m.from(h)}(h)),"function"==typeof F&&(R=F,F=null),I?F="buffer":F||(F=ce.defaultEncoding),"function"!=typeof R&&(R=u),ce.ending?function k(h,F){var R=new w;l(h,R),process.nextTick(F,R)}(this,R):(I||function Q(h,F,R,ce){var he;return null===R?he=new Z:"string"!=typeof R&&!F.objectMode&&(he=new H("chunk",["string","Buffer"],R)),!he||(l(h,he),process.nextTick(ce,he),!1)}(this,ce,h,R))&&(ce.pendingcb++,he=function le(h,F,R,ce,he,I){if(!R){var N=function ne(h,F,R){return!h.objectMode&&!1!==h.decodeStrings&&"string"==typeof F&&(F=m.from(F,R)),F}(F,ce,he);ce!==N&&(R=!0,he="buffer",ce=N)}var W=F.objectMode?1:ce.length;F.length+=W;var S=F.length<F.highWaterMark;if(S||(F.needDrain=!0),F.writing||F.corked){var d=F.lastBufferedRequest;F.lastBufferedRequest={chunk:ce,encoding:he,isBuf:R,callback:I,next:null},d?d.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else oe(h,F,!1,W,ce,he,I);return S}(this,ce,I,h,F,R)),he},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var h=this._writableState;h.corked&&(h.corked--,!h.writing&&!h.corked&&!h.bufferProcessing&&h.bufferedRequest&&ee(this,h))},U.prototype.setDefaultEncoding=function(F){if("string"==typeof F&&(F=F.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())>-1))throw new a(F);return this._writableState.defaultEncoding=F,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(h,F,R){R(new q("_write()"))},U.prototype._writev=null,U.prototype.end=function(h,F,R){var ce=this._writableState;return"function"==typeof h?(R=h,h=null,F=null):"function"==typeof F&&(R=F,F=null),null!=h&&this.write(h,F),ce.corked&&(ce.corked=1,this.uncork()),ce.ending||function $(h,F,R){F.ending=!0,me(h,F),R&&(F.finished?process.nextTick(R):h.once("finish",R)),F.ended=!0,h.writable=!1}(this,ce,R),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),U.prototype.destroy=b.destroy,U.prototype._undestroy=b.undestroy,U.prototype._destroy=function(h,F){F(h)}},8637:(te,G,M)=>{"use strict";var y;function D(w,a,l){return a=function v(w){var a=function c(w,a){if("object"!=typeof w||null===w)return w;var l=w[Symbol.toPrimitive];if(void 0!==l){var u=l.call(w,a||"default");if("object"!=typeof u)return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(w)}(w,"string");return"symbol"==typeof a?a:String(a)}(a),a in w?Object.defineProperty(w,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):w[a]=l,w}var g=M(4618),m=Symbol("lastResolve"),e=Symbol("lastReject"),_=Symbol("error"),E=Symbol("ended"),b=Symbol("lastPromise"),C=Symbol("handlePromise"),A=Symbol("stream");function P(w,a){return{value:w,done:a}}function H(w){var a=w[m];if(null!==a){var l=w[A].read();null!==l&&(w[b]=null,w[m]=null,w[e]=null,a(P(l,!1)))}}function q(w){process.nextTick(H,w)}var z=Object.getPrototypeOf(function(){}),J=Object.setPrototypeOf((D(y={get stream(){return this[A]},next:function(){var a=this,l=this[_];if(null!==l)return Promise.reject(l);if(this[E])return Promise.resolve(P(void 0,!0));if(this[A].destroyed)return new Promise(function(U,k){process.nextTick(function(){a[_]?k(a[_]):U(P(void 0,!0))})});var T,u=this[b];if(u)T=new Promise(function Y(w,a){return function(l,u){w.then(function(){a[E]?l(P(void 0,!0)):a[C](l,u)},u)}}(u,this));else{var f=this[A].read();if(null!==f)return Promise.resolve(P(f,!1));T=new Promise(this[C])}return this[b]=T,T}},Symbol.asyncIterator,function(){return this}),D(y,"return",function(){var a=this;return new Promise(function(l,u){a[A].destroy(null,function(T){T?u(T):l(P(void 0,!0))})})}),y),z);te.exports=function(a){var l,u=Object.create(J,(D(l={},A,{value:a,writable:!0}),D(l,m,{value:null,writable:!0}),D(l,e,{value:null,writable:!0}),D(l,_,{value:null,writable:!0}),D(l,E,{value:a._readableState.endEmitted,writable:!0}),D(l,C,{value:function(f,U){var k=u[A].read();k?(u[b]=null,u[m]=null,u[e]=null,f(P(k,!1))):(u[m]=f,u[e]=U)},writable:!0}),l));return u[b]=null,g(a,function(T){if(T&&"ERR_STREAM_PREMATURE_CLOSE"!==T.code){var f=u[e];return null!==f&&(u[b]=null,u[m]=null,u[e]=null,f(T)),void(u[_]=T)}var U=u[m];null!==U&&(u[b]=null,u[m]=null,u[e]=null,U(P(void 0,!0))),u[E]=!0}),a.on("readable",q.bind(null,u)),u}},2960:(te,G,M)=>{"use strict";function y(q,Y){var z=Object.keys(q);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(q);Y&&(J=J.filter(function(Z){return Object.getOwnPropertyDescriptor(q,Z).enumerable})),z.push.apply(z,J)}return z}function D(q){for(var Y=1;Y<arguments.length;Y++){var z=null!=arguments[Y]?arguments[Y]:{};Y%2?y(Object(z),!0).forEach(function(J){v(q,J,z[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(z)):y(Object(z)).forEach(function(J){Object.defineProperty(q,J,Object.getOwnPropertyDescriptor(z,J))})}return q}function v(q,Y,z){return(Y=e(Y))in q?Object.defineProperty(q,Y,{value:z,enumerable:!0,configurable:!0,writable:!0}):q[Y]=z,q}function g(q,Y){for(var z=0;z<Y.length;z++){var J=Y[z];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(q,e(J.key),J)}}function e(q){var Y=function _(q,Y){if("object"!=typeof q||null===q)return q;var z=q[Symbol.toPrimitive];if(void 0!==z){var J=z.call(q,Y||"default");if("object"!=typeof J)return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Y?String:Number)(q)}(q,"string");return"symbol"==typeof Y?Y:String(Y)}var b=M(9007).Buffer,A=M(2361).inspect,P=A&&A.custom||"inspect";function H(q,Y,z){b.prototype.copy.call(q,Y,z)}te.exports=function(){function q(){(function c(q,Y){if(!(q instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,q),this.head=null,this.tail=null,this.length=0}return function m(q,Y,z){Y&&g(q.prototype,Y),z&&g(q,z),Object.defineProperty(q,"prototype",{writable:!1})}(q,[{key:"push",value:function(z){var J={data:z,next:null};this.length>0?this.tail.next=J:this.head=J,this.tail=J,++this.length}},{key:"unshift",value:function(z){var J={data:z,next:this.head};0===this.length&&(this.tail=J),this.head=J,++this.length}},{key:"shift",value:function(){if(0!==this.length){var z=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,z}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(z){if(0===this.length)return"";for(var J=this.head,Z=""+J.data;J=J.next;)Z+=z+J.data;return Z}},{key:"concat",value:function(z){if(0===this.length)return b.alloc(0);for(var J=b.allocUnsafe(z>>>0),Z=this.head,w=0;Z;)H(Z.data,J,w),w+=Z.data.length,Z=Z.next;return J}},{key:"consume",value:function(z,J){var Z;return z<this.head.data.length?(Z=this.head.data.slice(0,z),this.head.data=this.head.data.slice(z)):Z=z===this.head.data.length?this.shift():J?this._getString(z):this._getBuffer(z),Z}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(z){var J=this.head,Z=1,w=J.data;for(z-=w.length;J=J.next;){var a=J.data,l=z>a.length?a.length:z;if(w+=l===a.length?a:a.slice(0,z),0==(z-=l)){l===a.length?(++Z,this.head=J.next?J.next:this.tail=null):(this.head=J,J.data=a.slice(l));break}++Z}return this.length-=Z,w}},{key:"_getBuffer",value:function(z){var J=b.allocUnsafe(z),Z=this.head,w=1;for(Z.data.copy(J),z-=Z.data.length;Z=Z.next;){var a=Z.data,l=z>a.length?a.length:z;if(a.copy(J,J.length-z,0,l),0==(z-=l)){l===a.length?(++w,this.head=Z.next?Z.next:this.tail=null):(this.head=Z,Z.data=a.slice(l));break}++w}return this.length-=w,J}},{key:P,value:function(z,J){return A(this,D(D({},J),{},{depth:0,customInspect:!1}))}}]),q}()},5601:te=>{"use strict";function M(g,m){v(g,m),y(g)}function y(g){g._writableState&&!g._writableState.emitClose||g._readableState&&!g._readableState.emitClose||g.emit("close")}function v(g,m){g.emit("error",m)}te.exports={destroy:function G(g,m){var e=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(m?m(g):g&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(v,this,g)):process.nextTick(v,this,g)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(g||null,function(b){!m&&b?e._writableState?e._writableState.errorEmitted?process.nextTick(y,e):(e._writableState.errorEmitted=!0,process.nextTick(M,e,b)):process.nextTick(M,e,b):m?(process.nextTick(y,e),m(b)):process.nextTick(y,e)}),this)},undestroy:function D(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function c(g,m){var e=g._readableState,_=g._writableState;e&&e.autoDestroy||_&&_.autoDestroy?g.destroy(m):g.emit("error",m)}}},4618:(te,G,M)=>{"use strict";var y=M(7218).q.ERR_STREAM_PREMATURE_CLOSE;function v(){}te.exports=function g(m,e,_){if("function"==typeof e)return g(m,null,e);e||(e={}),_=function D(m){var e=!1;return function(){if(!e){e=!0;for(var _=arguments.length,E=new Array(_),b=0;b<_;b++)E[b]=arguments[b];m.apply(this,E)}}}(_||v);var E=e.readable||!1!==e.readable&&m.readable,b=e.writable||!1!==e.writable&&m.writable,C=function(){m.writable||P()},A=m._writableState&&m._writableState.finished,P=function(){b=!1,A=!0,E||_.call(m)},H=m._readableState&&m._readableState.endEmitted,q=function(){E=!1,H=!0,b||_.call(m)},Y=function(w){_.call(m,w)},z=function(){var w;return E&&!H?((!m._readableState||!m._readableState.ended)&&(w=new y),_.call(m,w)):b&&!A?((!m._writableState||!m._writableState.ended)&&(w=new y),_.call(m,w)):void 0},J=function(){m.req.on("finish",P)};return function c(m){return m.setHeader&&"function"==typeof m.abort}(m)?(m.on("complete",P),m.on("abort",z),m.req?J():m.on("request",J)):b&&!m._writableState&&(m.on("end",C),m.on("close",C)),m.on("end",q),m.on("finish",P),!1!==e.error&&m.on("error",Y),m.on("close",z),function(){m.removeListener("complete",P),m.removeListener("abort",z),m.removeListener("request",J),m.req&&m.req.removeListener("finish",P),m.removeListener("end",C),m.removeListener("close",C),m.removeListener("finish",P),m.removeListener("end",q),m.removeListener("error",Y),m.removeListener("close",z)}}},3335:te=>{te.exports=function(){throw new Error("Readable.from is not available in the browser")}},4514:(te,G,M)=>{"use strict";var y,v=M(7218).q,c=v.ERR_MISSING_ARGS,g=v.ERR_STREAM_DESTROYED;function m(P){if(P)throw P}function E(P){P()}function b(P,H){return P.pipe(H)}te.exports=function A(){for(var P=arguments.length,H=new Array(P),q=0;q<P;q++)H[q]=arguments[q];var Y=function C(P){return P.length&&"function"==typeof P[P.length-1]?P.pop():m}(H);if(Array.isArray(H[0])&&(H=H[0]),H.length<2)throw new c("streams");var z,J=H.map(function(Z,w){var a=w<H.length-1;return function _(P,H,q,Y){Y=function D(P){var H=!1;return function(){H||(H=!0,P.apply(void 0,arguments))}}(Y);var z=!1;P.on("close",function(){z=!0}),void 0===y&&(y=M(4618)),y(P,{readable:H,writable:q},function(Z){if(Z)return Y(Z);z=!0,Y()});var J=!1;return function(Z){if(!z&&!J){if(J=!0,function e(P){return P.setHeader&&"function"==typeof P.abort}(P))return P.abort();if("function"==typeof P.destroy)return P.destroy();Y(Z||new g("pipe"))}}}(Z,a,w>0,function(u){z||(z=u),u&&J.forEach(E),!a&&(J.forEach(E),Y(z))})});return H.reduce(b)}},8782:(te,G,M)=>{"use strict";var y=M(7218).q.ERR_INVALID_OPT_VALUE;te.exports={getHighWaterMark:function v(c,g,m,e){var _=function D(c,g,m){return null!=c.highWaterMark?c.highWaterMark:g?c[m]:null}(g,e,m);if(null!=_){if(!isFinite(_)||Math.floor(_)!==_||_<0)throw new y(e?m:"highWaterMark",_);return Math.floor(_)}return c.objectMode?16:16384}}},8240:(te,G,M)=>{te.exports=M(2016).EventEmitter},843:(te,G,M)=>{var y=M(9007),D=y.Buffer;function v(g,m){for(var e in g)m[e]=g[e]}function c(g,m,e){return D(g,m,e)}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?te.exports=y:(v(y,G),G.Buffer=c),c.prototype=Object.create(D.prototype),v(D,c),c.from=function(g,m,e){if("number"==typeof g)throw new TypeError("Argument must not be a number");return D(g,m,e)},c.alloc=function(g,m,e){if("number"!=typeof g)throw new TypeError("Argument must be a number");var _=D(g);return void 0!==m?"string"==typeof e?_.fill(m,e):_.fill(m):_.fill(0),_},c.allocUnsafe=function(g){if("number"!=typeof g)throw new TypeError("Argument must be a number");return D(g)},c.allocUnsafeSlow=function(g){if("number"!=typeof g)throw new TypeError("Argument must be a number");return y.SlowBuffer(g)}},9528:(te,G,M)=>{!function(y){y.parser=function(x,h){return new v(x,h)},y.SAXParser=v,y.SAXStream=b,y.createStream=function E(x,h){return new b(x,h)},y.MAX_BUFFER_LENGTH=65536;var e,D=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function v(x,h){if(!(this instanceof v))return new v(x,h);var F=this;(function g(x){for(var h=0,F=D.length;h<F;h++)x[D[h]]=""})(F),F.q=F.c="",F.bufferCheckPosition=y.MAX_BUFFER_LENGTH,F.opt=h||{},F.opt.lowercase=F.opt.lowercase||F.opt.lowercasetags,F.looseCase=F.opt.lowercase?"toLowerCase":"toUpperCase",F.tags=[],F.closed=F.closedRoot=F.sawRoot=!1,F.tag=F.error=null,F.strict=!!x,F.noscript=!(!x&&!F.opt.noscript),F.state=f.BEGIN,F.strictEntities=F.opt.strictEntities,F.ENTITIES=Object.create(F.strictEntities?y.XML_ENTITIES:y.ENTITIES),F.attribList=[],F.opt.xmlns&&(F.ns=Object.create(q)),F.trackPosition=!1!==F.opt.position,F.trackPosition&&(F.position=F.line=F.column=0),k(F,"onready")}y.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(x){function h(){}return h.prototype=x,new h}),Object.keys||(Object.keys=function(x){var h=[];for(var F in x)x.hasOwnProperty(F)&&h.push(F);return h}),v.prototype={end:function(){de(this)},write:function $(x){var h=this;if(this.error)throw this.error;if(h.closed)return oe(h,"Cannot write after close. Assign an onready handler.");if(null===x)return de(h);"object"==typeof x&&(x=x.toString());for(var F=0,R="";R=me(x,F++),h.c=R,R;)switch(h.trackPosition&&(h.position++,"\n"===R?(h.line++,h.column=0):h.column++),h.state){case f.BEGIN:if(h.state=f.BEGIN_WHITESPACE,"\ufeff"===R)continue;se(h,R);continue;case f.BEGIN_WHITESPACE:se(h,R);continue;case f.TEXT:if(h.sawRoot&&!h.closedRoot){for(var ce=F-1;R&&"<"!==R&&"&"!==R;)(R=me(x,F++))&&h.trackPosition&&(h.position++,"\n"===R?(h.line++,h.column=0):h.column++);h.textNode+=x.substring(ce,F-1)}"<"!==R||h.sawRoot&&h.closedRoot&&!h.strict?(!w(R)&&(!h.sawRoot||h.closedRoot)&&B(h,"Text data outside of root node."),"&"===R?h.state=f.TEXT_ENTITY:h.textNode+=R):(h.state=f.OPEN_WAKA,h.startTagPosition=h.position);continue;case f.SCRIPT:"<"===R?h.state=f.SCRIPT_ENDING:h.script+=R;continue;case f.SCRIPT_ENDING:"/"===R?h.state=f.CLOSE_TAG:(h.script+="<"+R,h.state=f.SCRIPT);continue;case f.OPEN_WAKA:"!"===R?(h.state=f.SGML_DECL,h.sgmlDecl=""):w(R)||(u(Y,R)?(h.state=f.OPEN_TAG,h.tagName=R):"/"===R?(h.state=f.CLOSE_TAG,h.tagName=""):"?"===R?(h.state=f.PROC_INST,h.procInstName=h.procInstBody=""):(B(h,"Unencoded <"),h.startTagPosition+1<h.position&&(R=new Array(h.position-h.startTagPosition).join(" ")+R),h.textNode+="<"+R,h.state=f.TEXT));continue;case f.SGML_DECL:(h.sgmlDecl+R).toUpperCase()===C?(Q(h,"onopencdata"),h.state=f.CDATA,h.sgmlDecl="",h.cdata=""):h.sgmlDecl+R==="--"?(h.state=f.COMMENT,h.comment="",h.sgmlDecl=""):(h.sgmlDecl+R).toUpperCase()===A?(h.state=f.DOCTYPE,(h.doctype||h.sawRoot)&&B(h,"Inappropriately located doctype declaration"),h.doctype="",h.sgmlDecl=""):">"===R?(Q(h,"onsgmldeclaration",h.sgmlDecl),h.sgmlDecl="",h.state=f.TEXT):(a(R)&&(h.state=f.SGML_DECL_QUOTED),h.sgmlDecl+=R);continue;case f.SGML_DECL_QUOTED:R===h.q&&(h.state=f.SGML_DECL,h.q=""),h.sgmlDecl+=R;continue;case f.DOCTYPE:">"===R?(h.state=f.TEXT,Q(h,"ondoctype",h.doctype),h.doctype=!0):(h.doctype+=R,"["===R?h.state=f.DOCTYPE_DTD:a(R)&&(h.state=f.DOCTYPE_QUOTED,h.q=R));continue;case f.DOCTYPE_QUOTED:h.doctype+=R,R===h.q&&(h.q="",h.state=f.DOCTYPE);continue;case f.DOCTYPE_DTD:h.doctype+=R,"]"===R?h.state=f.DOCTYPE:a(R)&&(h.state=f.DOCTYPE_DTD_QUOTED,h.q=R);continue;case f.DOCTYPE_DTD_QUOTED:h.doctype+=R,R===h.q&&(h.state=f.DOCTYPE_DTD,h.q="");continue;case f.COMMENT:"-"===R?h.state=f.COMMENT_ENDING:h.comment+=R;continue;case f.COMMENT_ENDING:"-"===R?(h.state=f.COMMENT_ENDED,h.comment=le(h.opt,h.comment),h.comment&&Q(h,"oncomment",h.comment),h.comment=""):(h.comment+="-"+R,h.state=f.COMMENT);continue;case f.COMMENT_ENDED:">"!==R?(B(h,"Malformed comment"),h.comment+="--"+R,h.state=f.COMMENT):h.state=f.TEXT;continue;case f.CDATA:"]"===R?h.state=f.CDATA_ENDING:h.cdata+=R;continue;case f.CDATA_ENDING:"]"===R?h.state=f.CDATA_ENDING_2:(h.cdata+="]"+R,h.state=f.CDATA);continue;case f.CDATA_ENDING_2:">"===R?(h.cdata&&Q(h,"oncdata",h.cdata),Q(h,"onclosecdata"),h.cdata="",h.state=f.TEXT):"]"===R?h.cdata+="]":(h.cdata+="]]"+R,h.state=f.CDATA);continue;case f.PROC_INST:"?"===R?h.state=f.PROC_INST_ENDING:w(R)?h.state=f.PROC_INST_BODY:h.procInstName+=R;continue;case f.PROC_INST_BODY:if(!h.procInstBody&&w(R))continue;"?"===R?h.state=f.PROC_INST_ENDING:h.procInstBody+=R;continue;case f.PROC_INST_ENDING:">"===R?(Q(h,"onprocessinginstruction",{name:h.procInstName,body:h.procInstBody}),h.procInstName=h.procInstBody="",h.state=f.TEXT):(h.procInstBody+="?"+R,h.state=f.PROC_INST_BODY);continue;case f.OPEN_TAG:u(z,R)?h.tagName+=R:(ue(h),">"===R?ee(h):"/"===R?h.state=f.OPEN_TAG_SLASH:(w(R)||B(h,"Invalid character in tag name"),h.state=f.ATTRIB));continue;case f.OPEN_TAG_SLASH:">"===R?(ee(h,!0),K(h)):(B(h,"Forward-slash in opening tag not followed by >"),h.state=f.ATTRIB);continue;case f.ATTRIB:if(w(R))continue;">"===R?ee(h):"/"===R?h.state=f.OPEN_TAG_SLASH:u(Y,R)?(h.attribName=R,h.attribValue="",h.state=f.ATTRIB_NAME):B(h,"Invalid attribute name");continue;case f.ATTRIB_NAME:"="===R?h.state=f.ATTRIB_VALUE:">"===R?(B(h,"Attribute without value"),h.attribValue=h.attribName,_e(h),ee(h)):w(R)?h.state=f.ATTRIB_NAME_SAW_WHITE:u(z,R)?h.attribName+=R:B(h,"Invalid attribute name");continue;case f.ATTRIB_NAME_SAW_WHITE:if("="===R)h.state=f.ATTRIB_VALUE;else{if(w(R))continue;B(h,"Attribute without value"),h.tag.attributes[h.attribName]="",h.attribValue="",Q(h,"onattribute",{name:h.attribName,value:""}),h.attribName="",">"===R?ee(h):u(Y,R)?(h.attribName=R,h.state=f.ATTRIB_NAME):(B(h,"Invalid attribute name"),h.state=f.ATTRIB)}continue;case f.ATTRIB_VALUE:if(w(R))continue;a(R)?(h.q=R,h.state=f.ATTRIB_VALUE_QUOTED):(B(h,"Unquoted attribute value"),h.state=f.ATTRIB_VALUE_UNQUOTED,h.attribValue=R);continue;case f.ATTRIB_VALUE_QUOTED:if(R!==h.q){"&"===R?h.state=f.ATTRIB_VALUE_ENTITY_Q:h.attribValue+=R;continue}_e(h),h.q="",h.state=f.ATTRIB_VALUE_CLOSED;continue;case f.ATTRIB_VALUE_CLOSED:w(R)?h.state=f.ATTRIB:">"===R?ee(h):"/"===R?h.state=f.OPEN_TAG_SLASH:u(Y,R)?(B(h,"No whitespace between attributes"),h.attribName=R,h.attribValue="",h.state=f.ATTRIB_NAME):B(h,"Invalid attribute name");continue;case f.ATTRIB_VALUE_UNQUOTED:if(!l(R)){"&"===R?h.state=f.ATTRIB_VALUE_ENTITY_U:h.attribValue+=R;continue}_e(h),">"===R?ee(h):h.state=f.ATTRIB;continue;case f.CLOSE_TAG:if(h.tagName)">"===R?K(h):u(z,R)?h.tagName+=R:h.script?(h.script+="</"+h.tagName,h.tagName="",h.state=f.SCRIPT):(w(R)||B(h,"Invalid tagname in closing tag"),h.state=f.CLOSE_TAG_SAW_WHITE);else{if(w(R))continue;T(Y,R)?h.script?(h.script+="</"+R,h.state=f.SCRIPT):B(h,"Invalid tagname in closing tag."):h.tagName=R}continue;case f.CLOSE_TAG_SAW_WHITE:if(w(R))continue;">"===R?K(h):B(h,"Invalid characters in closing tag");continue;case f.TEXT_ENTITY:case f.ATTRIB_VALUE_ENTITY_Q:case f.ATTRIB_VALUE_ENTITY_U:var I,N;switch(h.state){case f.TEXT_ENTITY:I=f.TEXT,N="textNode";break;case f.ATTRIB_VALUE_ENTITY_Q:I=f.ATTRIB_VALUE_QUOTED,N="attribValue";break;case f.ATTRIB_VALUE_ENTITY_U:I=f.ATTRIB_VALUE_UNQUOTED,N="attribValue"}";"===R?(h[N]+=ae(h),h.entity="",h.state=I):u(h.entity.length?Z:J,R)?h.entity+=R:(B(h,"Invalid character in entity name"),h[N]+="&"+h.entity+R,h.entity="",h.state=I);continue;default:throw new Error(h,"Unknown state: "+h.state)}return h.position>=h.bufferCheckPosition&&function c(x){for(var h=Math.max(y.MAX_BUFFER_LENGTH,10),F=0,R=0,ce=D.length;R<ce;R++){var he=x[D[R]].length;if(he>h)switch(D[R]){case"textNode":ne(x);break;case"cdata":Q(x,"oncdata",x.cdata),x.cdata="";break;case"script":Q(x,"onscript",x.script),x.script="";break;default:oe(x,"Max buffer length exceeded: "+D[R])}F=Math.max(F,he)}x.bufferCheckPosition=y.MAX_BUFFER_LENGTH-F+x.position}(h),h},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function m(x){ne(x),""!==x.cdata&&(Q(x,"oncdata",x.cdata),x.cdata=""),""!==x.script&&(Q(x,"onscript",x.script),x.script="")}(this)}};try{e=M(1793).Stream}catch{e=function(){}}var _=y.EVENTS.filter(function(x){return"error"!==x&&"end"!==x});function b(x,h){if(!(this instanceof b))return new b(x,h);e.apply(this),this._parser=new v(x,h),this.writable=!0,this.readable=!0;var F=this;this._parser.onend=function(){F.emit("end")},this._parser.onerror=function(R){F.emit("error",R),F._parser.error=null},this._decoder=null,_.forEach(function(R){Object.defineProperty(F,"on"+R,{get:function(){return F._parser["on"+R]},set:function(ce){if(!ce)return F.removeAllListeners(R),F._parser["on"+R]=ce,ce;F.on(R,ce)},enumerable:!0,configurable:!1})})}(b.prototype=Object.create(e.prototype,{constructor:{value:b}})).write=function(x){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(x)){if(!this._decoder){var h=M(2024).s;this._decoder=new h("utf8")}x=this._decoder.write(x)}return this._parser.write(x.toString()),this.emit("data",x),!0},b.prototype.end=function(x){return x&&x.length&&this.write(x),this._parser.end(),!0},b.prototype.on=function(x,h){var F=this;return!F._parser["on"+x]&&-1!==_.indexOf(x)&&(F._parser["on"+x]=function(){var R=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,x),F.emit.apply(F,R)}),e.prototype.on.call(F,x,h)};var C="[CDATA[",A="DOCTYPE",P="http://www.w3.org/XML/1998/namespace",H="http://www.w3.org/2000/xmlns/",q={xml:P,xmlns:H},Y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,J=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(x){return" "===x||"\n"===x||"\r"===x||"\t"===x}function a(x){return'"'===x||"'"===x}function l(x){return">"===x||w(x)}function u(x,h){return x.test(h)}function T(x,h){return!u(x,h)}var x,h,F,f=0;for(var U in y.STATE={BEGIN:f++,BEGIN_WHITESPACE:f++,TEXT:f++,TEXT_ENTITY:f++,OPEN_WAKA:f++,SGML_DECL:f++,SGML_DECL_QUOTED:f++,DOCTYPE:f++,DOCTYPE_QUOTED:f++,DOCTYPE_DTD:f++,DOCTYPE_DTD_QUOTED:f++,COMMENT_STARTING:f++,COMMENT:f++,COMMENT_ENDING:f++,COMMENT_ENDED:f++,CDATA:f++,CDATA_ENDING:f++,CDATA_ENDING_2:f++,PROC_INST:f++,PROC_INST_BODY:f++,PROC_INST_ENDING:f++,OPEN_TAG:f++,OPEN_TAG_SLASH:f++,ATTRIB:f++,ATTRIB_NAME:f++,ATTRIB_NAME_SAW_WHITE:f++,ATTRIB_VALUE:f++,ATTRIB_VALUE_QUOTED:f++,ATTRIB_VALUE_CLOSED:f++,ATTRIB_VALUE_UNQUOTED:f++,ATTRIB_VALUE_ENTITY_Q:f++,ATTRIB_VALUE_ENTITY_U:f++,CLOSE_TAG:f++,CLOSE_TAG_SAW_WHITE:f++,SCRIPT:f++,SCRIPT_ENDING:f++},y.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(y.ENTITIES).forEach(function(x){var h=y.ENTITIES[x],F="number"==typeof h?String.fromCharCode(h):h;y.ENTITIES[x]=F}),y.STATE)y.STATE[y.STATE[U]]=U;function k(x,h,F){x[h]&&x[h](F)}function Q(x,h,F){x.textNode&&ne(x),k(x,h,F)}function ne(x){x.textNode=le(x.opt,x.textNode),x.textNode&&k(x,"ontext",x.textNode),x.textNode=""}function le(x,h){return x.trim&&(h=h.trim()),x.normalize&&(h=h.replace(/\s+/g," ")),h}function oe(x,h){return ne(x),x.trackPosition&&(h+="\nLine: "+x.line+"\nColumn: "+x.column+"\nChar: "+x.c),h=new Error(h),x.error=h,k(x,"onerror",h),x}function de(x){return x.sawRoot&&!x.closedRoot&&B(x,"Unclosed root tag"),x.state!==f.BEGIN&&x.state!==f.BEGIN_WHITESPACE&&x.state!==f.TEXT&&oe(x,"Unexpected end"),ne(x),x.c="",x.closed=!0,k(x,"onend"),v.call(x,x.strict,x.opt),x}function B(x,h){if("object"!=typeof x||!(x instanceof v))throw new Error("bad call to strictFail");x.strict&&oe(x,h)}function ue(x){x.strict||(x.tagName=x.tagName[x.looseCase]());var h=x.tags[x.tags.length-1]||x,F=x.tag={name:x.tagName,attributes:{}};x.opt.xmlns&&(F.ns=h.ns),x.attribList.length=0,Q(x,"onopentagstart",F)}function pe(x,h){var R=x.indexOf(":")<0?["",x]:x.split(":"),ce=R[0],he=R[1];return h&&"xmlns"===x&&(ce="xmlns",he=""),{prefix:ce,local:he}}function _e(x){if(x.strict||(x.attribName=x.attribName[x.looseCase]()),-1!==x.attribList.indexOf(x.attribName)||x.tag.attributes.hasOwnProperty(x.attribName))x.attribName=x.attribValue="";else{if(x.opt.xmlns){var h=pe(x.attribName,!0),R=h.local;if("xmlns"===h.prefix)if("xml"===R&&x.attribValue!==P)B(x,"xml: prefix must be bound to "+P+"\nActual: "+x.attribValue);else if("xmlns"===R&&x.attribValue!==H)B(x,"xmlns: prefix must be bound to "+H+"\nActual: "+x.attribValue);else{var ce=x.tag,he=x.tags[x.tags.length-1]||x;ce.ns===he.ns&&(ce.ns=Object.create(he.ns)),ce.ns[R]=x.attribValue}x.attribList.push([x.attribName,x.attribValue])}else x.tag.attributes[x.attribName]=x.attribValue,Q(x,"onattribute",{name:x.attribName,value:x.attribValue});x.attribName=x.attribValue=""}}function ee(x,h){if(x.opt.xmlns){var F=x.tag,R=pe(x.tagName);F.prefix=R.prefix,F.local=R.local,F.uri=F.ns[R.prefix]||"",F.prefix&&!F.uri&&(B(x,"Unbound namespace prefix: "+JSON.stringify(x.tagName)),F.uri=R.prefix),F.ns&&(x.tags[x.tags.length-1]||x).ns!==F.ns&&Object.keys(F.ns).forEach(function(fe){Q(x,"onopennamespace",{prefix:fe,uri:F.ns[fe]})});for(var he=0,I=x.attribList.length;he<I;he++){var N=x.attribList[he],W=N[0],S=N[1],d=pe(W,!0),p=d.prefix,V=""===p?"":F.ns[p]||"",re={name:W,value:S,prefix:p,local:d.local,uri:V};p&&"xmlns"!==p&&!V&&(B(x,"Unbound namespace prefix: "+JSON.stringify(p)),re.uri=p),x.tag.attributes[W]=re,Q(x,"onattribute",re)}x.attribList.length=0}x.tag.isSelfClosing=!!h,x.sawRoot=!0,x.tags.push(x.tag),Q(x,"onopentag",x.tag),h||(x.state=x.noscript||"script"!==x.tagName.toLowerCase()?f.TEXT:f.SCRIPT,x.tag=null,x.tagName=""),x.attribName=x.attribValue="",x.attribList.length=0}function K(x){if(!x.tagName)return B(x,"Weird empty close tag."),x.textNode+="</>",void(x.state=f.TEXT);if(x.script){if("script"!==x.tagName)return x.script+="</"+x.tagName+">",x.tagName="",void(x.state=f.SCRIPT);Q(x,"onscript",x.script),x.script=""}var h=x.tags.length,F=x.tagName;x.strict||(F=F[x.looseCase]());for(var R=F;h--&&x.tags[h].name!==R;)B(x,"Unexpected close tag");if(h<0)return B(x,"Unmatched closing tag: "+x.tagName),x.textNode+="</"+x.tagName+">",void(x.state=f.TEXT);x.tagName=F;for(var he=x.tags.length;he-- >h;){var I=x.tag=x.tags.pop();x.tagName=x.tag.name,Q(x,"onclosetag",x.tagName);var N={};for(var W in I.ns)N[W]=I.ns[W];x.opt.xmlns&&I.ns!==(x.tags[x.tags.length-1]||x).ns&&Object.keys(I.ns).forEach(function(d){Q(x,"onclosenamespace",{prefix:d,uri:I.ns[d]})})}0===h&&(x.closedRoot=!0),x.tagName=x.attribValue=x.attribName="",x.attribList.length=0,x.state=f.TEXT}function ae(x){var R,h=x.entity,F=h.toLowerCase(),ce="";return x.ENTITIES[h]?x.ENTITIES[h]:x.ENTITIES[F]?x.ENTITIES[F]:("#"===(h=F).charAt(0)&&("x"===h.charAt(1)?(h=h.slice(2),ce=(R=parseInt(h,16)).toString(16)):(h=h.slice(1),ce=(R=parseInt(h,10)).toString(10))),h=h.replace(/^0+/,""),isNaN(R)||ce.toLowerCase()!==h?(B(x,"Invalid character entity"),"&"+x.entity+";"):String.fromCodePoint(R))}function se(x,h){"<"===h?(x.state=f.OPEN_WAKA,x.startTagPosition=x.position):w(h)||(B(x,"Non-whitespace before first tag."),x.textNode=h,x.state=f.TEXT)}function me(x,h){var F="";return h<x.length&&(F=x.charAt(h)),F}f=y.STATE,String.fromCodePoint||(x=String.fromCharCode,h=Math.floor,F=function(){var ce=[],N=-1,W=arguments.length;if(!W)return"";for(var S="";++N<W;){var d=Number(arguments[N]);if(!isFinite(d)||d<0||d>1114111||h(d)!==d)throw RangeError("Invalid code point: "+d);d<=65535?ce.push(d):ce.push(55296+((d-=65536)>>10),d%1024+56320),(N+1===W||ce.length>16384)&&(S+=x.apply(null,ce),ce.length=0)}return S},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:F,configurable:!0,writable:!0}):String.fromCodePoint=F)}(G)},8846:function(te,G,M){var y;(function(){function D(a){"use strict";var l={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `\xab\xab\xab` and `\xbb\xbb\xbb` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===a)return JSON.parse(JSON.stringify(l));var u={};for(var T in l)l.hasOwnProperty(T)&&(u[T]=l[T].defaultValue);return u}var c={},g={},m={},e=D(!0),_="vanilla",E={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:D(!0),allOn:function v(){"use strict";var a=D(!0),l={};for(var u in a)a.hasOwnProperty(u)&&(l[u]=!0);return l}()};function b(a,l){"use strict";var u=l?"Error in "+l+" extension->":"Error in unnamed extension",T={valid:!0,error:""};c.helper.isArray(a)||(a=[a]);for(var f=0;f<a.length;++f){var U=u+" sub-extension "+f+": ",k=a[f];if("object"!=typeof k)return T.valid=!1,T.error=U+"must be an object, but "+typeof k+" given",T;if(!c.helper.isString(k.type))return T.valid=!1,T.error=U+'property "type" must be a string, but '+typeof k.type+" given",T;var Q=k.type=k.type.toLowerCase();if("language"===Q&&(Q=k.type="lang"),"html"===Q&&(Q=k.type="output"),"lang"!==Q&&"output"!==Q&&"listener"!==Q)return T.valid=!1,T.error=U+"type "+Q+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',T;if("listener"===Q){if(c.helper.isUndefined(k.listeners))return T.valid=!1,T.error=U+'. Extensions of type "listener" must have a property called "listeners"',T}else if(c.helper.isUndefined(k.filter)&&c.helper.isUndefined(k.regex))return T.valid=!1,T.error=U+Q+' extensions must define either a "regex" property or a "filter" method',T;if(k.listeners){if("object"!=typeof k.listeners)return T.valid=!1,T.error=U+'"listeners" property must be an object but '+typeof k.listeners+" given",T;for(var ne in k.listeners)if(k.listeners.hasOwnProperty(ne)&&"function"!=typeof k.listeners[ne])return T.valid=!1,T.error=U+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+ne+" must be a function but "+typeof k.listeners[ne]+" given",T}if(k.filter){if("function"!=typeof k.filter)return T.valid=!1,T.error=U+'"filter" must be a function, but '+typeof k.filter+" given",T}else if(k.regex){if(c.helper.isString(k.regex)&&(k.regex=new RegExp(k.regex,"g")),!(k.regex instanceof RegExp))return T.valid=!1,T.error=U+'"regex" property must either be a string or a RegExp object, but '+typeof k.regex+" given",T;if(c.helper.isUndefined(k.replace))return T.valid=!1,T.error=U+'"regex" extensions must implement a replace string or function',T}}return T}function C(a,l){"use strict";return"\xa8E"+l.charCodeAt(0)+"E"}c.helper={},c.extensions={},c.setOption=function(a,l){"use strict";return e[a]=l,this},c.getOption=function(a){"use strict";return e[a]},c.getOptions=function(){"use strict";return e},c.resetOptions=function(){"use strict";e=D(!0)},c.setFlavor=function(a){"use strict";if(!E.hasOwnProperty(a))throw Error(a+" flavor was not found");c.resetOptions();var l=E[a];for(var u in _=a,l)l.hasOwnProperty(u)&&(e[u]=l[u])},c.getFlavor=function(){"use strict";return _},c.getFlavorOptions=function(a){"use strict";if(E.hasOwnProperty(a))return E[a]},c.getDefaultOptions=function(a){"use strict";return D(a)},c.subParser=function(a,l){"use strict";if(c.helper.isString(a)){if(!(typeof l<"u")){if(g.hasOwnProperty(a))return g[a];throw Error("SubParser named "+a+" not registered!")}g[a]=l}},c.extension=function(a,l){"use strict";if(!c.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=c.helper.stdExtName(a),c.helper.isUndefined(l)){if(!m.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return m[a]}"function"==typeof l&&(l=l()),c.helper.isArray(l)||(l=[l]);var u=b(l,a);if(!u.valid)throw Error(u.error);m[a]=l},c.getAllExtensions=function(){"use strict";return m},c.removeExtension=function(a){"use strict";delete m[a]},c.resetExtensions=function(){"use strict";m={}},c.validateExtension=function(a){"use strict";var l=b(a,null);return!!l.valid||(console.warn(l.error),!1)},c.hasOwnProperty("helper")||(c.helper={}),c.helper.isString=function(a){"use strict";return"string"==typeof a||a instanceof String},c.helper.isFunction=function(a){"use strict";return a&&"[object Function]"==={}.toString.call(a)},c.helper.isArray=function(a){"use strict";return Array.isArray(a)},c.helper.isUndefined=function(a){"use strict";return typeof a>"u"},c.helper.forEach=function(a,l){"use strict";if(c.helper.isUndefined(a))throw new Error("obj param is required");if(c.helper.isUndefined(l))throw new Error("callback param is required");if(!c.helper.isFunction(l))throw new Error("callback param must be a function/closure");if("function"==typeof a.forEach)a.forEach(l);else if(c.helper.isArray(a))for(var u=0;u<a.length;u++)l(a[u],u,a);else{if("object"!=typeof a)throw new Error("obj does not seem to be an array or an iterable object");for(var T in a)a.hasOwnProperty(T)&&l(a[T],T,a)}},c.helper.stdExtName=function(a){"use strict";return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},c.helper.escapeCharactersCallback=C,c.helper.escapeCharacters=function(a,l,u){"use strict";var T="(["+l.replace(/([\[\]\\])/g,"\\$1")+"])";u&&(T="\\\\"+T);var f=new RegExp(T,"g");return a.replace(f,C)},c.helper.unescapeHTMLEntities=function(a){"use strict";return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var A=function(a,l,u,T){"use strict";var le,oe,de,B,ue,f=T||"",U=f.indexOf("g")>-1,k=new RegExp(l+"|"+u,"g"+f.replace(/g/g,"")),Q=new RegExp(l,f.replace(/g/g,"")),ne=[];do{for(le=0;de=k.exec(a);)if(Q.test(de[0]))le++||(B=(oe=k.lastIndex)-de[0].length);else if(le&&!--le&&(ne.push({left:{start:B,end:oe},match:{start:oe,end:de.index},right:{start:de.index,end:ue=de.index+de[0].length},wholeMatch:{start:B,end:ue}}),!U))return ne}while(le&&(k.lastIndex=oe));return ne};c.helper.matchRecursiveRegExp=function(a,l,u,T){"use strict";for(var f=A(a,l,u,T),U=[],k=0;k<f.length;++k)U.push([a.slice(f[k].wholeMatch.start,f[k].wholeMatch.end),a.slice(f[k].match.start,f[k].match.end),a.slice(f[k].left.start,f[k].left.end),a.slice(f[k].right.start,f[k].right.end)]);return U},c.helper.replaceRecursiveRegExp=function(a,l,u,T,f){"use strict";if(!c.helper.isFunction(l)){var U=l;l=function(){return U}}var k=A(a,u,T,f),Q=a,ne=k.length;if(ne>0){var le=[];0!==k[0].wholeMatch.start&&le.push(a.slice(0,k[0].wholeMatch.start));for(var oe=0;oe<ne;++oe)le.push(l(a.slice(k[oe].wholeMatch.start,k[oe].wholeMatch.end),a.slice(k[oe].match.start,k[oe].match.end),a.slice(k[oe].left.start,k[oe].left.end),a.slice(k[oe].right.start,k[oe].right.end))),oe<ne-1&&le.push(a.slice(k[oe].wholeMatch.end,k[oe+1].wholeMatch.start));k[ne-1].wholeMatch.end<a.length&&le.push(a.slice(k[ne-1].wholeMatch.end)),Q=le.join("")}return Q},c.helper.regexIndexOf=function(a,l,u){"use strict";if(!c.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(l instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var T=a.substring(u||0).search(l);return T>=0?T+(u||0):T},c.helper.splitAtIndex=function(a,l){"use strict";if(!c.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,l),a.substring(l)]},c.helper.encodeEmailAddress=function(a){"use strict";var l=[function(u){return"&#"+u.charCodeAt(0)+";"},function(u){return"&#x"+u.charCodeAt(0).toString(16)+";"},function(u){return u}];return a.replace(/./g,function(u){if("@"===u)u=l[Math.floor(2*Math.random())](u);else{var T=Math.random();u=T>.9?l[2](u):T>.45?l[1](u):l[0](u)}return u})},c.helper.padEnd=function(l,u,T){"use strict";return u>>=0,T=String(T||" "),l.length>u?String(l):((u-=l.length)>T.length&&(T+=T.repeat(u/T.length)),String(l)+T.slice(0,u))},typeof console>"u"&&(console={warn:function(a){"use strict";alert(a)},log:function(a){"use strict";alert(a)},error:function(a){"use strict";throw a}}),c.helper.regexes={asteriskDashAndColon:/([*_:~])/g},c.helper.emojis={"+1":"\u{1f44d}","-1":"\u{1f44e}",100:"\u{1f4af}",1234:"\u{1f522}","1st_place_medal":"\u{1f947}","2nd_place_medal":"\u{1f948}","3rd_place_medal":"\u{1f949}","8ball":"\u{1f3b1}",a:"\u{1f170}\ufe0f",ab:"\u{1f18e}",abc:"\u{1f524}",abcd:"\u{1f521}",accept:"\u{1f251}",aerial_tramway:"\u{1f6a1}",airplane:"\u2708\ufe0f",alarm_clock:"\u23f0",alembic:"\u2697\ufe0f",alien:"\u{1f47d}",ambulance:"\u{1f691}",amphora:"\u{1f3fa}",anchor:"\u2693\ufe0f",angel:"\u{1f47c}",anger:"\u{1f4a2}",angry:"\u{1f620}",anguished:"\u{1f627}",ant:"\u{1f41c}",apple:"\u{1f34e}",aquarius:"\u2652\ufe0f",aries:"\u2648\ufe0f",arrow_backward:"\u25c0\ufe0f",arrow_double_down:"\u23ec",arrow_double_up:"\u23eb",arrow_down:"\u2b07\ufe0f",arrow_down_small:"\u{1f53d}",arrow_forward:"\u25b6\ufe0f",arrow_heading_down:"\u2935\ufe0f",arrow_heading_up:"\u2934\ufe0f",arrow_left:"\u2b05\ufe0f",arrow_lower_left:"\u2199\ufe0f",arrow_lower_right:"\u2198\ufe0f",arrow_right:"\u27a1\ufe0f",arrow_right_hook:"\u21aa\ufe0f",arrow_up:"\u2b06\ufe0f",arrow_up_down:"\u2195\ufe0f",arrow_up_small:"\u{1f53c}",arrow_upper_left:"\u2196\ufe0f",arrow_upper_right:"\u2197\ufe0f",arrows_clockwise:"\u{1f503}",arrows_counterclockwise:"\u{1f504}",art:"\u{1f3a8}",articulated_lorry:"\u{1f69b}",artificial_satellite:"\u{1f6f0}",astonished:"\u{1f632}",athletic_shoe:"\u{1f45f}",atm:"\u{1f3e7}",atom_symbol:"\u269b\ufe0f",avocado:"\u{1f951}",b:"\u{1f171}\ufe0f",baby:"\u{1f476}",baby_bottle:"\u{1f37c}",baby_chick:"\u{1f424}",baby_symbol:"\u{1f6bc}",back:"\u{1f519}",bacon:"\u{1f953}",badminton:"\u{1f3f8}",baggage_claim:"\u{1f6c4}",baguette_bread:"\u{1f956}",balance_scale:"\u2696\ufe0f",balloon:"\u{1f388}",ballot_box:"\u{1f5f3}",ballot_box_with_check:"\u2611\ufe0f",bamboo:"\u{1f38d}",banana:"\u{1f34c}",bangbang:"\u203c\ufe0f",bank:"\u{1f3e6}",bar_chart:"\u{1f4ca}",barber:"\u{1f488}",baseball:"\u26be\ufe0f",basketball:"\u{1f3c0}",basketball_man:"\u26f9\ufe0f",basketball_woman:"\u26f9\ufe0f&zwj;\u2640\ufe0f",bat:"\u{1f987}",bath:"\u{1f6c0}",bathtub:"\u{1f6c1}",battery:"\u{1f50b}",beach_umbrella:"\u{1f3d6}",bear:"\u{1f43b}",bed:"\u{1f6cf}",bee:"\u{1f41d}",beer:"\u{1f37a}",beers:"\u{1f37b}",beetle:"\u{1f41e}",beginner:"\u{1f530}",bell:"\u{1f514}",bellhop_bell:"\u{1f6ce}",bento:"\u{1f371}",biking_man:"\u{1f6b4}",bike:"\u{1f6b2}",biking_woman:"\u{1f6b4}&zwj;\u2640\ufe0f",bikini:"\u{1f459}",biohazard:"\u2623\ufe0f",bird:"\u{1f426}",birthday:"\u{1f382}",black_circle:"\u26ab\ufe0f",black_flag:"\u{1f3f4}",black_heart:"\u{1f5a4}",black_joker:"\u{1f0cf}",black_large_square:"\u2b1b\ufe0f",black_medium_small_square:"\u25fe\ufe0f",black_medium_square:"\u25fc\ufe0f",black_nib:"\u2712\ufe0f",black_small_square:"\u25aa\ufe0f",black_square_button:"\u{1f532}",blonde_man:"\u{1f471}",blonde_woman:"\u{1f471}&zwj;\u2640\ufe0f",blossom:"\u{1f33c}",blowfish:"\u{1f421}",blue_book:"\u{1f4d8}",blue_car:"\u{1f699}",blue_heart:"\u{1f499}",blush:"\u{1f60a}",boar:"\u{1f417}",boat:"\u26f5\ufe0f",bomb:"\u{1f4a3}",book:"\u{1f4d6}",bookmark:"\u{1f516}",bookmark_tabs:"\u{1f4d1}",books:"\u{1f4da}",boom:"\u{1f4a5}",boot:"\u{1f462}",bouquet:"\u{1f490}",bowing_man:"\u{1f647}",bow_and_arrow:"\u{1f3f9}",bowing_woman:"\u{1f647}&zwj;\u2640\ufe0f",bowling:"\u{1f3b3}",boxing_glove:"\u{1f94a}",boy:"\u{1f466}",bread:"\u{1f35e}",bride_with_veil:"\u{1f470}",bridge_at_night:"\u{1f309}",briefcase:"\u{1f4bc}",broken_heart:"\u{1f494}",bug:"\u{1f41b}",building_construction:"\u{1f3d7}",bulb:"\u{1f4a1}",bullettrain_front:"\u{1f685}",bullettrain_side:"\u{1f684}",burrito:"\u{1f32f}",bus:"\u{1f68c}",business_suit_levitating:"\u{1f574}",busstop:"\u{1f68f}",bust_in_silhouette:"\u{1f464}",busts_in_silhouette:"\u{1f465}",butterfly:"\u{1f98b}",cactus:"\u{1f335}",cake:"\u{1f370}",calendar:"\u{1f4c6}",call_me_hand:"\u{1f919}",calling:"\u{1f4f2}",camel:"\u{1f42b}",camera:"\u{1f4f7}",camera_flash:"\u{1f4f8}",camping:"\u{1f3d5}",cancer:"\u264b\ufe0f",candle:"\u{1f56f}",candy:"\u{1f36c}",canoe:"\u{1f6f6}",capital_abcd:"\u{1f520}",capricorn:"\u2651\ufe0f",car:"\u{1f697}",card_file_box:"\u{1f5c3}",card_index:"\u{1f4c7}",card_index_dividers:"\u{1f5c2}",carousel_horse:"\u{1f3a0}",carrot:"\u{1f955}",cat:"\u{1f431}",cat2:"\u{1f408}",cd:"\u{1f4bf}",chains:"\u26d3",champagne:"\u{1f37e}",chart:"\u{1f4b9}",chart_with_downwards_trend:"\u{1f4c9}",chart_with_upwards_trend:"\u{1f4c8}",checkered_flag:"\u{1f3c1}",cheese:"\u{1f9c0}",cherries:"\u{1f352}",cherry_blossom:"\u{1f338}",chestnut:"\u{1f330}",chicken:"\u{1f414}",children_crossing:"\u{1f6b8}",chipmunk:"\u{1f43f}",chocolate_bar:"\u{1f36b}",christmas_tree:"\u{1f384}",church:"\u26ea\ufe0f",cinema:"\u{1f3a6}",circus_tent:"\u{1f3aa}",city_sunrise:"\u{1f307}",city_sunset:"\u{1f306}",cityscape:"\u{1f3d9}",cl:"\u{1f191}",clamp:"\u{1f5dc}",clap:"\u{1f44f}",clapper:"\u{1f3ac}",classical_building:"\u{1f3db}",clinking_glasses:"\u{1f942}",clipboard:"\u{1f4cb}",clock1:"\u{1f550}",clock10:"\u{1f559}",clock1030:"\u{1f565}",clock11:"\u{1f55a}",clock1130:"\u{1f566}",clock12:"\u{1f55b}",clock1230:"\u{1f567}",clock130:"\u{1f55c}",clock2:"\u{1f551}",clock230:"\u{1f55d}",clock3:"\u{1f552}",clock330:"\u{1f55e}",clock4:"\u{1f553}",clock430:"\u{1f55f}",clock5:"\u{1f554}",clock530:"\u{1f560}",clock6:"\u{1f555}",clock630:"\u{1f561}",clock7:"\u{1f556}",clock730:"\u{1f562}",clock8:"\u{1f557}",clock830:"\u{1f563}",clock9:"\u{1f558}",clock930:"\u{1f564}",closed_book:"\u{1f4d5}",closed_lock_with_key:"\u{1f510}",closed_umbrella:"\u{1f302}",cloud:"\u2601\ufe0f",cloud_with_lightning:"\u{1f329}",cloud_with_lightning_and_rain:"\u26c8",cloud_with_rain:"\u{1f327}",cloud_with_snow:"\u{1f328}",clown_face:"\u{1f921}",clubs:"\u2663\ufe0f",cocktail:"\u{1f378}",coffee:"\u2615\ufe0f",coffin:"\u26b0\ufe0f",cold_sweat:"\u{1f630}",comet:"\u2604\ufe0f",computer:"\u{1f4bb}",computer_mouse:"\u{1f5b1}",confetti_ball:"\u{1f38a}",confounded:"\u{1f616}",confused:"\u{1f615}",congratulations:"\u3297\ufe0f",construction:"\u{1f6a7}",construction_worker_man:"\u{1f477}",construction_worker_woman:"\u{1f477}&zwj;\u2640\ufe0f",control_knobs:"\u{1f39b}",convenience_store:"\u{1f3ea}",cookie:"\u{1f36a}",cool:"\u{1f192}",policeman:"\u{1f46e}",copyright:"\xa9\ufe0f",corn:"\u{1f33d}",couch_and_lamp:"\u{1f6cb}",couple:"\u{1f46b}",couple_with_heart_woman_man:"\u{1f491}",couple_with_heart_man_man:"\u{1f468}&zwj;\u2764\ufe0f&zwj;\u{1f468}",couple_with_heart_woman_woman:"\u{1f469}&zwj;\u2764\ufe0f&zwj;\u{1f469}",couplekiss_man_man:"\u{1f468}&zwj;\u2764\ufe0f&zwj;\u{1f48b}&zwj;\u{1f468}",couplekiss_man_woman:"\u{1f48f}",couplekiss_woman_woman:"\u{1f469}&zwj;\u2764\ufe0f&zwj;\u{1f48b}&zwj;\u{1f469}",cow:"\u{1f42e}",cow2:"\u{1f404}",cowboy_hat_face:"\u{1f920}",crab:"\u{1f980}",crayon:"\u{1f58d}",credit_card:"\u{1f4b3}",crescent_moon:"\u{1f319}",cricket:"\u{1f3cf}",crocodile:"\u{1f40a}",croissant:"\u{1f950}",crossed_fingers:"\u{1f91e}",crossed_flags:"\u{1f38c}",crossed_swords:"\u2694\ufe0f",crown:"\u{1f451}",cry:"\u{1f622}",crying_cat_face:"\u{1f63f}",crystal_ball:"\u{1f52e}",cucumber:"\u{1f952}",cupid:"\u{1f498}",curly_loop:"\u27b0",currency_exchange:"\u{1f4b1}",curry:"\u{1f35b}",custard:"\u{1f36e}",customs:"\u{1f6c3}",cyclone:"\u{1f300}",dagger:"\u{1f5e1}",dancer:"\u{1f483}",dancing_women:"\u{1f46f}",dancing_men:"\u{1f46f}&zwj;\u2642\ufe0f",dango:"\u{1f361}",dark_sunglasses:"\u{1f576}",dart:"\u{1f3af}",dash:"\u{1f4a8}",date:"\u{1f4c5}",deciduous_tree:"\u{1f333}",deer:"\u{1f98c}",department_store:"\u{1f3ec}",derelict_house:"\u{1f3da}",desert:"\u{1f3dc}",desert_island:"\u{1f3dd}",desktop_computer:"\u{1f5a5}",male_detective:"\u{1f575}\ufe0f",diamond_shape_with_a_dot_inside:"\u{1f4a0}",diamonds:"\u2666\ufe0f",disappointed:"\u{1f61e}",disappointed_relieved:"\u{1f625}",dizzy:"\u{1f4ab}",dizzy_face:"\u{1f635}",do_not_litter:"\u{1f6af}",dog:"\u{1f436}",dog2:"\u{1f415}",dollar:"\u{1f4b5}",dolls:"\u{1f38e}",dolphin:"\u{1f42c}",door:"\u{1f6aa}",doughnut:"\u{1f369}",dove:"\u{1f54a}",dragon:"\u{1f409}",dragon_face:"\u{1f432}",dress:"\u{1f457}",dromedary_camel:"\u{1f42a}",drooling_face:"\u{1f924}",droplet:"\u{1f4a7}",drum:"\u{1f941}",duck:"\u{1f986}",dvd:"\u{1f4c0}","e-mail":"\u{1f4e7}",eagle:"\u{1f985}",ear:"\u{1f442}",ear_of_rice:"\u{1f33e}",earth_africa:"\u{1f30d}",earth_americas:"\u{1f30e}",earth_asia:"\u{1f30f}",egg:"\u{1f95a}",eggplant:"\u{1f346}",eight_pointed_black_star:"\u2734\ufe0f",eight_spoked_asterisk:"\u2733\ufe0f",electric_plug:"\u{1f50c}",elephant:"\u{1f418}",email:"\u2709\ufe0f",end:"\u{1f51a}",envelope_with_arrow:"\u{1f4e9}",euro:"\u{1f4b6}",european_castle:"\u{1f3f0}",european_post_office:"\u{1f3e4}",evergreen_tree:"\u{1f332}",exclamation:"\u2757\ufe0f",expressionless:"\u{1f611}",eye:"\u{1f441}",eye_speech_bubble:"\u{1f441}&zwj;\u{1f5e8}",eyeglasses:"\u{1f453}",eyes:"\u{1f440}",face_with_head_bandage:"\u{1f915}",face_with_thermometer:"\u{1f912}",fist_oncoming:"\u{1f44a}",factory:"\u{1f3ed}",fallen_leaf:"\u{1f342}",family_man_woman_boy:"\u{1f46a}",family_man_boy:"\u{1f468}&zwj;\u{1f466}",family_man_boy_boy:"\u{1f468}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_girl:"\u{1f468}&zwj;\u{1f467}",family_man_girl_boy:"\u{1f468}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_girl_girl:"\u{1f468}&zwj;\u{1f467}&zwj;\u{1f467}",family_man_man_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f466}",family_man_man_boy_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_man_girl:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}",family_man_man_girl_boy:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_man_girl_girl:"\u{1f468}&zwj;\u{1f468}&zwj;\u{1f467}&zwj;\u{1f467}",family_man_woman_boy_boy:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_man_woman_girl:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}",family_man_woman_girl_boy:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_man_woman_girl_girl:"\u{1f468}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",family_woman_boy:"\u{1f469}&zwj;\u{1f466}",family_woman_boy_boy:"\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_woman_girl:"\u{1f469}&zwj;\u{1f467}",family_woman_girl_boy:"\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_woman_girl_girl:"\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",family_woman_woman_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f466}",family_woman_woman_boy_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f466}&zwj;\u{1f466}",family_woman_woman_girl:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}",family_woman_woman_girl_boy:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f466}",family_woman_woman_girl_girl:"\u{1f469}&zwj;\u{1f469}&zwj;\u{1f467}&zwj;\u{1f467}",fast_forward:"\u23e9",fax:"\u{1f4e0}",fearful:"\u{1f628}",feet:"\u{1f43e}",female_detective:"\u{1f575}\ufe0f&zwj;\u2640\ufe0f",ferris_wheel:"\u{1f3a1}",ferry:"\u26f4",field_hockey:"\u{1f3d1}",file_cabinet:"\u{1f5c4}",file_folder:"\u{1f4c1}",film_projector:"\u{1f4fd}",film_strip:"\u{1f39e}",fire:"\u{1f525}",fire_engine:"\u{1f692}",fireworks:"\u{1f386}",first_quarter_moon:"\u{1f313}",first_quarter_moon_with_face:"\u{1f31b}",fish:"\u{1f41f}",fish_cake:"\u{1f365}",fishing_pole_and_fish:"\u{1f3a3}",fist_raised:"\u270a",fist_left:"\u{1f91b}",fist_right:"\u{1f91c}",flags:"\u{1f38f}",flashlight:"\u{1f526}",fleur_de_lis:"\u269c\ufe0f",flight_arrival:"\u{1f6ec}",flight_departure:"\u{1f6eb}",floppy_disk:"\u{1f4be}",flower_playing_cards:"\u{1f3b4}",flushed:"\u{1f633}",fog:"\u{1f32b}",foggy:"\u{1f301}",football:"\u{1f3c8}",footprints:"\u{1f463}",fork_and_knife:"\u{1f374}",fountain:"\u26f2\ufe0f",fountain_pen:"\u{1f58b}",four_leaf_clover:"\u{1f340}",fox_face:"\u{1f98a}",framed_picture:"\u{1f5bc}",free:"\u{1f193}",fried_egg:"\u{1f373}",fried_shrimp:"\u{1f364}",fries:"\u{1f35f}",frog:"\u{1f438}",frowning:"\u{1f626}",frowning_face:"\u2639\ufe0f",frowning_man:"\u{1f64d}&zwj;\u2642\ufe0f",frowning_woman:"\u{1f64d}",middle_finger:"\u{1f595}",fuelpump:"\u26fd\ufe0f",full_moon:"\u{1f315}",full_moon_with_face:"\u{1f31d}",funeral_urn:"\u26b1\ufe0f",game_die:"\u{1f3b2}",gear:"\u2699\ufe0f",gem:"\u{1f48e}",gemini:"\u264a\ufe0f",ghost:"\u{1f47b}",gift:"\u{1f381}",gift_heart:"\u{1f49d}",girl:"\u{1f467}",globe_with_meridians:"\u{1f310}",goal_net:"\u{1f945}",goat:"\u{1f410}",golf:"\u26f3\ufe0f",golfing_man:"\u{1f3cc}\ufe0f",golfing_woman:"\u{1f3cc}\ufe0f&zwj;\u2640\ufe0f",gorilla:"\u{1f98d}",grapes:"\u{1f347}",green_apple:"\u{1f34f}",green_book:"\u{1f4d7}",green_heart:"\u{1f49a}",green_salad:"\u{1f957}",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\u{1f62c}",grin:"\u{1f601}",grinning:"\u{1f600}",guardsman:"\u{1f482}",guardswoman:"\u{1f482}&zwj;\u2640\ufe0f",guitar:"\u{1f3b8}",gun:"\u{1f52b}",haircut_woman:"\u{1f487}",haircut_man:"\u{1f487}&zwj;\u2642\ufe0f",hamburger:"\u{1f354}",hammer:"\u{1f528}",hammer_and_pick:"\u2692",hammer_and_wrench:"\u{1f6e0}",hamster:"\u{1f439}",hand:"\u270b",handbag:"\u{1f45c}",handshake:"\u{1f91d}",hankey:"\u{1f4a9}",hatched_chick:"\u{1f425}",hatching_chick:"\u{1f423}",headphones:"\u{1f3a7}",hear_no_evil:"\u{1f649}",heart:"\u2764\ufe0f",heart_decoration:"\u{1f49f}",heart_eyes:"\u{1f60d}",heart_eyes_cat:"\u{1f63b}",heartbeat:"\u{1f493}",heartpulse:"\u{1f497}",hearts:"\u2665\ufe0f",heavy_check_mark:"\u2714\ufe0f",heavy_division_sign:"\u2797",heavy_dollar_sign:"\u{1f4b2}",heavy_heart_exclamation:"\u2763\ufe0f",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716\ufe0f",heavy_plus_sign:"\u2795",helicopter:"\u{1f681}",herb:"\u{1f33f}",hibiscus:"\u{1f33a}",high_brightness:"\u{1f506}",high_heel:"\u{1f460}",hocho:"\u{1f52a}",hole:"\u{1f573}",honey_pot:"\u{1f36f}",horse:"\u{1f434}",horse_racing:"\u{1f3c7}",hospital:"\u{1f3e5}",hot_pepper:"\u{1f336}",hotdog:"\u{1f32d}",hotel:"\u{1f3e8}",hotsprings:"\u2668\ufe0f",hourglass:"\u231b\ufe0f",hourglass_flowing_sand:"\u23f3",house:"\u{1f3e0}",house_with_garden:"\u{1f3e1}",houses:"\u{1f3d8}",hugs:"\u{1f917}",hushed:"\u{1f62f}",ice_cream:"\u{1f368}",ice_hockey:"\u{1f3d2}",ice_skate:"\u26f8",icecream:"\u{1f366}",id:"\u{1f194}",ideograph_advantage:"\u{1f250}",imp:"\u{1f47f}",inbox_tray:"\u{1f4e5}",incoming_envelope:"\u{1f4e8}",tipping_hand_woman:"\u{1f481}",information_source:"\u2139\ufe0f",innocent:"\u{1f607}",interrobang:"\u2049\ufe0f",iphone:"\u{1f4f1}",izakaya_lantern:"\u{1f3ee}",jack_o_lantern:"\u{1f383}",japan:"\u{1f5fe}",japanese_castle:"\u{1f3ef}",japanese_goblin:"\u{1f47a}",japanese_ogre:"\u{1f479}",jeans:"\u{1f456}",joy:"\u{1f602}",joy_cat:"\u{1f639}",joystick:"\u{1f579}",kaaba:"\u{1f54b}",key:"\u{1f511}",keyboard:"\u2328\ufe0f",keycap_ten:"\u{1f51f}",kick_scooter:"\u{1f6f4}",kimono:"\u{1f458}",kiss:"\u{1f48b}",kissing:"\u{1f617}",kissing_cat:"\u{1f63d}",kissing_closed_eyes:"\u{1f61a}",kissing_heart:"\u{1f618}",kissing_smiling_eyes:"\u{1f619}",kiwi_fruit:"\u{1f95d}",koala:"\u{1f428}",koko:"\u{1f201}",label:"\u{1f3f7}",large_blue_circle:"\u{1f535}",large_blue_diamond:"\u{1f537}",large_orange_diamond:"\u{1f536}",last_quarter_moon:"\u{1f317}",last_quarter_moon_with_face:"\u{1f31c}",latin_cross:"\u271d\ufe0f",laughing:"\u{1f606}",leaves:"\u{1f343}",ledger:"\u{1f4d2}",left_luggage:"\u{1f6c5}",left_right_arrow:"\u2194\ufe0f",leftwards_arrow_with_hook:"\u21a9\ufe0f",lemon:"\u{1f34b}",leo:"\u264c\ufe0f",leopard:"\u{1f406}",level_slider:"\u{1f39a}",libra:"\u264e\ufe0f",light_rail:"\u{1f688}",link:"\u{1f517}",lion:"\u{1f981}",lips:"\u{1f444}",lipstick:"\u{1f484}",lizard:"\u{1f98e}",lock:"\u{1f512}",lock_with_ink_pen:"\u{1f50f}",lollipop:"\u{1f36d}",loop:"\u27bf",loud_sound:"\u{1f50a}",loudspeaker:"\u{1f4e2}",love_hotel:"\u{1f3e9}",love_letter:"\u{1f48c}",low_brightness:"\u{1f505}",lying_face:"\u{1f925}",m:"\u24c2\ufe0f",mag:"\u{1f50d}",mag_right:"\u{1f50e}",mahjong:"\u{1f004}\ufe0f",mailbox:"\u{1f4eb}",mailbox_closed:"\u{1f4ea}",mailbox_with_mail:"\u{1f4ec}",mailbox_with_no_mail:"\u{1f4ed}",man:"\u{1f468}",man_artist:"\u{1f468}&zwj;\u{1f3a8}",man_astronaut:"\u{1f468}&zwj;\u{1f680}",man_cartwheeling:"\u{1f938}&zwj;\u2642\ufe0f",man_cook:"\u{1f468}&zwj;\u{1f373}",man_dancing:"\u{1f57a}",man_facepalming:"\u{1f926}&zwj;\u2642\ufe0f",man_factory_worker:"\u{1f468}&zwj;\u{1f3ed}",man_farmer:"\u{1f468}&zwj;\u{1f33e}",man_firefighter:"\u{1f468}&zwj;\u{1f692}",man_health_worker:"\u{1f468}&zwj;\u2695\ufe0f",man_in_tuxedo:"\u{1f935}",man_judge:"\u{1f468}&zwj;\u2696\ufe0f",man_juggling:"\u{1f939}&zwj;\u2642\ufe0f",man_mechanic:"\u{1f468}&zwj;\u{1f527}",man_office_worker:"\u{1f468}&zwj;\u{1f4bc}",man_pilot:"\u{1f468}&zwj;\u2708\ufe0f",man_playing_handball:"\u{1f93e}&zwj;\u2642\ufe0f",man_playing_water_polo:"\u{1f93d}&zwj;\u2642\ufe0f",man_scientist:"\u{1f468}&zwj;\u{1f52c}",man_shrugging:"\u{1f937}&zwj;\u2642\ufe0f",man_singer:"\u{1f468}&zwj;\u{1f3a4}",man_student:"\u{1f468}&zwj;\u{1f393}",man_teacher:"\u{1f468}&zwj;\u{1f3eb}",man_technologist:"\u{1f468}&zwj;\u{1f4bb}",man_with_gua_pi_mao:"\u{1f472}",man_with_turban:"\u{1f473}",tangerine:"\u{1f34a}",mans_shoe:"\u{1f45e}",mantelpiece_clock:"\u{1f570}",maple_leaf:"\u{1f341}",martial_arts_uniform:"\u{1f94b}",mask:"\u{1f637}",massage_woman:"\u{1f486}",massage_man:"\u{1f486}&zwj;\u2642\ufe0f",meat_on_bone:"\u{1f356}",medal_military:"\u{1f396}",medal_sports:"\u{1f3c5}",mega:"\u{1f4e3}",melon:"\u{1f348}",memo:"\u{1f4dd}",men_wrestling:"\u{1f93c}&zwj;\u2642\ufe0f",menorah:"\u{1f54e}",mens:"\u{1f6b9}",metal:"\u{1f918}",metro:"\u{1f687}",microphone:"\u{1f3a4}",microscope:"\u{1f52c}",milk_glass:"\u{1f95b}",milky_way:"\u{1f30c}",minibus:"\u{1f690}",minidisc:"\u{1f4bd}",mobile_phone_off:"\u{1f4f4}",money_mouth_face:"\u{1f911}",money_with_wings:"\u{1f4b8}",moneybag:"\u{1f4b0}",monkey:"\u{1f412}",monkey_face:"\u{1f435}",monorail:"\u{1f69d}",moon:"\u{1f314}",mortar_board:"\u{1f393}",mosque:"\u{1f54c}",motor_boat:"\u{1f6e5}",motor_scooter:"\u{1f6f5}",motorcycle:"\u{1f3cd}",motorway:"\u{1f6e3}",mount_fuji:"\u{1f5fb}",mountain:"\u26f0",mountain_biking_man:"\u{1f6b5}",mountain_biking_woman:"\u{1f6b5}&zwj;\u2640\ufe0f",mountain_cableway:"\u{1f6a0}",mountain_railway:"\u{1f69e}",mountain_snow:"\u{1f3d4}",mouse:"\u{1f42d}",mouse2:"\u{1f401}",movie_camera:"\u{1f3a5}",moyai:"\u{1f5ff}",mrs_claus:"\u{1f936}",muscle:"\u{1f4aa}",mushroom:"\u{1f344}",musical_keyboard:"\u{1f3b9}",musical_note:"\u{1f3b5}",musical_score:"\u{1f3bc}",mute:"\u{1f507}",nail_care:"\u{1f485}",name_badge:"\u{1f4db}",national_park:"\u{1f3de}",nauseated_face:"\u{1f922}",necktie:"\u{1f454}",negative_squared_cross_mark:"\u274e",nerd_face:"\u{1f913}",neutral_face:"\u{1f610}",new:"\u{1f195}",new_moon:"\u{1f311}",new_moon_with_face:"\u{1f31a}",newspaper:"\u{1f4f0}",newspaper_roll:"\u{1f5de}",next_track_button:"\u23ed",ng:"\u{1f196}",no_good_man:"\u{1f645}&zwj;\u2642\ufe0f",no_good_woman:"\u{1f645}",night_with_stars:"\u{1f303}",no_bell:"\u{1f515}",no_bicycles:"\u{1f6b3}",no_entry:"\u26d4\ufe0f",no_entry_sign:"\u{1f6ab}",no_mobile_phones:"\u{1f4f5}",no_mouth:"\u{1f636}",no_pedestrians:"\u{1f6b7}",no_smoking:"\u{1f6ad}","non-potable_water":"\u{1f6b1}",nose:"\u{1f443}",notebook:"\u{1f4d3}",notebook_with_decorative_cover:"\u{1f4d4}",notes:"\u{1f3b6}",nut_and_bolt:"\u{1f529}",o:"\u2b55\ufe0f",o2:"\u{1f17e}\ufe0f",ocean:"\u{1f30a}",octopus:"\u{1f419}",oden:"\u{1f362}",office:"\u{1f3e2}",oil_drum:"\u{1f6e2}",ok:"\u{1f197}",ok_hand:"\u{1f44c}",ok_man:"\u{1f646}&zwj;\u2642\ufe0f",ok_woman:"\u{1f646}",old_key:"\u{1f5dd}",older_man:"\u{1f474}",older_woman:"\u{1f475}",om:"\u{1f549}",on:"\u{1f51b}",oncoming_automobile:"\u{1f698}",oncoming_bus:"\u{1f68d}",oncoming_police_car:"\u{1f694}",oncoming_taxi:"\u{1f696}",open_file_folder:"\u{1f4c2}",open_hands:"\u{1f450}",open_mouth:"\u{1f62e}",open_umbrella:"\u2602\ufe0f",ophiuchus:"\u26ce",orange_book:"\u{1f4d9}",orthodox_cross:"\u2626\ufe0f",outbox_tray:"\u{1f4e4}",owl:"\u{1f989}",ox:"\u{1f402}",package:"\u{1f4e6}",page_facing_up:"\u{1f4c4}",page_with_curl:"\u{1f4c3}",pager:"\u{1f4df}",paintbrush:"\u{1f58c}",palm_tree:"\u{1f334}",pancakes:"\u{1f95e}",panda_face:"\u{1f43c}",paperclip:"\u{1f4ce}",paperclips:"\u{1f587}",parasol_on_ground:"\u26f1",parking:"\u{1f17f}\ufe0f",part_alternation_mark:"\u303d\ufe0f",partly_sunny:"\u26c5\ufe0f",passenger_ship:"\u{1f6f3}",passport_control:"\u{1f6c2}",pause_button:"\u23f8",peace_symbol:"\u262e\ufe0f",peach:"\u{1f351}",peanuts:"\u{1f95c}",pear:"\u{1f350}",pen:"\u{1f58a}",pencil2:"\u270f\ufe0f",penguin:"\u{1f427}",pensive:"\u{1f614}",performing_arts:"\u{1f3ad}",persevere:"\u{1f623}",person_fencing:"\u{1f93a}",pouting_woman:"\u{1f64e}",phone:"\u260e\ufe0f",pick:"\u26cf",pig:"\u{1f437}",pig2:"\u{1f416}",pig_nose:"\u{1f43d}",pill:"\u{1f48a}",pineapple:"\u{1f34d}",ping_pong:"\u{1f3d3}",pisces:"\u2653\ufe0f",pizza:"\u{1f355}",place_of_worship:"\u{1f6d0}",plate_with_cutlery:"\u{1f37d}",play_or_pause_button:"\u23ef",point_down:"\u{1f447}",point_left:"\u{1f448}",point_right:"\u{1f449}",point_up:"\u261d\ufe0f",point_up_2:"\u{1f446}",police_car:"\u{1f693}",policewoman:"\u{1f46e}&zwj;\u2640\ufe0f",poodle:"\u{1f429}",popcorn:"\u{1f37f}",post_office:"\u{1f3e3}",postal_horn:"\u{1f4ef}",postbox:"\u{1f4ee}",potable_water:"\u{1f6b0}",potato:"\u{1f954}",pouch:"\u{1f45d}",poultry_leg:"\u{1f357}",pound:"\u{1f4b7}",rage:"\u{1f621}",pouting_cat:"\u{1f63e}",pouting_man:"\u{1f64e}&zwj;\u2642\ufe0f",pray:"\u{1f64f}",prayer_beads:"\u{1f4ff}",pregnant_woman:"\u{1f930}",previous_track_button:"\u23ee",prince:"\u{1f934}",princess:"\u{1f478}",printer:"\u{1f5a8}",purple_heart:"\u{1f49c}",purse:"\u{1f45b}",pushpin:"\u{1f4cc}",put_litter_in_its_place:"\u{1f6ae}",question:"\u2753",rabbit:"\u{1f430}",rabbit2:"\u{1f407}",racehorse:"\u{1f40e}",racing_car:"\u{1f3ce}",radio:"\u{1f4fb}",radio_button:"\u{1f518}",radioactive:"\u2622\ufe0f",railway_car:"\u{1f683}",railway_track:"\u{1f6e4}",rainbow:"\u{1f308}",rainbow_flag:"\u{1f3f3}\ufe0f&zwj;\u{1f308}",raised_back_of_hand:"\u{1f91a}",raised_hand_with_fingers_splayed:"\u{1f590}",raised_hands:"\u{1f64c}",raising_hand_woman:"\u{1f64b}",raising_hand_man:"\u{1f64b}&zwj;\u2642\ufe0f",ram:"\u{1f40f}",ramen:"\u{1f35c}",rat:"\u{1f400}",record_button:"\u23fa",recycle:"\u267b\ufe0f",red_circle:"\u{1f534}",registered:"\xae\ufe0f",relaxed:"\u263a\ufe0f",relieved:"\u{1f60c}",reminder_ribbon:"\u{1f397}",repeat:"\u{1f501}",repeat_one:"\u{1f502}",rescue_worker_helmet:"\u26d1",restroom:"\u{1f6bb}",revolving_hearts:"\u{1f49e}",rewind:"\u23ea",rhinoceros:"\u{1f98f}",ribbon:"\u{1f380}",rice:"\u{1f35a}",rice_ball:"\u{1f359}",rice_cracker:"\u{1f358}",rice_scene:"\u{1f391}",right_anger_bubble:"\u{1f5ef}",ring:"\u{1f48d}",robot:"\u{1f916}",rocket:"\u{1f680}",rofl:"\u{1f923}",roll_eyes:"\u{1f644}",roller_coaster:"\u{1f3a2}",rooster:"\u{1f413}",rose:"\u{1f339}",rosette:"\u{1f3f5}",rotating_light:"\u{1f6a8}",round_pushpin:"\u{1f4cd}",rowing_man:"\u{1f6a3}",rowing_woman:"\u{1f6a3}&zwj;\u2640\ufe0f",rugby_football:"\u{1f3c9}",running_man:"\u{1f3c3}",running_shirt_with_sash:"\u{1f3bd}",running_woman:"\u{1f3c3}&zwj;\u2640\ufe0f",sa:"\u{1f202}\ufe0f",sagittarius:"\u2650\ufe0f",sake:"\u{1f376}",sandal:"\u{1f461}",santa:"\u{1f385}",satellite:"\u{1f4e1}",saxophone:"\u{1f3b7}",school:"\u{1f3eb}",school_satchel:"\u{1f392}",scissors:"\u2702\ufe0f",scorpion:"\u{1f982}",scorpius:"\u264f\ufe0f",scream:"\u{1f631}",scream_cat:"\u{1f640}",scroll:"\u{1f4dc}",seat:"\u{1f4ba}",secret:"\u3299\ufe0f",see_no_evil:"\u{1f648}",seedling:"\u{1f331}",selfie:"\u{1f933}",shallow_pan_of_food:"\u{1f958}",shamrock:"\u2618\ufe0f",shark:"\u{1f988}",shaved_ice:"\u{1f367}",sheep:"\u{1f411}",shell:"\u{1f41a}",shield:"\u{1f6e1}",shinto_shrine:"\u26e9",ship:"\u{1f6a2}",shirt:"\u{1f455}",shopping:"\u{1f6cd}",shopping_cart:"\u{1f6d2}",shower:"\u{1f6bf}",shrimp:"\u{1f990}",signal_strength:"\u{1f4f6}",six_pointed_star:"\u{1f52f}",ski:"\u{1f3bf}",skier:"\u26f7",skull:"\u{1f480}",skull_and_crossbones:"\u2620\ufe0f",sleeping:"\u{1f634}",sleeping_bed:"\u{1f6cc}",sleepy:"\u{1f62a}",slightly_frowning_face:"\u{1f641}",slightly_smiling_face:"\u{1f642}",slot_machine:"\u{1f3b0}",small_airplane:"\u{1f6e9}",small_blue_diamond:"\u{1f539}",small_orange_diamond:"\u{1f538}",small_red_triangle:"\u{1f53a}",small_red_triangle_down:"\u{1f53b}",smile:"\u{1f604}",smile_cat:"\u{1f638}",smiley:"\u{1f603}",smiley_cat:"\u{1f63a}",smiling_imp:"\u{1f608}",smirk:"\u{1f60f}",smirk_cat:"\u{1f63c}",smoking:"\u{1f6ac}",snail:"\u{1f40c}",snake:"\u{1f40d}",sneezing_face:"\u{1f927}",snowboarder:"\u{1f3c2}",snowflake:"\u2744\ufe0f",snowman:"\u26c4\ufe0f",snowman_with_snow:"\u2603\ufe0f",sob:"\u{1f62d}",soccer:"\u26bd\ufe0f",soon:"\u{1f51c}",sos:"\u{1f198}",sound:"\u{1f509}",space_invader:"\u{1f47e}",spades:"\u2660\ufe0f",spaghetti:"\u{1f35d}",sparkle:"\u2747\ufe0f",sparkler:"\u{1f387}",sparkles:"\u2728",sparkling_heart:"\u{1f496}",speak_no_evil:"\u{1f64a}",speaker:"\u{1f508}",speaking_head:"\u{1f5e3}",speech_balloon:"\u{1f4ac}",speedboat:"\u{1f6a4}",spider:"\u{1f577}",spider_web:"\u{1f578}",spiral_calendar:"\u{1f5d3}",spiral_notepad:"\u{1f5d2}",spoon:"\u{1f944}",squid:"\u{1f991}",stadium:"\u{1f3df}",star:"\u2b50\ufe0f",star2:"\u{1f31f}",star_and_crescent:"\u262a\ufe0f",star_of_david:"\u2721\ufe0f",stars:"\u{1f320}",station:"\u{1f689}",statue_of_liberty:"\u{1f5fd}",steam_locomotive:"\u{1f682}",stew:"\u{1f372}",stop_button:"\u23f9",stop_sign:"\u{1f6d1}",stopwatch:"\u23f1",straight_ruler:"\u{1f4cf}",strawberry:"\u{1f353}",stuck_out_tongue:"\u{1f61b}",stuck_out_tongue_closed_eyes:"\u{1f61d}",stuck_out_tongue_winking_eye:"\u{1f61c}",studio_microphone:"\u{1f399}",stuffed_flatbread:"\u{1f959}",sun_behind_large_cloud:"\u{1f325}",sun_behind_rain_cloud:"\u{1f326}",sun_behind_small_cloud:"\u{1f324}",sun_with_face:"\u{1f31e}",sunflower:"\u{1f33b}",sunglasses:"\u{1f60e}",sunny:"\u2600\ufe0f",sunrise:"\u{1f305}",sunrise_over_mountains:"\u{1f304}",surfing_man:"\u{1f3c4}",surfing_woman:"\u{1f3c4}&zwj;\u2640\ufe0f",sushi:"\u{1f363}",suspension_railway:"\u{1f69f}",sweat:"\u{1f613}",sweat_drops:"\u{1f4a6}",sweat_smile:"\u{1f605}",sweet_potato:"\u{1f360}",swimming_man:"\u{1f3ca}",swimming_woman:"\u{1f3ca}&zwj;\u2640\ufe0f",symbols:"\u{1f523}",synagogue:"\u{1f54d}",syringe:"\u{1f489}",taco:"\u{1f32e}",tada:"\u{1f389}",tanabata_tree:"\u{1f38b}",taurus:"\u2649\ufe0f",taxi:"\u{1f695}",tea:"\u{1f375}",telephone_receiver:"\u{1f4de}",telescope:"\u{1f52d}",tennis:"\u{1f3be}",tent:"\u26fa\ufe0f",thermometer:"\u{1f321}",thinking:"\u{1f914}",thought_balloon:"\u{1f4ad}",ticket:"\u{1f3ab}",tickets:"\u{1f39f}",tiger:"\u{1f42f}",tiger2:"\u{1f405}",timer_clock:"\u23f2",tipping_hand_man:"\u{1f481}&zwj;\u2642\ufe0f",tired_face:"\u{1f62b}",tm:"\u2122\ufe0f",toilet:"\u{1f6bd}",tokyo_tower:"\u{1f5fc}",tomato:"\u{1f345}",tongue:"\u{1f445}",top:"\u{1f51d}",tophat:"\u{1f3a9}",tornado:"\u{1f32a}",trackball:"\u{1f5b2}",tractor:"\u{1f69c}",traffic_light:"\u{1f6a5}",train:"\u{1f68b}",train2:"\u{1f686}",tram:"\u{1f68a}",triangular_flag_on_post:"\u{1f6a9}",triangular_ruler:"\u{1f4d0}",trident:"\u{1f531}",triumph:"\u{1f624}",trolleybus:"\u{1f68e}",trophy:"\u{1f3c6}",tropical_drink:"\u{1f379}",tropical_fish:"\u{1f420}",truck:"\u{1f69a}",trumpet:"\u{1f3ba}",tulip:"\u{1f337}",tumbler_glass:"\u{1f943}",turkey:"\u{1f983}",turtle:"\u{1f422}",tv:"\u{1f4fa}",twisted_rightwards_arrows:"\u{1f500}",two_hearts:"\u{1f495}",two_men_holding_hands:"\u{1f46c}",two_women_holding_hands:"\u{1f46d}",u5272:"\u{1f239}",u5408:"\u{1f234}",u55b6:"\u{1f23a}",u6307:"\u{1f22f}\ufe0f",u6708:"\u{1f237}\ufe0f",u6709:"\u{1f236}",u6e80:"\u{1f235}",u7121:"\u{1f21a}\ufe0f",u7533:"\u{1f238}",u7981:"\u{1f232}",u7a7a:"\u{1f233}",umbrella:"\u2614\ufe0f",unamused:"\u{1f612}",underage:"\u{1f51e}",unicorn:"\u{1f984}",unlock:"\u{1f513}",up:"\u{1f199}",upside_down_face:"\u{1f643}",v:"\u270c\ufe0f",vertical_traffic_light:"\u{1f6a6}",vhs:"\u{1f4fc}",vibration_mode:"\u{1f4f3}",video_camera:"\u{1f4f9}",video_game:"\u{1f3ae}",violin:"\u{1f3bb}",virgo:"\u264d\ufe0f",volcano:"\u{1f30b}",volleyball:"\u{1f3d0}",vs:"\u{1f19a}",vulcan_salute:"\u{1f596}",walking_man:"\u{1f6b6}",walking_woman:"\u{1f6b6}&zwj;\u2640\ufe0f",waning_crescent_moon:"\u{1f318}",waning_gibbous_moon:"\u{1f316}",warning:"\u26a0\ufe0f",wastebasket:"\u{1f5d1}",watch:"\u231a\ufe0f",water_buffalo:"\u{1f403}",watermelon:"\u{1f349}",wave:"\u{1f44b}",wavy_dash:"\u3030\ufe0f",waxing_crescent_moon:"\u{1f312}",wc:"\u{1f6be}",weary:"\u{1f629}",wedding:"\u{1f492}",weight_lifting_man:"\u{1f3cb}\ufe0f",weight_lifting_woman:"\u{1f3cb}\ufe0f&zwj;\u2640\ufe0f",whale:"\u{1f433}",whale2:"\u{1f40b}",wheel_of_dharma:"\u2638\ufe0f",wheelchair:"\u267f\ufe0f",white_check_mark:"\u2705",white_circle:"\u26aa\ufe0f",white_flag:"\u{1f3f3}\ufe0f",white_flower:"\u{1f4ae}",white_large_square:"\u2b1c\ufe0f",white_medium_small_square:"\u25fd\ufe0f",white_medium_square:"\u25fb\ufe0f",white_small_square:"\u25ab\ufe0f",white_square_button:"\u{1f533}",wilted_flower:"\u{1f940}",wind_chime:"\u{1f390}",wind_face:"\u{1f32c}",wine_glass:"\u{1f377}",wink:"\u{1f609}",wolf:"\u{1f43a}",woman:"\u{1f469}",woman_artist:"\u{1f469}&zwj;\u{1f3a8}",woman_astronaut:"\u{1f469}&zwj;\u{1f680}",woman_cartwheeling:"\u{1f938}&zwj;\u2640\ufe0f",woman_cook:"\u{1f469}&zwj;\u{1f373}",woman_facepalming:"\u{1f926}&zwj;\u2640\ufe0f",woman_factory_worker:"\u{1f469}&zwj;\u{1f3ed}",woman_farmer:"\u{1f469}&zwj;\u{1f33e}",woman_firefighter:"\u{1f469}&zwj;\u{1f692}",woman_health_worker:"\u{1f469}&zwj;\u2695\ufe0f",woman_judge:"\u{1f469}&zwj;\u2696\ufe0f",woman_juggling:"\u{1f939}&zwj;\u2640\ufe0f",woman_mechanic:"\u{1f469}&zwj;\u{1f527}",woman_office_worker:"\u{1f469}&zwj;\u{1f4bc}",woman_pilot:"\u{1f469}&zwj;\u2708\ufe0f",woman_playing_handball:"\u{1f93e}&zwj;\u2640\ufe0f",woman_playing_water_polo:"\u{1f93d}&zwj;\u2640\ufe0f",woman_scientist:"\u{1f469}&zwj;\u{1f52c}",woman_shrugging:"\u{1f937}&zwj;\u2640\ufe0f",woman_singer:"\u{1f469}&zwj;\u{1f3a4}",woman_student:"\u{1f469}&zwj;\u{1f393}",woman_teacher:"\u{1f469}&zwj;\u{1f3eb}",woman_technologist:"\u{1f469}&zwj;\u{1f4bb}",woman_with_turban:"\u{1f473}&zwj;\u2640\ufe0f",womans_clothes:"\u{1f45a}",womans_hat:"\u{1f452}",women_wrestling:"\u{1f93c}&zwj;\u2640\ufe0f",womens:"\u{1f6ba}",world_map:"\u{1f5fa}",worried:"\u{1f61f}",wrench:"\u{1f527}",writing_hand:"\u270d\ufe0f",x:"\u274c",yellow_heart:"\u{1f49b}",yen:"\u{1f4b4}",yin_yang:"\u262f\ufe0f",yum:"\u{1f60b}",zap:"\u26a1\ufe0f",zipper_mouth_face:"\u{1f910}",zzz:"\u{1f4a4}",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},c.Converter=function(a){"use strict";var l={},u=[],T=[],f={},U=_,k={parsed:{},raw:"",format:""};function ne(B,ue){if(ue=ue||null,c.helper.isString(B)){if(ue=B=c.helper.stdExtName(B),c.extensions[B])return console.warn("DEPRECATION WARNING: "+B+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function le(B,ue){"function"==typeof B&&(B=B(new c.Converter)),c.helper.isArray(B)||(B=[B]);var pe=b(B,ue);if(!pe.valid)throw Error(pe.error);for(var _e=0;_e<B.length;++_e)switch(B[_e].type){case"lang":u.push(B[_e]);break;case"output":T.push(B[_e]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(c.extensions[B],B);if(c.helper.isUndefined(m[B]))throw Error('Extension "'+B+'" could not be loaded. It was either not found or is not a valid extension.');B=m[B]}"function"==typeof B&&(B=B()),c.helper.isArray(B)||(B=[B]);var pe=b(B,ue);if(!pe.valid)throw Error(pe.error);for(var _e=0;_e<B.length;++_e){switch(B[_e].type){case"lang":u.push(B[_e]);break;case"output":T.push(B[_e])}if(B[_e].hasOwnProperty("listeners"))for(var ee in B[_e].listeners)B[_e].listeners.hasOwnProperty(ee)&&oe(ee,B[_e].listeners[ee])}}function oe(B,ue){if(!c.helper.isString(B))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof B+" given");if("function"!=typeof ue)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof ue+" given");f.hasOwnProperty(B)||(f[B]=[]),f[B].push(ue)}!function Q(){for(var B in a=a||{},e)e.hasOwnProperty(B)&&(l[B]=e[B]);if("object"!=typeof a)throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");for(var ue in a)a.hasOwnProperty(ue)&&(l[ue]=a[ue]);l.extensions&&c.helper.forEach(l.extensions,ne)}(),this._dispatch=function(ue,pe,_e,ee){if(f.hasOwnProperty(ue))for(var K=0;K<f[ue].length;++K){var ae=f[ue][K](ue,pe,this,_e,ee);ae&&typeof ae<"u"&&(pe=ae)}return pe},this.listen=function(B,ue){return oe(B,ue),this},this.makeHtml=function(B){if(!B)return B;var ue={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:u,outputModifiers:T,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return B=(B=(B=(B=(B=B.replace(/\xa8/g,"\xa8T")).replace(/\$/g,"\xa8D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),l.smartIndentationFix&&(B=function de(B){var ue=B.match(/^\s*/)[0].length,pe=new RegExp("^\\s{0,"+ue+"}","gm");return B.replace(pe,"")}(B)),B="\n\n"+B+"\n\n",B=(B=c.subParser("detab")(B,l,ue)).replace(/^[ \t]+$/gm,""),c.helper.forEach(u,function(pe){B=c.subParser("runExtension")(pe,B,l,ue)}),B=c.subParser("metadata")(B,l,ue),B=c.subParser("hashPreCodeTags")(B,l,ue),B=c.subParser("githubCodeBlocks")(B,l,ue),B=c.subParser("hashHTMLBlocks")(B,l,ue),B=c.subParser("hashCodeTags")(B,l,ue),B=c.subParser("stripLinkDefinitions")(B,l,ue),B=c.subParser("blockGamut")(B,l,ue),B=c.subParser("unhashHTMLSpans")(B,l,ue),B=(B=(B=c.subParser("unescapeSpecialChars")(B,l,ue)).replace(/\xa8D/g,"$$")).replace(/\xa8T/g,"\xa8"),B=c.subParser("completeHTMLDocument")(B,l,ue),c.helper.forEach(T,function(pe){B=c.subParser("runExtension")(pe,B,l,ue)}),k=ue.metadata,B},this.makeMarkdown=this.makeMd=function(B,ue){if(B=(B=(B=B.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">\xa8NBSP;<"),!ue){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");ue=window.document}var pe=ue.createElement("div");pe.innerHTML=B;var _e={preList:function me($){for(var x=$.querySelectorAll("pre"),h=[],F=0;F<x.length;++F)if(1===x[F].childElementCount&&"code"===x[F].firstChild.tagName.toLowerCase()){var R=x[F].firstChild.innerHTML.trim(),ce=x[F].firstChild.getAttribute("data-language")||"";if(""===ce)for(var he=x[F].firstChild.className.split(" "),I=0;I<he.length;++I){var N=he[I].match(/^language-(.+)$/);if(null!==N){ce=N[1];break}}R=c.helper.unescapeHTMLEntities(R),h.push(R),x[F].outerHTML='<precode language="'+ce+'" precodenum="'+F.toString()+'"></precode>'}else h.push(x[F].innerHTML),x[F].innerHTML="",x[F].setAttribute("prenum",F.toString());return h}(pe)};!function se($){for(var x=0;x<$.childNodes.length;++x){var h=$.childNodes[x];3===h.nodeType?/\S/.test(h.nodeValue)||/^[ ]+$/.test(h.nodeValue)?(h.nodeValue=h.nodeValue.split("\n").join(" "),h.nodeValue=h.nodeValue.replace(/(\s)+/g,"$1")):($.removeChild(h),--x):1===h.nodeType&&se(h)}}(pe);for(var ee=pe.childNodes,K="",ae=0;ae<ee.length;ae++)K+=c.subParser("makeMarkdown.node")(ee[ae],_e);return K},this.setOption=function(B,ue){l[B]=ue},this.getOption=function(B){return l[B]},this.getOptions=function(){return l},this.addExtension=function(B,ue){ne(B,ue=ue||null)},this.useExtension=function(B){ne(B)},this.setFlavor=function(B){if(!E.hasOwnProperty(B))throw Error(B+" flavor was not found");var ue=E[B];for(var pe in U=B,ue)ue.hasOwnProperty(pe)&&(l[pe]=ue[pe])},this.getFlavor=function(){return U},this.removeExtension=function(B){c.helper.isArray(B)||(B=[B]);for(var ue=0;ue<B.length;++ue){for(var pe=B[ue],_e=0;_e<u.length;++_e)u[_e]===pe&&u.splice(_e,1);for(var ee=0;ee<T.length;++ee)T[ee]===pe&&T.splice(ee,1)}},this.getAllExtensions=function(){return{language:u,output:T}},this.getMetadata=function(B){return B?k.raw:k.parsed},this.getMetadataFormat=function(){return k.format},this._setMetadataPair=function(B,ue){k.parsed[B]=ue},this._setMetadataFormat=function(B){k.format=B},this._setMetadataRaw=function(B){k.raw=B}},c.subParser("anchors",function(a,l,u){"use strict";var T=function(f,U,k,Q,ne,le,oe){if(c.helper.isUndefined(oe)&&(oe=""),k=k.toLowerCase(),f.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)Q="";else if(!Q){if(k||(k=U.toLowerCase().replace(/ ?\n/g," ")),Q="#"+k,c.helper.isUndefined(u.gUrls[k]))return f;Q=u.gUrls[k],c.helper.isUndefined(u.gTitles[k])||(oe=u.gTitles[k])}var de='<a href="'+(Q=Q.replace(c.helper.regexes.asteriskDashAndColon,c.helper.escapeCharactersCallback))+'"';return""!==oe&&null!==oe&&(de+=' title="'+(oe=(oe=oe.replace(/"/g,"&quot;")).replace(c.helper.regexes.asteriskDashAndColon,c.helper.escapeCharactersCallback))+'"'),l.openLinksInNewWindow&&!/^#/.test(Q)&&(de+=' rel="noopener noreferrer" target="\xa8E95Eblank"'),de+">"+U+"</a>"};return a=(a=(a=(a=(a=u.converter._dispatch("anchors.before",a,l,u)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,T)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,T)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,T)).replace(/\[([^\[\]]+)]()()()()()/g,T),l.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(f,U,k,Q,ne){if("\\"===k)return U+Q;if(!c.helper.isString(l.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var le=l.ghMentionsLink.replace(/\{u}/g,ne),oe="";return l.openLinksInNewWindow&&(oe=' rel="noopener noreferrer" target="\xa8E95Eblank"'),U+'<a href="'+le+'"'+oe+">"+Q+"</a>"})),u.converter._dispatch("anchors.after",a,l,u)});var P=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,H=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,q=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,Y=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,z=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,J=function(a){"use strict";return function(l,u,T,f,U,k,Q){var ne=T=T.replace(c.helper.regexes.asteriskDashAndColon,c.helper.escapeCharactersCallback),le="",oe="",de=u||"",B=Q||"";return/^www\./i.test(T)&&(T=T.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&k&&(le=k),a.openLinksInNewWindow&&(oe=' rel="noopener noreferrer" target="\xa8E95Eblank"'),de+'<a href="'+T+'"'+oe+">"+ne+"</a>"+le+B}},Z=function(a,l){"use strict";return function(u,T,f){var U="mailto:";return T=T||"",f=c.subParser("unescapeSpecialChars")(f,a,l),a.encodeEmails?(U=c.helper.encodeEmailAddress(U+f),f=c.helper.encodeEmailAddress(f)):U+=f,T+'<a href="'+U+'">'+f+"</a>"}};c.subParser("autoLinks",function(a,l,u){"use strict";return a=(a=(a=u.converter._dispatch("autoLinks.before",a,l,u)).replace(q,J(l))).replace(z,Z(l,u)),u.converter._dispatch("autoLinks.after",a,l,u)}),c.subParser("simplifiedAutoLinks",function(a,l,u){"use strict";return l.simplifiedAutoLink&&(a=(a=(a=u.converter._dispatch("simplifiedAutoLinks.before",a,l,u)).replace(l.excludeTrailingPunctuationFromURLs?H:P,J(l))).replace(Y,Z(l,u)),a=u.converter._dispatch("simplifiedAutoLinks.after",a,l,u)),a}),c.subParser("blockGamut",function(a,l,u){"use strict";return a=u.converter._dispatch("blockGamut.before",a,l,u),a=c.subParser("blockQuotes")(a,l,u),a=c.subParser("headers")(a,l,u),a=c.subParser("horizontalRule")(a,l,u),a=c.subParser("lists")(a,l,u),a=c.subParser("codeBlocks")(a,l,u),a=c.subParser("tables")(a,l,u),a=c.subParser("hashHTMLBlocks")(a,l,u),a=c.subParser("paragraphs")(a,l,u),u.converter._dispatch("blockGamut.after",a,l,u)}),c.subParser("blockQuotes",function(a,l,u){"use strict";a=u.converter._dispatch("blockQuotes.before",a,l,u);var T=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return l.splitAdjacentBlockquotes&&(T=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),a=(a+="\n\n").replace(T,function(f){return f=(f=(f=f.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/\xa80/g,"")).replace(/^[ \t]+$/gm,""),f=c.subParser("githubCodeBlocks")(f,l,u),f=(f=(f=c.subParser("blockGamut")(f,l,u)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(U,k){var Q=k;return(Q=Q.replace(/^  /gm,"\xa80")).replace(/\xa80/g,"")}),c.subParser("hashBlock")("<blockquote>\n"+f+"\n</blockquote>",l,u)}),u.converter._dispatch("blockQuotes.after",a,l,u)}),c.subParser("codeBlocks",function(a,l,u){"use strict";return a=u.converter._dispatch("codeBlocks.before",a,l,u),a=(a=(a+="\xa80").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=\xa80))/g,function(f,U,k){var Q=U,ne=k,le="\n";return Q=c.subParser("outdent")(Q,l,u),Q=c.subParser("encodeCode")(Q,l,u),Q=(Q=(Q=c.subParser("detab")(Q,l,u)).replace(/^\n+/g,"")).replace(/\n+$/g,""),l.omitExtraWLInCodeBlocks&&(le=""),Q="<pre><code>"+Q+le+"</code></pre>",c.subParser("hashBlock")(Q,l,u)+ne})).replace(/\xa80/,""),u.converter._dispatch("codeBlocks.after",a,l,u)}),c.subParser("codeSpans",function(a,l,u){"use strict";return typeof(a=u.converter._dispatch("codeSpans.before",a,l,u))>"u"&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(T,f,U,k){var Q=k;return Q=(Q=Q.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),Q=f+"<code>"+(Q=c.subParser("encodeCode")(Q,l,u))+"</code>",c.subParser("hashHTMLSpans")(Q,l,u)}),u.converter._dispatch("codeSpans.after",a,l,u)}),c.subParser("completeHTMLDocument",function(a,l,u){"use strict";if(!l.completeHTMLDocument)return a;a=u.converter._dispatch("completeHTMLDocument.before",a,l,u);var T="html",f="<!DOCTYPE HTML>\n",U="",k='<meta charset="utf-8">\n',Q="",ne="";for(var le in typeof u.metadata.parsed.doctype<"u"&&(f="<!DOCTYPE "+u.metadata.parsed.doctype+">\n",("html"===(T=u.metadata.parsed.doctype.toString().toLowerCase())||"html5"===T)&&(k='<meta charset="utf-8">')),u.metadata.parsed)if(u.metadata.parsed.hasOwnProperty(le))switch(le.toLowerCase()){case"doctype":break;case"title":U="<title>"+u.metadata.parsed.title+"</title>\n";break;case"charset":k="html"===T||"html5"===T?'<meta charset="'+u.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+u.metadata.parsed.charset+'">\n';break;case"language":case"lang":Q=' lang="'+u.metadata.parsed[le]+'"',ne+='<meta name="'+le+'" content="'+u.metadata.parsed[le]+'">\n';break;default:ne+='<meta name="'+le+'" content="'+u.metadata.parsed[le]+'">\n'}return a=f+"<html"+Q+">\n<head>\n"+U+k+ne+"</head>\n<body>\n"+a.trim()+"\n</body>\n</html>",u.converter._dispatch("completeHTMLDocument.after",a,l,u)}),c.subParser("detab",function(a,l,u){"use strict";return a=(a=(a=(a=(a=(a=u.converter._dispatch("detab.before",a,l,u)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"\xa8A\xa8B")).replace(/\xa8B(.+?)\xa8A/g,function(T,f){for(var U=f,k=4-U.length%4,Q=0;Q<k;Q++)U+=" ";return U})).replace(/\xa8A/g,"    ")).replace(/\xa8B/g,""),u.converter._dispatch("detab.after",a,l,u)}),c.subParser("ellipsis",function(a,l,u){"use strict";return l.ellipsis&&(a=(a=u.converter._dispatch("ellipsis.before",a,l,u)).replace(/\.\.\./g,"\u2026"),a=u.converter._dispatch("ellipsis.after",a,l,u)),a}),c.subParser("emoji",function(a,l,u){"use strict";return l.emoji?(a=(a=u.converter._dispatch("emoji.before",a,l,u)).replace(/:([\S]+?):/g,function(f,U){return c.helper.emojis.hasOwnProperty(U)?c.helper.emojis[U]:f}),u.converter._dispatch("emoji.after",a,l,u)):a}),c.subParser("encodeAmpsAndAngles",function(a,l,u){"use strict";return a=(a=(a=(a=(a=u.converter._dispatch("encodeAmpsAndAngles.before",a,l,u)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),u.converter._dispatch("encodeAmpsAndAngles.after",a,l,u)}),c.subParser("encodeBackslashEscapes",function(a,l,u){"use strict";return a=(a=(a=u.converter._dispatch("encodeBackslashEscapes.before",a,l,u)).replace(/\\(\\)/g,c.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,c.helper.escapeCharactersCallback),u.converter._dispatch("encodeBackslashEscapes.after",a,l,u)}),c.subParser("encodeCode",function(a,l,u){"use strict";return a=(a=u.converter._dispatch("encodeCode.before",a,l,u)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,c.helper.escapeCharactersCallback),u.converter._dispatch("encodeCode.after",a,l,u)}),c.subParser("escapeSpecialCharsWithinTagAttributes",function(a,l,u){"use strict";return a=(a=(a=u.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,l,u)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(U){return U.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,c.helper.escapeCharactersCallback)})).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(U){return U.replace(/([\\`*_~=|])/g,c.helper.escapeCharactersCallback)}),u.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,l,u)}),c.subParser("githubCodeBlocks",function(a,l,u){"use strict";return l.ghCodeBlocks?(a=u.converter._dispatch("githubCodeBlocks.before",a,l,u),a=(a=(a+="\xa80").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(T,f,U,k){var Q=l.omitExtraWLInCodeBlocks?"":"\n";return k=c.subParser("encodeCode")(k,l,u),k="<pre><code"+(U?' class="'+U+" language-"+U+'"':"")+">"+(k=(k=(k=c.subParser("detab")(k,l,u)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+Q+"</code></pre>",k=c.subParser("hashBlock")(k,l,u),"\n\n\xa8G"+(u.ghCodeBlocks.push({text:T,codeblock:k})-1)+"G\n\n"})).replace(/\xa80/,""),u.converter._dispatch("githubCodeBlocks.after",a,l,u)):a}),c.subParser("hashBlock",function(a,l,u){"use strict";return a=(a=u.converter._dispatch("hashBlock.before",a,l,u)).replace(/(^\n+|\n+$)/g,""),a="\n\n\xa8K"+(u.gHtmlBlocks.push(a)-1)+"K\n\n",u.converter._dispatch("hashBlock.after",a,l,u)}),c.subParser("hashCodeTags",function(a,l,u){"use strict";return a=u.converter._dispatch("hashCodeTags.before",a,l,u),a=c.helper.replaceRecursiveRegExp(a,function(f,U,k,Q){var ne=k+c.subParser("encodeCode")(U,l,u)+Q;return"\xa8C"+(u.gHtmlSpans.push(ne)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),u.converter._dispatch("hashCodeTags.after",a,l,u)}),c.subParser("hashElement",function(a,l,u){"use strict";return function(T,f){var U=f;return U=(U=(U=U.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\n\xa8K"+(u.gHtmlBlocks.push(U)-1)+"K\n\n"}}),c.subParser("hashHTMLBlocks",function(a,l,u){"use strict";a=u.converter._dispatch("hashHTMLBlocks.before",a,l,u);var T=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],f=function(B,ue,pe,_e){var ee=B;return-1!==pe.search(/\bmarkdown\b/)&&(ee=pe+u.converter.makeHtml(ue)+_e),"\n\n\xa8K"+(u.gHtmlBlocks.push(ee)-1)+"K\n\n"};l.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(B,ue){return"&lt;"+ue+"&gt;"}));for(var U=0;U<T.length;++U)for(var k,Q=new RegExp("^ {0,3}(<"+T[U]+"\\b[^>]*>)","im"),ne="<"+T[U]+"\\b[^>]*>",le="</"+T[U]+">";-1!==(k=c.helper.regexIndexOf(a,Q));){var oe=c.helper.splitAtIndex(a,k),de=c.helper.replaceRecursiveRegExp(oe[1],f,ne,le,"im");if(de===oe[1])break;a=oe[0].concat(de)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,c.subParser("hashElement")(a,l,u)),a=(a=c.helper.replaceRecursiveRegExp(a,function(B){return"\n\n\xa8K"+(u.gHtmlBlocks.push(B)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,c.subParser("hashElement")(a,l,u)),u.converter._dispatch("hashHTMLBlocks.after",a,l,u)}),c.subParser("hashHTMLSpans",function(a,l,u){"use strict";function T(f){return"\xa8C"+(u.gHtmlSpans.push(f)-1)+"C"}return a=(a=(a=(a=(a=u.converter._dispatch("hashHTMLSpans.before",a,l,u)).replace(/<[^>]+?\/>/gi,function(f){return T(f)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(f){return T(f)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(f){return T(f)})).replace(/<[^>]+?>/gi,function(f){return T(f)}),u.converter._dispatch("hashHTMLSpans.after",a,l,u)}),c.subParser("unhashHTMLSpans",function(a,l,u){"use strict";a=u.converter._dispatch("unhashHTMLSpans.before",a,l,u);for(var T=0;T<u.gHtmlSpans.length;++T){for(var f=u.gHtmlSpans[T],U=0;/\xa8C(\d+)C/.test(f);){var k=RegExp.$1;if(f=f.replace("\xa8C"+k+"C",u.gHtmlSpans[k]),10===U){console.error("maximum nesting of 10 spans reached!!!");break}++U}a=a.replace("\xa8C"+T+"C",f)}return u.converter._dispatch("unhashHTMLSpans.after",a,l,u)}),c.subParser("hashPreCodeTags",function(a,l,u){"use strict";return a=u.converter._dispatch("hashPreCodeTags.before",a,l,u),a=c.helper.replaceRecursiveRegExp(a,function(f,U,k,Q){var ne=k+c.subParser("encodeCode")(U,l,u)+Q;return"\n\n\xa8G"+(u.ghCodeBlocks.push({text:f,codeblock:ne})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u.converter._dispatch("hashPreCodeTags.after",a,l,u)}),c.subParser("headers",function(a,l,u){"use strict";a=u.converter._dispatch("headers.before",a,l,u);var T=isNaN(parseInt(l.headerLevelStart))?1:parseInt(l.headerLevelStart),U=l.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;function Q(ne){var le,oe;if(l.customizedHeaderId){var de=ne.match(/\{([^{]+?)}\s*$/);de&&de[1]&&(ne=de[1])}return le=ne,oe=c.helper.isString(l.prefixHeaderId)?l.prefixHeaderId:!0===l.prefixHeaderId?"section-":"",l.rawPrefixHeaderId||(le=oe+le),le=l.ghCompatibleHeaderId?le.replace(/ /g,"-").replace(/&amp;/g,"").replace(/\xa8T/g,"").replace(/\xa8D/g,"").replace(/[&+$,\/:;=?@"#{}|^\xa8~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():l.rawHeaderId?le.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/\xa8T/g,"\xa8").replace(/\xa8D/g,"$").replace(/["']/g,"-").toLowerCase():le.replace(/[^\w]/g,"").toLowerCase(),l.rawPrefixHeaderId&&(le=oe+le),u.hashLinkCounts[le]?le=le+"-"+u.hashLinkCounts[le]++:u.hashLinkCounts[le]=1,le}return a=(a=(a=a.replace(l.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(ne,le){var oe=c.subParser("spanGamut")(le,l,u),de=l.noHeaderId?"":' id="'+Q(le)+'"',ue="<h"+T+de+">"+oe+"</h"+T+">";return c.subParser("hashBlock")(ue,l,u)})).replace(U,function(ne,le){var oe=c.subParser("spanGamut")(le,l,u),de=l.noHeaderId?"":' id="'+Q(le)+'"',B=T+1,ue="<h"+B+de+">"+oe+"</h"+B+">";return c.subParser("hashBlock")(ue,l,u)})).replace(l.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(ne,le,oe){var de=oe;l.customizedHeaderId&&(de=oe.replace(/\s?\{([^{]+?)}\s*$/,""));var B=c.subParser("spanGamut")(de,l,u),ue=l.noHeaderId?"":' id="'+Q(oe)+'"',pe=T-1+le.length,_e="<h"+pe+ue+">"+B+"</h"+pe+">";return c.subParser("hashBlock")(_e,l,u)}),u.converter._dispatch("headers.after",a,l,u)}),c.subParser("horizontalRule",function(a,l,u){"use strict";a=u.converter._dispatch("horizontalRule.before",a,l,u);var T=c.subParser("hashBlock")("<hr />",l,u);return a=(a=(a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,T)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,T)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,T),u.converter._dispatch("horizontalRule.after",a,l,u)}),c.subParser("images",function(a,l,u){"use strict";function le(oe,de,B,ue,pe,_e,ee,K){var ae=u.gUrls,se=u.gTitles,me=u.gDimensions;if(B=B.toLowerCase(),K||(K=""),oe.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)ue="";else if(""===ue||null===ue){if((""===B||null===B)&&(B=de.toLowerCase().replace(/ ?\n/g," ")),ue="#"+B,c.helper.isUndefined(ae[B]))return oe;ue=ae[B],c.helper.isUndefined(se[B])||(K=se[B]),c.helper.isUndefined(me[B])||(pe=me[B].width,_e=me[B].height)}de=de.replace(/"/g,"&quot;").replace(c.helper.regexes.asteriskDashAndColon,c.helper.escapeCharactersCallback);var $='<img src="'+(ue=ue.replace(c.helper.regexes.asteriskDashAndColon,c.helper.escapeCharactersCallback))+'" alt="'+de+'"';return K&&c.helper.isString(K)&&($+=' title="'+(K=K.replace(/"/g,"&quot;").replace(c.helper.regexes.asteriskDashAndColon,c.helper.escapeCharactersCallback))+'"'),pe&&_e&&($+=' width="'+(pe="*"===pe?"auto":pe)+'"',$+=' height="'+(_e="*"===_e?"auto":_e)+'"'),$+" />"}return a=(a=(a=(a=(a=(a=u.converter._dispatch("images.before",a,l,u)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,le)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function ne(oe,de,B,ue,pe,_e,ee,K){return le(oe,de,B,ue=ue.replace(/\s/g,""),pe,_e,0,K)})).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,le)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,le)).replace(/!\[([^\[\]]+)]()()()()()/g,le),u.converter._dispatch("images.after",a,l,u)}),c.subParser("italicsAndBold",function(a,l,u){"use strict";function T(f,U,k){return U+f+k}return a=u.converter._dispatch("italicsAndBold.before",a,l,u),a=l.literalMidWordUnderscores?(a=(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(f,U){return T(U,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(f,U){return T(U,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(f,U){return T(U,"<em>","</em>")}):(a=(a=a.replace(/___(\S[\s\S]*?)___/g,function(f,U){return/\S$/.test(U)?T(U,"<strong><em>","</em></strong>"):f})).replace(/__(\S[\s\S]*?)__/g,function(f,U){return/\S$/.test(U)?T(U,"<strong>","</strong>"):f})).replace(/_([^\s_][\s\S]*?)_/g,function(f,U){return/\S$/.test(U)?T(U,"<em>","</em>"):f}),a=l.literalMidWordAsterisks?(a=(a=a.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(f,U,k){return T(k,U+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(f,U,k){return T(k,U+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(f,U,k){return T(k,U+"<em>","</em>")}):(a=(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(f,U){return/\S$/.test(U)?T(U,"<strong><em>","</em></strong>"):f})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(f,U){return/\S$/.test(U)?T(U,"<strong>","</strong>"):f})).replace(/\*([^\s*][\s\S]*?)\*/g,function(f,U){return/\S$/.test(U)?T(U,"<em>","</em>"):f}),u.converter._dispatch("italicsAndBold.after",a,l,u)}),c.subParser("lists",function(a,l,u){"use strict";function T(k,Q){u.gListLevel++,k=k.replace(/\n{2,}$/,"\n");var ne=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80| {0,3}([*+-]|\d+[.])[ \t]+))/gm,le=/\n[ \t]*\n(?!\xa80)/.test(k+="\xa80");return l.disableForced4SpacesIndentedSublists&&(ne=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(\xa80|\2([*+-]|\d+[.])[ \t]+))/gm),k=(k=k.replace(ne,function(oe,de,B,ue,pe,_e,ee){ee=ee&&""!==ee.trim();var K=c.subParser("outdent")(pe,l,u),ae="";return _e&&l.tasklists&&(ae=' class="task-list-item" style="list-style-type: none;"',K=K.replace(/^[ \t]*\[(x|X| )?]/m,function(){var se='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ee&&(se+=" checked"),se+">"})),K=K.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(se){return"\xa8A"+se}),de||K.search(/\n{2,}/)>-1?(K=c.subParser("githubCodeBlocks")(K,l,u),K=c.subParser("blockGamut")(K,l,u)):(K=(K=c.subParser("lists")(K,l,u)).replace(/\n$/,""),K=(K=c.subParser("hashHTMLBlocks")(K,l,u)).replace(/\n\n+/g,"\n\n"),K=le?c.subParser("paragraphs")(K,l,u):c.subParser("spanGamut")(K,l,u)),"<li"+ae+">"+(K=K.replace("\xa8A",""))+"</li>\n"})).replace(/\xa80/g,""),u.gListLevel--,Q&&(k=k.replace(/\s+$/,"")),k}function f(k,Q){if("ol"===Q){var ne=k.match(/^ *(\d+)\./);if(ne&&"1"!==ne[1])return' start="'+ne[1]+'"'}return""}function U(k,Q,ne){var le=l.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,oe=l.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,de="ul"===Q?le:oe,B="";if(-1!==k.search(de))!function pe(_e){var ee=_e.search(de),K=f(k,Q);-1!==ee?(B+="\n\n<"+Q+K+">\n"+T(_e.slice(0,ee),!!ne)+"</"+Q+">\n",de="ul"==(Q="ul"===Q?"ol":"ul")?le:oe,pe(_e.slice(ee))):B+="\n\n<"+Q+K+">\n"+T(_e,!!ne)+"</"+Q+">\n"}(k);else{var ue=f(k,Q);B="\n\n<"+Q+ue+">\n"+T(k,!!ne)+"</"+Q+">\n"}return B}return a=u.converter._dispatch("lists.before",a,l,u),a+="\xa80",a=(a=u.gListLevel?a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(k,Q,ne){return U(Q,ne.search(/[*+-]/g)>-1?"ul":"ol",!0)}):a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(\xa80|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(k,Q,ne,le){return U(ne,le.search(/[*+-]/g)>-1?"ul":"ol",!1)})).replace(/\xa80/,""),u.converter._dispatch("lists.after",a,l,u)}),c.subParser("metadata",function(a,l,u){"use strict";if(!l.metadata)return a;function T(f){u.metadata.raw=f,(f=(f=f.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(U,k,Q){return u.metadata.parsed[k]=Q,""})}return a=(a=(a=(a=u.converter._dispatch("metadata.before",a,l,u)).replace(/^\s*\xab\xab\xab+(\S*?)\n([\s\S]+?)\n\xbb\xbb\xbb+\n/,function(f,U,k){return T(k),"\xa8M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(f,U,k){return U&&(u.metadata.format=U),T(k),"\xa8M"})).replace(/\xa8M/g,""),u.converter._dispatch("metadata.after",a,l,u)}),c.subParser("outdent",function(a,l,u){"use strict";return a=(a=(a=u.converter._dispatch("outdent.before",a,l,u)).replace(/^(\t|[ ]{1,4})/gm,"\xa80")).replace(/\xa80/g,""),u.converter._dispatch("outdent.after",a,l,u)}),c.subParser("paragraphs",function(a,l,u){"use strict";for(var T=(a=(a=(a=u.converter._dispatch("paragraphs.before",a,l,u)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),f=[],U=T.length,k=0;k<U;k++){var Q=T[k];Q.search(/\xa8(K|G)(\d+)\1/g)>=0?f.push(Q):Q.search(/\S/)>=0&&(Q=(Q=c.subParser("spanGamut")(Q,l,u)).replace(/^([ \t]*)/g,"<p>"),f.push(Q+="</p>"))}for(U=f.length,k=0;k<U;k++){for(var ne="",le=f[k],oe=!1;/\xa8(K|G)(\d+)\1/.test(le);){var de=RegExp.$1,B=RegExp.$2;ne=(ne="K"===de?u.gHtmlBlocks[B]:oe?c.subParser("encodeCode")(u.ghCodeBlocks[B].text,l,u):u.ghCodeBlocks[B].codeblock).replace(/\$/g,"$$$$"),le=le.replace(/(\n\n)?\xa8(K|G)\d+\2(\n\n)?/,ne),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(le)&&(oe=!0)}f[k]=le}return a=(a=(a=f.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),u.converter._dispatch("paragraphs.after",a,l,u)}),c.subParser("runExtension",function(a,l,u,T){"use strict";if(a.filter)l=a.filter(l,T.converter,u);else if(a.regex){var f=a.regex;f instanceof RegExp||(f=new RegExp(f,"g")),l=l.replace(f,a.replace)}return l}),c.subParser("spanGamut",function(a,l,u){"use strict";return a=u.converter._dispatch("spanGamut.before",a,l,u),a=c.subParser("codeSpans")(a,l,u),a=c.subParser("escapeSpecialCharsWithinTagAttributes")(a,l,u),a=c.subParser("encodeBackslashEscapes")(a,l,u),a=c.subParser("images")(a,l,u),a=c.subParser("anchors")(a,l,u),a=c.subParser("autoLinks")(a,l,u),a=c.subParser("simplifiedAutoLinks")(a,l,u),a=c.subParser("emoji")(a,l,u),a=c.subParser("underline")(a,l,u),a=c.subParser("italicsAndBold")(a,l,u),a=c.subParser("strikethrough")(a,l,u),a=c.subParser("ellipsis")(a,l,u),a=c.subParser("hashHTMLSpans")(a,l,u),a=c.subParser("encodeAmpsAndAngles")(a,l,u),l.simpleLineBreaks?/\n\n\xa8K/.test(a)||(a=a.replace(/\n+/g,"<br />\n")):a=a.replace(/  +\n/g,"<br />\n"),u.converter._dispatch("spanGamut.after",a,l,u)}),c.subParser("strikethrough",function(a,l,u){"use strict";return l.strikethrough&&(a=(a=u.converter._dispatch("strikethrough.before",a,l,u)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(f,U){return function T(f){return l.simplifiedAutoLink&&(f=c.subParser("simplifiedAutoLinks")(f,l,u)),"<del>"+f+"</del>"}(U)}),a=u.converter._dispatch("strikethrough.after",a,l,u)),a}),c.subParser("stripLinkDefinitions",function(a,l,u){"use strict";var U=function(k,Q,ne,le,oe,de,B){return Q=Q.toLowerCase(),a.toLowerCase().split(Q).length-1<2?k:(u.gUrls[Q]=ne.match(/^data:.+?\/.+?;base64,/)?ne.replace(/\s/g,""):c.subParser("encodeAmpsAndAngles")(ne,l,u),de?de+B:(B&&(u.gTitles[Q]=B.replace(/"|'/g,"&quot;")),l.parseImgDimensions&&le&&oe&&(u.gDimensions[Q]={width:le,height:oe}),""))};return a=(a=(a=(a+="\xa80").replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=\xa80)|(?=\n\[))/gm,U)).replace(/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=\xa80))/gm,U)).replace(/\xa80/,"")}),c.subParser("tables",function(a,l,u){"use strict";if(!l.tables)return a;function U(oe){return/^:[ \t]*--*$/.test(oe)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(oe)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(oe)?' style="text-align:center;"':""}function k(oe,de){var B="";return oe=oe.trim(),(l.tablesHeaderId||l.tableHeaderId)&&(B=' id="'+oe.replace(/ /g,"_").toLowerCase()+'"'),"<th"+B+de+">"+(oe=c.subParser("spanGamut")(oe,l,u))+"</th>\n"}function Q(oe,de){return"<td"+de+">"+c.subParser("spanGamut")(oe,l,u)+"</td>\n"}function le(oe){var de,B=oe.split("\n");for(de=0;de<B.length;++de)/^ {0,3}\|/.test(B[de])&&(B[de]=B[de].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(B[de])&&(B[de]=B[de].replace(/\|[ \t]*$/,"")),B[de]=c.subParser("codeSpans")(B[de],l,u);var ue=B[0].split("|").map(function($){return $.trim()}),pe=B[1].split("|").map(function($){return $.trim()}),_e=[],ee=[],K=[],ae=[];for(B.shift(),B.shift(),de=0;de<B.length;++de)""!==B[de].trim()&&_e.push(B[de].split("|").map(function($){return $.trim()}));if(ue.length<pe.length)return oe;for(de=0;de<pe.length;++de)K.push(U(pe[de]));for(de=0;de<ue.length;++de)c.helper.isUndefined(K[de])&&(K[de]=""),ee.push(k(ue[de],K[de]));for(de=0;de<_e.length;++de){for(var se=[],me=0;me<ee.length;++me)c.helper.isUndefined(_e[de][me]),se.push(Q(_e[de][me],K[me]));ae.push(se)}return function ne(oe,de){for(var B="<table>\n<thead>\n<tr>\n",ue=oe.length,pe=0;pe<ue;++pe)B+=oe[pe];for(B+="</tr>\n</thead>\n<tbody>\n",pe=0;pe<de.length;++pe){B+="<tr>\n";for(var _e=0;_e<ue;++_e)B+=de[pe][_e];B+="</tr>\n"}return B+"</tbody>\n</table>\n"}(ee,ae)}return a=(a=(a=(a=u.converter._dispatch("tables.before",a,l,u)).replace(/\\(\|)/g,c.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|\xa80)/gm,le)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|\xa80)/gm,le),u.converter._dispatch("tables.after",a,l,u)}),c.subParser("underline",function(a,l,u){"use strict";return l.underline&&(a=u.converter._dispatch("underline.before",a,l,u),a=(a=l.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(T,f){return"<u>"+f+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(T,f){return"<u>"+f+"</u>"}):(a=a.replace(/___(\S[\s\S]*?)___/g,function(T,f){return/\S$/.test(f)?"<u>"+f+"</u>":T})).replace(/__(\S[\s\S]*?)__/g,function(T,f){return/\S$/.test(f)?"<u>"+f+"</u>":T})).replace(/(_)/g,c.helper.escapeCharactersCallback),a=u.converter._dispatch("underline.after",a,l,u)),a}),c.subParser("unescapeSpecialChars",function(a,l,u){"use strict";return a=(a=u.converter._dispatch("unescapeSpecialChars.before",a,l,u)).replace(/\xa8E(\d+)E/g,function(T,f){var U=parseInt(f);return String.fromCharCode(U)}),u.converter._dispatch("unescapeSpecialChars.after",a,l,u)}),c.subParser("makeMarkdown.blockquote",function(a,l){"use strict";var u="";if(a.hasChildNodes())for(var T=a.childNodes,f=T.length,U=0;U<f;++U){var k=c.subParser("makeMarkdown.node")(T[U],l);""!==k&&(u+=k)}return"> "+(u=u.trim()).split("\n").join("\n> ")}),c.subParser("makeMarkdown.codeBlock",function(a,l){"use strict";var u=a.getAttribute("language"),T=a.getAttribute("precodenum");return"```"+u+"\n"+l.preList[T]+"\n```"}),c.subParser("makeMarkdown.codeSpan",function(a){"use strict";return"`"+a.innerHTML+"`"}),c.subParser("makeMarkdown.emphasis",function(a,l){"use strict";var u="";if(a.hasChildNodes()){u+="*";for(var T=a.childNodes,f=T.length,U=0;U<f;++U)u+=c.subParser("makeMarkdown.node")(T[U],l);u+="*"}return u}),c.subParser("makeMarkdown.header",function(a,l,u){"use strict";var T=new Array(u+1).join("#"),f="";if(a.hasChildNodes()){f=T+" ";for(var U=a.childNodes,k=U.length,Q=0;Q<k;++Q)f+=c.subParser("makeMarkdown.node")(U[Q],l)}return f}),c.subParser("makeMarkdown.hr",function(){"use strict";return"---"}),c.subParser("makeMarkdown.image",function(a){"use strict";var l="";return a.hasAttribute("src")&&(l+="!["+a.getAttribute("alt")+"](",l+="<"+a.getAttribute("src")+">",a.hasAttribute("width")&&a.hasAttribute("height")&&(l+=" ="+a.getAttribute("width")+"x"+a.getAttribute("height")),a.hasAttribute("title")&&(l+=' "'+a.getAttribute("title")+'"'),l+=")"),l}),c.subParser("makeMarkdown.links",function(a,l){"use strict";var u="";if(a.hasChildNodes()&&a.hasAttribute("href")){var T=a.childNodes,f=T.length;u="[";for(var U=0;U<f;++U)u+=c.subParser("makeMarkdown.node")(T[U],l);u+="](",u+="<"+a.getAttribute("href")+">",a.hasAttribute("title")&&(u+=' "'+a.getAttribute("title")+'"'),u+=")"}return u}),c.subParser("makeMarkdown.list",function(a,l,u){"use strict";var T="";if(!a.hasChildNodes())return"";for(var f=a.childNodes,U=f.length,k=a.getAttribute("start")||1,Q=0;Q<U;++Q)typeof f[Q].tagName>"u"||"li"!==f[Q].tagName.toLowerCase()||(T+=("ol"===u?k.toString()+". ":"- ")+c.subParser("makeMarkdown.listItem")(f[Q],l),++k);return(T+="\n\x3c!-- --\x3e\n").trim()}),c.subParser("makeMarkdown.listItem",function(a,l){"use strict";for(var u="",T=a.childNodes,f=T.length,U=0;U<f;++U)u+=c.subParser("makeMarkdown.node")(T[U],l);return/\n$/.test(u)?u=u.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):u+="\n",u}),c.subParser("makeMarkdown.node",function(a,l,u){"use strict";u=u||!1;var T="";if(3===a.nodeType)return c.subParser("makeMarkdown.txt")(a,l);if(8===a.nodeType)return"\x3c!--"+a.data+"--\x3e\n\n";if(1!==a.nodeType)return"";switch(a.tagName.toLowerCase()){case"h1":u||(T=c.subParser("makeMarkdown.header")(a,l,1)+"\n\n");break;case"h2":u||(T=c.subParser("makeMarkdown.header")(a,l,2)+"\n\n");break;case"h3":u||(T=c.subParser("makeMarkdown.header")(a,l,3)+"\n\n");break;case"h4":u||(T=c.subParser("makeMarkdown.header")(a,l,4)+"\n\n");break;case"h5":u||(T=c.subParser("makeMarkdown.header")(a,l,5)+"\n\n");break;case"h6":u||(T=c.subParser("makeMarkdown.header")(a,l,6)+"\n\n");break;case"p":u||(T=c.subParser("makeMarkdown.paragraph")(a,l)+"\n\n");break;case"blockquote":u||(T=c.subParser("makeMarkdown.blockquote")(a,l)+"\n\n");break;case"hr":u||(T=c.subParser("makeMarkdown.hr")(a,l)+"\n\n");break;case"ol":u||(T=c.subParser("makeMarkdown.list")(a,l,"ol")+"\n\n");break;case"ul":u||(T=c.subParser("makeMarkdown.list")(a,l,"ul")+"\n\n");break;case"precode":u||(T=c.subParser("makeMarkdown.codeBlock")(a,l)+"\n\n");break;case"pre":u||(T=c.subParser("makeMarkdown.pre")(a,l)+"\n\n");break;case"table":u||(T=c.subParser("makeMarkdown.table")(a,l)+"\n\n");break;case"code":T=c.subParser("makeMarkdown.codeSpan")(a,l);break;case"em":case"i":T=c.subParser("makeMarkdown.emphasis")(a,l);break;case"strong":case"b":T=c.subParser("makeMarkdown.strong")(a,l);break;case"del":T=c.subParser("makeMarkdown.strikethrough")(a,l);break;case"a":T=c.subParser("makeMarkdown.links")(a,l);break;case"img":T=c.subParser("makeMarkdown.image")(a,l);break;default:T=a.outerHTML+"\n\n"}return T}),c.subParser("makeMarkdown.paragraph",function(a,l){"use strict";var u="";if(a.hasChildNodes())for(var T=a.childNodes,f=T.length,U=0;U<f;++U)u+=c.subParser("makeMarkdown.node")(T[U],l);return u.trim()}),c.subParser("makeMarkdown.pre",function(a,l){"use strict";var u=a.getAttribute("prenum");return"<pre>"+l.preList[u]+"</pre>"}),c.subParser("makeMarkdown.strikethrough",function(a,l){"use strict";var u="";if(a.hasChildNodes()){u+="~~";for(var T=a.childNodes,f=T.length,U=0;U<f;++U)u+=c.subParser("makeMarkdown.node")(T[U],l);u+="~~"}return u}),c.subParser("makeMarkdown.strong",function(a,l){"use strict";var u="";if(a.hasChildNodes()){u+="**";for(var T=a.childNodes,f=T.length,U=0;U<f;++U)u+=c.subParser("makeMarkdown.node")(T[U],l);u+="**"}return u}),c.subParser("makeMarkdown.table",function(a,l){"use strict";var k,Q,u="",T=[[],[]],f=a.querySelectorAll("thead>tr>th"),U=a.querySelectorAll("tbody>tr");for(k=0;k<f.length;++k){var ne=c.subParser("makeMarkdown.tableCell")(f[k],l),le="---";if(f[k].hasAttribute("style"))switch(f[k].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":le=":---";break;case"text-align:right;":le="---:";break;case"text-align:center;":le=":---:"}T[0][k]=ne.trim(),T[1][k]=le}for(k=0;k<U.length;++k){var de=T.push([])-1,B=U[k].getElementsByTagName("td");for(Q=0;Q<f.length;++Q){var ue=" ";typeof B[Q]<"u"&&(ue=c.subParser("makeMarkdown.tableCell")(B[Q],l)),T[de].push(ue)}}var pe=3;for(k=0;k<T.length;++k)for(Q=0;Q<T[k].length;++Q){var _e=T[k][Q].length;_e>pe&&(pe=_e)}for(k=0;k<T.length;++k){for(Q=0;Q<T[k].length;++Q)T[k][Q]=1===k?":"===T[k][Q].slice(-1)?c.helper.padEnd(T[k][Q].slice(-1),pe-1,"-")+":":c.helper.padEnd(T[k][Q],pe,"-"):c.helper.padEnd(T[k][Q],pe);u+="| "+T[k].join(" | ")+" |\n"}return u.trim()}),c.subParser("makeMarkdown.tableCell",function(a,l){"use strict";var u="";if(!a.hasChildNodes())return"";for(var T=a.childNodes,f=T.length,U=0;U<f;++U)u+=c.subParser("makeMarkdown.node")(T[U],l,!0);return u.trim()}),c.subParser("makeMarkdown.txt",function(a){"use strict";var l=a.nodeValue;return l=(l=l.replace(/ +/g," ")).replace(/\xa8NBSP;/g," "),(l=(l=(l=(l=(l=(l=(l=(l=c.helper.unescapeHTMLEntities(l)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")}),void 0!==(y=function(){"use strict";return c}.call(G,M,G,te))&&(te.exports=y)}).call(this)},1793:(te,G,M)=>{te.exports=v;var y=M(2016).EventEmitter;function v(){y.call(this)}M(6698)(v,y),v.Readable=M(309),v.Writable=M(6563),v.Duplex=M(247),v.Transform=M(6307),v.PassThrough=M(5096),v.finished=M(4618),v.pipeline=M(4514),v.Stream=v,v.prototype.pipe=function(c,g){var m=this;function e(H){c.writable&&!1===c.write(H)&&m.pause&&m.pause()}function _(){m.readable&&m.resume&&m.resume()}m.on("data",e),c.on("drain",_),!c._isStdio&&(!g||!1!==g.end)&&(m.on("end",b),m.on("close",C));var E=!1;function b(){E||(E=!0,c.end())}function C(){E||(E=!0,"function"==typeof c.destroy&&c.destroy())}function A(H){if(P(),0===y.listenerCount(this,"error"))throw H}function P(){m.removeListener("data",e),c.removeListener("drain",_),m.removeListener("end",b),m.removeListener("close",C),m.removeListener("error",A),c.removeListener("error",A),m.removeListener("end",P),m.removeListener("close",P),c.removeListener("close",P)}return m.on("error",A),c.on("error",A),m.on("end",P),m.on("close",P),c.on("close",P),c.emit("pipe",m),c}},2024:(te,G,M)=>{"use strict";var y=M(843).Buffer,D=y.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g(J){var Z;switch(this.encoding=function c(J){var Z=function v(J){if(!J)return"utf8";for(var Z;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(Z)return;J=(""+J).toLowerCase(),Z=!0}}(J);if("string"!=typeof Z&&(y.isEncoding===D||!D(J)))throw new Error("Unknown encoding: "+J);return Z||J}(J),this.encoding){case"utf16le":this.text=A,this.end=P,Z=4;break;case"utf8":this.fillLast=E,Z=4;break;case"base64":this.text=H,this.end=q,Z=3;break;default:return this.write=Y,void(this.end=z)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(Z)}function m(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function E(J){var Z=this.lastTotal-this.lastNeed,w=function _(J,Z,w){if(128!=(192&Z[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&Z.length>1){if(128!=(192&Z[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&Z.length>2&&128!=(192&Z[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==w?w:this.lastNeed<=J.length?(J.copy(this.lastChar,Z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,Z,0,J.length),void(this.lastNeed-=J.length))}function A(J,Z){if((J.length-Z)%2==0){var w=J.toString("utf16le",Z);if(w){var a=w.charCodeAt(w.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",Z,J.length-1)}function P(J){var Z=J&&J.length?this.write(J):"";return this.lastNeed?Z+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):Z}function H(J,Z){var w=(J.length-Z)%3;return 0===w?J.toString("base64",Z):(this.lastNeed=3-w,this.lastTotal=3,1===w?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",Z,J.length-w))}function q(J){var Z=J&&J.length?this.write(J):"";return this.lastNeed?Z+this.lastChar.toString("base64",0,3-this.lastNeed):Z}function Y(J){return J.toString(this.encoding)}function z(J){return J&&J.length?this.write(J):""}G.s=g,g.prototype.write=function(J){if(0===J.length)return"";var Z,w;if(this.lastNeed){if(void 0===(Z=this.fillLast(J)))return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<J.length?Z?Z+this.text(J,w):this.text(J,w):Z||""},g.prototype.end=function C(J){var Z=J&&J.length?this.write(J):"";return this.lastNeed?Z+"\ufffd":Z},g.prototype.text=function b(J,Z){var w=function e(J,Z,w){var a=Z.length-1;if(a<w)return 0;var l=m(Z[a]);return l>=0?(l>0&&(J.lastNeed=l-1),l):--a<w||-2===l?0:(l=m(Z[a]))>=0?(l>0&&(J.lastNeed=l-2),l):--a<w||-2===l?0:(l=m(Z[a]))>=0?(l>0&&(2===l?l=0:J.lastNeed=l-3),l):0}(this,J,Z);if(!this.lastNeed)return J.toString("utf8",Z);this.lastTotal=w;var a=J.length-(w-this.lastNeed);return J.copy(this.lastChar,0,a),J.toString("utf8",Z,a)},g.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},496:te=>{function M(y){try{if(!global.localStorage)return!1}catch{return!1}var D=global.localStorage[y];return null!=D&&"true"===String(D).toLowerCase()}te.exports=function G(y,D){if(M("noDeprecation"))return y;var v=!1;return function c(){if(!v){if(M("throwDeprecation"))throw new Error(D);M("traceDeprecation")?console.trace(D):console.warn(D),v=!0}return y.apply(this,arguments)}}},1647:te=>{te.exports={isArray:function(G){return Array.isArray?Array.isArray(G):"[object Array]"===Object.prototype.toString.call(G)}}},7546:(te,G,M)=>{var y=M(2138),D=M(7595),v=M(2014),c=M(7759);te.exports={xml2js:y,xml2json:D,js2xml:v,json2xml:c}},2014:(te,G,M)=>{var v,c,y=M(3599),D=M(1647).isArray;function m(w,a,l){return(!l&&w.spaces?"\n":"")+Array(a+1).join(w.spaces)}function e(w,a,l){if(a.ignoreAttributes)return"";"attributesFn"in a&&(w=a.attributesFn(w,c,v));var u,T,f,U,k=[];for(u in w)w.hasOwnProperty(u)&&null!=w[u]&&(U=a.noQuotesForNativeAttributes&&"string"!=typeof w[u]?"":'"',T=(T=""+w[u]).replace(/"/g,"&quot;"),f="attributeNameFn"in a?a.attributeNameFn(u,T,c,v):u,k.push(a.spaces&&a.indentAttributes?m(a,l+1,!1):" "),k.push(f+"="+U+("attributeValueFn"in a?a.attributeValueFn(T,u,c,v):T)+U));return w&&Object.keys(w).length&&a.spaces&&a.indentAttributes&&k.push(m(a,l,!1)),k.join("")}function _(w,a,l){return v=w,c="xml",a.ignoreDeclaration?"":"<?xml"+e(w[a.attributesKey],a,l)+"?>"}function E(w,a,l){if(a.ignoreInstruction)return"";var u;for(u in w)if(w.hasOwnProperty(u))break;var T="instructionNameFn"in a?a.instructionNameFn(u,w[u],c,v):u;if("object"==typeof w[u])return v=w,c=T,"<?"+T+e(w[u][a.attributesKey],a,l)+"?>";var f=w[u]?w[u]:"";return"instructionFn"in a&&(f=a.instructionFn(f,u,c,v)),"<?"+T+(f?" "+f:"")+"?>"}function b(w,a){return a.ignoreComment?"":"\x3c!--"+("commentFn"in a?a.commentFn(w,c,v):w)+"--\x3e"}function C(w,a){return a.ignoreCdata?"":"<![CDATA["+("cdataFn"in a?a.cdataFn(w,c,v):w.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function A(w,a){return a.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in a?a.doctypeFn(w,c,v):w)+">"}function P(w,a){return a.ignoreText?"":(w=(w=(w=""+w).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in a?a.textFn(w,c,v):w)}function Y(w,a,l,u){return w.reduce(function(T,f){var U=m(a,l,u&&!T);switch(f.type){case"element":return T+U+function q(w,a,l){v=w,c=w.name;var u=[],T="elementNameFn"in a?a.elementNameFn(w.name,w):w.name;u.push("<"+T),w[a.attributesKey]&&u.push(e(w[a.attributesKey],a,l));var f=w[a.elementsKey]&&w[a.elementsKey].length||w[a.attributesKey]&&"preserve"===w[a.attributesKey]["xml:space"];return f||(f="fullTagEmptyElementFn"in a?a.fullTagEmptyElementFn(w.name,w):a.fullTagEmptyElement),f?(u.push(">"),w[a.elementsKey]&&w[a.elementsKey].length&&(u.push(Y(w[a.elementsKey],a,l+1)),v=w,c=w.name),u.push(a.spaces&&function H(w,a){var l;if(w.elements&&w.elements.length)for(l=0;l<w.elements.length;++l)switch(w.elements[l][a.typeKey]){case"text":if(a.indentText)return!0;break;case"cdata":if(a.indentCdata)return!0;break;case"instruction":if(a.indentInstruction)return!0;break;default:return!0}return!1}(w,a)?"\n"+Array(l+1).join(a.spaces):""),u.push("</"+T+">")):u.push("/>"),u.join("")}(f,a,l);case"comment":return T+U+b(f[a.commentKey],a);case"doctype":return T+U+A(f[a.doctypeKey],a);case"cdata":return T+(a.indentCdata?U:"")+C(f[a.cdataKey],a);case"text":return T+(a.indentText?U:"")+P(f[a.textKey],a);case"instruction":var k={};return k[f[a.nameKey]]=f[a.attributesKey]?f:f[a.instructionKey],T+(a.indentInstruction?U:"")+E(k,a,l)}},"")}function z(w,a,l){var u;for(u in w)if(w.hasOwnProperty(u))switch(u){case a.parentKey:case a.attributesKey:break;case a.textKey:if(a.indentText||l)return!0;break;case a.cdataKey:if(a.indentCdata||l)return!0;break;case a.instructionKey:if(a.indentInstruction||l)return!0;break;default:return!0}return!1}function J(w,a,l,u,T){v=w,c=a;var f="elementNameFn"in l?l.elementNameFn(a,w):a;if(typeof w>"u"||null===w||""===w)return"fullTagEmptyElementFn"in l&&l.fullTagEmptyElementFn(a,w)||l.fullTagEmptyElement?"<"+f+"></"+f+">":"<"+f+"/>";var U=[];if(a){if(U.push("<"+f),"object"!=typeof w)return U.push(">"+P(w,l)+"</"+f+">"),U.join("");w[l.attributesKey]&&U.push(e(w[l.attributesKey],l,u));var k=z(w,l,!0)||w[l.attributesKey]&&"preserve"===w[l.attributesKey]["xml:space"];if(k||(k="fullTagEmptyElementFn"in l?l.fullTagEmptyElementFn(a,w):l.fullTagEmptyElement),!k)return U.push("/>"),U.join("");U.push(">")}return U.push(Z(w,l,u+1,!1)),v=w,c=a,a&&U.push((T?m(l,u,!1):"")+"</"+f+">"),U.join("")}function Z(w,a,l,u){var T,f,U,k=[];for(f in w)if(w.hasOwnProperty(f))for(U=D(w[f])?w[f]:[w[f]],T=0;T<U.length;++T){switch(f){case a.declarationKey:k.push(_(U[T],a,l));break;case a.instructionKey:k.push((a.indentInstruction?m(a,l,u):"")+E(U[T],a,l));break;case a.attributesKey:case a.parentKey:break;case a.textKey:k.push((a.indentText?m(a,l,u):"")+P(U[T],a));break;case a.cdataKey:k.push((a.indentCdata?m(a,l,u):"")+C(U[T],a));break;case a.doctypeKey:k.push(m(a,l,u)+A(U[T],a));break;case a.commentKey:k.push(m(a,l,u)+b(U[T],a));break;default:k.push(m(a,l,u)+J(U[T],f,a,l,z(U[T],a)))}u=u&&!k.length}return k.join("")}te.exports=function(w,a){a=function g(w){var a=y.copyOptions(w);return y.ensureFlagExists("ignoreDeclaration",a),y.ensureFlagExists("ignoreInstruction",a),y.ensureFlagExists("ignoreAttributes",a),y.ensureFlagExists("ignoreText",a),y.ensureFlagExists("ignoreComment",a),y.ensureFlagExists("ignoreCdata",a),y.ensureFlagExists("ignoreDoctype",a),y.ensureFlagExists("compact",a),y.ensureFlagExists("indentText",a),y.ensureFlagExists("indentCdata",a),y.ensureFlagExists("indentAttributes",a),y.ensureFlagExists("indentInstruction",a),y.ensureFlagExists("fullTagEmptyElement",a),y.ensureFlagExists("noQuotesForNativeAttributes",a),y.ensureSpacesExists(a),"number"==typeof a.spaces&&(a.spaces=Array(a.spaces+1).join(" ")),y.ensureKeyExists("declaration",a),y.ensureKeyExists("instruction",a),y.ensureKeyExists("attributes",a),y.ensureKeyExists("text",a),y.ensureKeyExists("comment",a),y.ensureKeyExists("cdata",a),y.ensureKeyExists("doctype",a),y.ensureKeyExists("type",a),y.ensureKeyExists("name",a),y.ensureKeyExists("elements",a),y.checkFnExists("doctype",a),y.checkFnExists("instruction",a),y.checkFnExists("cdata",a),y.checkFnExists("comment",a),y.checkFnExists("text",a),y.checkFnExists("instructionName",a),y.checkFnExists("elementName",a),y.checkFnExists("attributeName",a),y.checkFnExists("attributeValue",a),y.checkFnExists("attributes",a),y.checkFnExists("fullTagEmptyElement",a),a}(a);var l=[];return v=w,c="_root_",a.compact?l.push(Z(w,a,0,!0)):(w[a.declarationKey]&&l.push(_(w[a.declarationKey],a,0)),w[a.elementsKey]&&w[a.elementsKey].length&&l.push(Y(w[a.elementsKey],a,0,!l.length))),l.join("")}},7759:(te,G,M)=>{var y=M(2014);te.exports=function(D,v){D instanceof Buffer&&(D=D.toString());var c=null;if("string"==typeof D)try{c=JSON.parse(D)}catch{throw new Error("The JSON structure is invalid")}else c=D;return y(c,v)}},3599:(te,G,M)=>{var y=M(1647).isArray;te.exports={copyOptions:function(D){var v,c={};for(v in D)D.hasOwnProperty(v)&&(c[v]=D[v]);return c},ensureFlagExists:function(D,v){(!(D in v)||"boolean"!=typeof v[D])&&(v[D]=!1)},ensureSpacesExists:function(D){(!("spaces"in D)||"number"!=typeof D.spaces&&"string"!=typeof D.spaces)&&(D.spaces=0)},ensureAlwaysArrayExists:function(D){(!("alwaysArray"in D)||"boolean"!=typeof D.alwaysArray&&!y(D.alwaysArray))&&(D.alwaysArray=!1)},ensureKeyExists:function(D,v){(!(D+"Key"in v)||"string"!=typeof v[D+"Key"])&&(v[D+"Key"]=v.compact?"_"+D:D)},checkFnExists:function(D,v){return D+"Fn"in v}}},2138:(te,G,M)=>{var g,e,y=M(9528),v=M(3599),c=M(1647).isArray;function E(w){var a=Number(w);if(!isNaN(a))return a;var l=w.toLowerCase();return"true"===l||"false"!==l&&w}function b(w,a){var l;if(g.compact){if(!e[g[w+"Key"]]&&(c(g.alwaysArray)?-1!==g.alwaysArray.indexOf(g[w+"Key"]):g.alwaysArray)&&(e[g[w+"Key"]]=[]),e[g[w+"Key"]]&&!c(e[g[w+"Key"]])&&(e[g[w+"Key"]]=[e[g[w+"Key"]]]),w+"Fn"in g&&"string"==typeof a&&(a=g[w+"Fn"](a,e)),"instruction"===w&&("instructionFn"in g||"instructionNameFn"in g))for(l in a)if(a.hasOwnProperty(l))if("instructionFn"in g)a[l]=g.instructionFn(a[l],l,e);else{var u=a[l];delete a[l],a[g.instructionNameFn(l,u,e)]=u}c(e[g[w+"Key"]])?e[g[w+"Key"]].push(a):e[g[w+"Key"]]=a}else{e[g.elementsKey]||(e[g.elementsKey]=[]);var T={};if(T[g.typeKey]=w,"instruction"===w){for(l in a)if(a.hasOwnProperty(l))break;T[g.nameKey]="instructionNameFn"in g?g.instructionNameFn(l,a,e):l,g.instructionHasAttributes?(T[g.attributesKey]=a[l][g.attributesKey],"instructionFn"in g&&(T[g.attributesKey]=g.instructionFn(T[g.attributesKey],l,e))):("instructionFn"in g&&(a[l]=g.instructionFn(a[l],l,e)),T[g.instructionKey]=a[l])}else w+"Fn"in g&&(a=g[w+"Fn"](a,e)),T[g[w+"Key"]]=a;g.addParent&&(T[g.parentKey]=e),e[g.elementsKey].push(T)}}function C(w){var a;if("attributesFn"in g&&w&&(w=g.attributesFn(w,e)),(g.trim||"attributeValueFn"in g||"attributeNameFn"in g||g.nativeTypeAttributes)&&w)for(a in w)if(w.hasOwnProperty(a)&&(g.trim&&(w[a]=w[a].trim()),g.nativeTypeAttributes&&(w[a]=E(w[a])),"attributeValueFn"in g&&(w[a]=g.attributeValueFn(w[a],a,e)),"attributeNameFn"in g)){var l=w[a];delete w[a],w[g.attributeNameFn(a,w[a],e)]=l}return w}function A(w){var a={};if(w.body&&("xml"===w.name.toLowerCase()||g.instructionHasAttributes)){for(var u,l=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(u=l.exec(w.body));)a[u[1]]=u[2]||u[3]||u[4];a=C(a)}if("xml"===w.name.toLowerCase()){if(g.ignoreDeclaration)return;e[g.declarationKey]={},Object.keys(a).length&&(e[g.declarationKey][g.attributesKey]=a),g.addParent&&(e[g.declarationKey][g.parentKey]=e)}else{if(g.ignoreInstruction)return;g.trim&&(w.body=w.body.trim());var T={};g.instructionHasAttributes&&Object.keys(a).length?(T[w.name]={},T[w.name][g.attributesKey]=a):T[w.name]=w.body,b("instruction",T)}}function P(w,a){var l;if("object"==typeof w&&(a=w.attributes,w=w.name),a=C(a),"elementNameFn"in g&&(w=g.elementNameFn(w,e)),g.compact){var u;if(l={},!g.ignoreAttributes&&a&&Object.keys(a).length)for(u in l[g.attributesKey]={},a)a.hasOwnProperty(u)&&(l[g.attributesKey][u]=a[u]);!(w in e)&&(c(g.alwaysArray)?-1!==g.alwaysArray.indexOf(w):g.alwaysArray)&&(e[w]=[]),e[w]&&!c(e[w])&&(e[w]=[e[w]]),c(e[w])?e[w].push(l):e[w]=l}else e[g.elementsKey]||(e[g.elementsKey]=[]),(l={})[g.typeKey]="element",l[g.nameKey]=w,!g.ignoreAttributes&&a&&Object.keys(a).length&&(l[g.attributesKey]=a),g.alwaysChildren&&(l[g.elementsKey]=[]),e[g.elementsKey].push(l);l[g.parentKey]=e,e=l}function H(w){g.ignoreText||!w.trim()&&!g.captureSpacesBetweenElements||(g.trim&&(w=w.trim()),g.nativeType&&(w=E(w)),g.sanitize&&(w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),b("text",w))}function q(w){g.ignoreComment||(g.trim&&(w=w.trim()),b("comment",w))}function Y(w){var a=e[g.parentKey];g.addParent||delete e[g.parentKey],e=a}function z(w){g.ignoreCdata||(g.trim&&(w=w.trim()),b("cdata",w))}function J(w){g.ignoreDoctype||(w=w.replace(/^ /,""),g.trim&&(w=w.trim()),b("doctype",w))}function Z(w){w.note=w}te.exports=function(w,a){var l=y.parser(!0,{}),u={};if(e=u,g=function _(w){return g=v.copyOptions(w),v.ensureFlagExists("ignoreDeclaration",g),v.ensureFlagExists("ignoreInstruction",g),v.ensureFlagExists("ignoreAttributes",g),v.ensureFlagExists("ignoreText",g),v.ensureFlagExists("ignoreComment",g),v.ensureFlagExists("ignoreCdata",g),v.ensureFlagExists("ignoreDoctype",g),v.ensureFlagExists("compact",g),v.ensureFlagExists("alwaysChildren",g),v.ensureFlagExists("addParent",g),v.ensureFlagExists("trim",g),v.ensureFlagExists("nativeType",g),v.ensureFlagExists("nativeTypeAttributes",g),v.ensureFlagExists("sanitize",g),v.ensureFlagExists("instructionHasAttributes",g),v.ensureFlagExists("captureSpacesBetweenElements",g),v.ensureAlwaysArrayExists(g),v.ensureKeyExists("declaration",g),v.ensureKeyExists("instruction",g),v.ensureKeyExists("attributes",g),v.ensureKeyExists("text",g),v.ensureKeyExists("comment",g),v.ensureKeyExists("cdata",g),v.ensureKeyExists("doctype",g),v.ensureKeyExists("type",g),v.ensureKeyExists("name",g),v.ensureKeyExists("elements",g),v.ensureKeyExists("parent",g),v.checkFnExists("doctype",g),v.checkFnExists("instruction",g),v.checkFnExists("cdata",g),v.checkFnExists("comment",g),v.checkFnExists("text",g),v.checkFnExists("instructionName",g),v.checkFnExists("elementName",g),v.checkFnExists("attributeName",g),v.checkFnExists("attributeValue",g),v.checkFnExists("attributes",g),g}(a),l.opt={strictEntities:!0},l.onopentag=P,l.ontext=H,l.oncomment=q,l.onclosetag=Y,l.onerror=Z,l.oncdata=z,l.ondoctype=J,l.onprocessinginstruction=A,l.write(w).close(),u[g.elementsKey]){var T=u[g.elementsKey];delete u[g.elementsKey],u[g.elementsKey]=T,delete u.text}return u}},7595:(te,G,M)=>{var y=M(3599),D=M(2138);te.exports=function(c,g){var m,e,E;return m=function v(c){var g=y.copyOptions(c);return y.ensureSpacesExists(g),g}(g),e=D(c,m),E="compact"in m&&m.compact?"_parent":"parent",("addParent"in m&&m.addParent?JSON.stringify(e,function(b,C){return b===E?"_":C},m.spaces):JSON.stringify(e,null,m.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},2361:()=>{},4616:()=>{},2811:te=>{"use strict";te.exports=JSON.parse('{"name":"openai","version":"3.3.0","description":"Node.js library for the OpenAI API","repository":{"type":"git","url":"git@github.com:openai/openai-node.git"},"keywords":["openai","open","ai","gpt-3","gpt3"],"author":"OpenAI","license":"MIT","main":"./dist/index.js","types":"./dist/index.d.ts","scripts":{"build":"tsc --outDir dist/"},"dependencies":{"axios":"^0.26.0","form-data":"^4.0.0"},"devDependencies":{"@types/node":"^12.11.5","typescript":"^3.6.4"}}')}}]);